function u2(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Qb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $p={exports:{}},bu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function c2(){if(OE)return bu;OE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return bu.Fragment=t,bu.jsx=n,bu.jsxs=n,bu}var NE;function h2(){return NE||(NE=1,$p.exports=c2()),$p.exports}var at=h2(),Kp={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function f2(){if(PE)return Rt;PE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function R(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,k={};function $(N,J,it){this.props=N,this.context=J,this.refs=k,this.updater=it||V}$.prototype.isReactComponent={},$.prototype.setState=function(N,J){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,J,"setState")},$.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function X(){}X.prototype=$.prototype;function K(N,J,it){this.props=N,this.context=J,this.refs=k,this.updater=it||V}var ot=K.prototype=new X;ot.constructor=K,z(ot,$.prototype),ot.isPureReactComponent=!0;var rt=Array.isArray;function lt(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(N,J,it){var ht=it.ref;return{$$typeof:e,type:N,key:J,ref:ht!==void 0?ht:null,props:it}}function O(N,J){return I(N.type,J,N.props)}function M(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function U(N){var J={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(it){return J[it]})}var D=/\/+/g;function Bt(N,J){return typeof N=="object"&&N!==null&&N.key!=null?U(""+N.key):J.toString(36)}function Jt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(lt,lt):(N.status="pending",N.then(function(J){N.status==="pending"&&(N.status="fulfilled",N.value=J)},function(J){N.status==="pending"&&(N.status="rejected",N.reason=J)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Q(N,J,it,ht,vt){var It=typeof N;(It==="undefined"||It==="boolean")&&(N=null);var Ot=!1;if(N===null)Ot=!0;else switch(It){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(N.$$typeof){case e:case t:Ot=!0;break;case y:return Ot=N._init,Q(Ot(N._payload),J,it,ht,vt)}}if(Ot)return vt=vt(N),Ot=ht===""?"."+Bt(N,0):ht,rt(vt)?(it="",Ot!=null&&(it=Ot.replace(D,"$&/")+"/"),Q(vt,J,it,"",function(Kr){return Kr})):vt!=null&&(M(vt)&&(vt=O(vt,it+(vt.key==null||N&&N.key===vt.key?"":(""+vt.key).replace(D,"$&/")+"/")+Ot)),J.push(vt)),1;Ot=0;var ce=ht===""?".":ht+":";if(rt(N))for(var Yt=0;Yt<N.length;Yt++)ht=N[Yt],It=ce+Bt(ht,Yt),Ot+=Q(ht,J,it,It,vt);else if(Yt=R(N),typeof Yt=="function")for(N=Yt.call(N),Yt=0;!(ht=N.next()).done;)ht=ht.value,It=ce+Bt(ht,Yt++),Ot+=Q(ht,J,it,It,vt);else if(It==="object"){if(typeof N.then=="function")return Q(Jt(N),J,it,ht,vt);throw J=String(N),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function st(N,J,it){if(N==null)return N;var ht=[],vt=0;return Q(N,ht,"","",function(It){return J.call(it,It,vt++)}),ht}function ct(N){if(N._status===-1){var J=N._result;J=J(),J.then(function(it){(N._status===0||N._status===-1)&&(N._status=1,N._result=it)},function(it){(N._status===0||N._status===-1)&&(N._status=2,N._result=it)}),N._status===-1&&(N._status=0,N._result=J)}if(N._status===1)return N._result.default;throw N._result}var St=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Vt={map:st,forEach:function(N,J,it){st(N,function(){J.apply(this,arguments)},it)},count:function(N){var J=0;return st(N,function(){J++}),J},toArray:function(N){return st(N,function(J){return J})||[]},only:function(N){if(!M(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Rt.Activity=T,Rt.Children=Vt,Rt.Component=$,Rt.Fragment=n,Rt.Profiler=a,Rt.PureComponent=K,Rt.StrictMode=s,Rt.Suspense=m,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return C.H.useMemoCache(N)}},Rt.cache=function(N){return function(){return N.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(N,J,it){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ht=z({},N.props),vt=N.key;if(J!=null)for(It in J.key!==void 0&&(vt=""+J.key),J)!w.call(J,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&J.ref===void 0||(ht[It]=J[It]);var It=arguments.length-2;if(It===1)ht.children=it;else if(1<It){for(var Ot=Array(It),ce=0;ce<It;ce++)Ot[ce]=arguments[ce+2];ht.children=Ot}return I(N.type,vt,ht)},Rt.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},Rt.createElement=function(N,J,it){var ht,vt={},It=null;if(J!=null)for(ht in J.key!==void 0&&(It=""+J.key),J)w.call(J,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(vt[ht]=J[ht]);var Ot=arguments.length-2;if(Ot===1)vt.children=it;else if(1<Ot){for(var ce=Array(Ot),Yt=0;Yt<Ot;Yt++)ce[Yt]=arguments[Yt+2];vt.children=ce}if(N&&N.defaultProps)for(ht in Ot=N.defaultProps,Ot)vt[ht]===void 0&&(vt[ht]=Ot[ht]);return I(N,It,vt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(N){return{$$typeof:d,render:N}},Rt.isValidElement=M,Rt.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:ct}},Rt.memo=function(N,J){return{$$typeof:g,type:N,compare:J===void 0?null:J}},Rt.startTransition=function(N){var J=C.T,it={};C.T=it;try{var ht=N(),vt=C.S;vt!==null&&vt(it,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(lt,St)}catch(It){St(It)}finally{J!==null&&it.types!==null&&(J.types=it.types),C.T=J}},Rt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Rt.use=function(N){return C.H.use(N)},Rt.useActionState=function(N,J,it){return C.H.useActionState(N,J,it)},Rt.useCallback=function(N,J){return C.H.useCallback(N,J)},Rt.useContext=function(N){return C.H.useContext(N)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(N,J){return C.H.useDeferredValue(N,J)},Rt.useEffect=function(N,J){return C.H.useEffect(N,J)},Rt.useEffectEvent=function(N){return C.H.useEffectEvent(N)},Rt.useId=function(){return C.H.useId()},Rt.useImperativeHandle=function(N,J,it){return C.H.useImperativeHandle(N,J,it)},Rt.useInsertionEffect=function(N,J){return C.H.useInsertionEffect(N,J)},Rt.useLayoutEffect=function(N,J){return C.H.useLayoutEffect(N,J)},Rt.useMemo=function(N,J){return C.H.useMemo(N,J)},Rt.useOptimistic=function(N,J){return C.H.useOptimistic(N,J)},Rt.useReducer=function(N,J,it){return C.H.useReducer(N,J,it)},Rt.useRef=function(N){return C.H.useRef(N)},Rt.useState=function(N){return C.H.useState(N)},Rt.useSyncExternalStore=function(N,J,it){return C.H.useSyncExternalStore(N,J,it)},Rt.useTransition=function(){return C.H.useTransition()},Rt.version="19.2.0",Rt}var LE;function fd(){return LE||(LE=1,Kp.exports=f2()),Kp.exports}var L=fd();const bt=Qb(L),kE=u2({__proto__:null,default:bt},[L]);var Yp={exports:{}},wu={},Qp={exports:{}},Xp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function d2(){return UE||(UE=1,(function(e){function t(Q,st){var ct=Q.length;Q.push(st);t:for(;0<ct;){var St=ct-1>>>1,Vt=Q[St];if(0<a(Vt,st))Q[St]=st,Q[ct]=Vt,ct=St;else break t}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var st=Q[0],ct=Q.pop();if(ct!==st){Q[0]=ct;t:for(var St=0,Vt=Q.length,N=Vt>>>1;St<N;){var J=2*(St+1)-1,it=Q[J],ht=J+1,vt=Q[ht];if(0>a(it,ct))ht<Vt&&0>a(vt,it)?(Q[St]=vt,Q[ht]=ct,St=ht):(Q[St]=it,Q[J]=ct,St=J);else if(ht<Vt&&0>a(vt,ct))Q[St]=vt,Q[ht]=ct,St=ht;else break t}}return st}function a(Q,st){var ct=Q.sortIndex-st.sortIndex;return ct!==0?ct:Q.id-st.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,T=null,S=3,R=!1,V=!1,z=!1,k=!1,$=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ot(Q){for(var st=n(g);st!==null;){if(st.callback===null)s(g);else if(st.startTime<=Q)s(g),st.sortIndex=st.expirationTime,t(m,st);else break;st=n(g)}}function rt(Q){if(z=!1,ot(Q),!V)if(n(m)!==null)V=!0,lt||(lt=!0,U());else{var st=n(g);st!==null&&Jt(rt,st.startTime-Q)}}var lt=!1,C=-1,w=5,I=-1;function O(){return k?!0:!(e.unstable_now()-I<w)}function M(){if(k=!1,lt){var Q=e.unstable_now();I=Q;var st=!0;try{t:{V=!1,z&&(z=!1,X(C),C=-1),R=!0;var ct=S;try{e:{for(ot(Q),T=n(m);T!==null&&!(T.expirationTime>Q&&O());){var St=T.callback;if(typeof St=="function"){T.callback=null,S=T.priorityLevel;var Vt=St(T.expirationTime<=Q);if(Q=e.unstable_now(),typeof Vt=="function"){T.callback=Vt,ot(Q),st=!0;break e}T===n(m)&&s(m),ot(Q)}else s(m);T=n(m)}if(T!==null)st=!0;else{var N=n(g);N!==null&&Jt(rt,N.startTime-Q),st=!1}}break t}finally{T=null,S=ct,R=!1}st=void 0}}finally{st?U():lt=!1}}}var U;if(typeof K=="function")U=function(){K(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Bt=D.port2;D.port1.onmessage=M,U=function(){Bt.postMessage(null)}}else U=function(){$(M,0)};function Jt(Q,st){C=$(function(){Q(e.unstable_now())},st)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var st=3;break;default:st=S}var ct=S;S=st;try{return Q()}finally{S=ct}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(Q,st){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ct=S;S=Q;try{return st()}finally{S=ct}},e.unstable_scheduleCallback=function(Q,st,ct){var St=e.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?St+ct:St):ct=St,Q){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=ct+Vt,Q={id:y++,callback:st,priorityLevel:Q,startTime:ct,expirationTime:Vt,sortIndex:-1},ct>St?(Q.sortIndex=ct,t(g,Q),n(m)===null&&Q===n(g)&&(z?(X(C),C=-1):z=!0,Jt(rt,ct-St))):(Q.sortIndex=Vt,t(m,Q),V||R||(V=!0,lt||(lt=!0,U()))),Q},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(Q){var st=S;return function(){var ct=S;S=st;try{return Q.apply(this,arguments)}finally{S=ct}}}})(Xp)),Xp}var jE;function m2(){return jE||(jE=1,Qp.exports=d2()),Qp.exports}var Wp={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function p2(){if(zE)return sn;zE=1;var e=fd();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(m,g,null,y)},sn.flushSync=function(m){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=y,s.d.f()}},sn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},sn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},sn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,T=d(y,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:R}):y==="script"&&s.d.X(m,{crossOrigin:T,integrity:S,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},sn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,T=d(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},sn.requestFormReset=function(m){s.d.r(m)},sn.unstable_batchedUpdates=function(m,g){return m(g)},sn.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var BE;function Xb(){if(BE)return Wp.exports;BE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Wp.exports=p2(),Wp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function g2(){if(FE)return wu;FE=1;var e=m2(),t=fd(),n=Xb();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),i;if(p===u)return m(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=p;else{for(var _=!1,A=f.child;A;){if(A===o){_=!0,o=f,u=p;break}if(A===u){_=!0,u=f,o=p;break}A=A.sibling}if(!_){for(A=p.child;A;){if(A===o){_=!0,o=p,u=f;break}if(A===u){_=!0,u=p,o=f;break}A=A.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Bt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case $:return"Profiler";case k:return"StrictMode";case rt:return"Suspense";case lt:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case V:return"Portal";case K:return i.displayName||"Context";case X:return(i._context.displayName||"Context")+".Consumer";case ot:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:Bt(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return Bt(i(r))}catch{}}return null}var Jt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},St=[],Vt=-1;function N(i){return{current:i}}function J(i){0>Vt||(i.current=St[Vt],St[Vt]=null,Vt--)}function it(i,r){Vt++,St[Vt]=i.current,i.current=r}var ht=N(null),vt=N(null),It=N(null),Ot=N(null);function ce(i,r){switch(it(It,r),it(vt,i),it(ht,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?nE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=nE(r),i=iE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}J(ht),it(ht,i)}function Yt(){J(ht),J(vt),J(It)}function Kr(i){i.memoizedState!==null&&it(Ot,i);var r=ht.current,o=iE(r,i.type);r!==o&&(it(vt,i),it(ht,o))}function Qa(i){vt.current===i&&(J(ht),J(vt)),Ot.current===i&&(J(Ot),Tu._currentValue=ct)}var Xa,Wa;function Si(i){if(Xa===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Xa=r&&r[1]||"",Wa=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xa+i+Wa}var Tl=!1;function Yr(i,r){if(!i||Tl)return"";Tl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Y){var q=Y}Reflect.construct(i,[],tt)}else{try{tt.call()}catch(Y){q=Y}i.call(tt.prototype)}}else{try{throw Error()}catch(Y){q=Y}(tt=i())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Y){if(Y&&q&&typeof Y.stack=="string")return[Y.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),_=p[0],A=p[1];if(_&&A){var x=_.split(`
`),H=A.split(`
`);for(f=u=0;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(u===x.length||f===H.length)for(u=x.length-1,f=H.length-1;1<=u&&0<=f&&x[u]!==H[f];)f--;for(;1<=u&&0<=f;u--,f--)if(x[u]!==H[f]){if(u!==1||f!==1)do if(u--,f--,0>f||x[u]!==H[f]){var W=`
`+x[u].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=u&&0<=f);break}}}finally{Tl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Si(o):""}function El(i,r){switch(i.tag){case 26:case 27:case 5:return Si(i.type);case 16:return Si("Lazy");case 13:return i.child!==r&&r!==null?Si("Suspense Fallback"):Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return Yr(i.type,!1);case 11:return Yr(i.type.render,!1);case 1:return Yr(i.type,!0);case 31:return Si("Activity");default:return""}}function Sl(i){try{var r="",o=null;do r+=El(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Re=Object.prototype.hasOwnProperty,je=e.unstable_scheduleCallback,js=e.unstable_cancelCallback,Yd=e.unstable_shouldYield,Oc=e.unstable_requestPaint,cn=e.unstable_now,Qr=e.unstable_getCurrentPriorityLevel,Al=e.unstable_ImmediatePriority,bl=e.unstable_UserBlockingPriority,zs=e.unstable_NormalPriority,Qd=e.unstable_LowPriority,Nc=e.unstable_IdlePriority,Pc=e.log,Lc=e.unstable_setDisableYieldValue,ai=null,Ke=null;function jn(i){if(typeof Pc=="function"&&Lc(i),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ai,i)}catch{}}var _e=Math.clz32?Math.clz32:Uc,kc=Math.log,Za=Math.LN2;function Uc(i){return i>>>=0,i===0?32:31-(kc(i)/Za|0)|0}var Ai=256,Xr=262144,Ce=4194304;function bi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wi(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,p=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?f=bi(u):(_&=A,_!==0?f=bi(_):o||(o=A&~i,o!==0&&(f=bi(o))))):(A=u&~p,A!==0?f=bi(A):_!==0?f=bi(_):o||(o=u&~i,o!==0&&(f=bi(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function oi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Xd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jc(){var i=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),i}function Ri(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Wr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Wd(i,r,o,u,f,p){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,x=i.expirationTimes,H=i.hiddenUpdates;for(o=_&~o;0<o;){var W=31-_e(o),tt=1<<W;A[W]=0,x[W]=-1;var q=H[W];if(q!==null)for(H[W]=null,W=0;W<q.length;W++){var Y=q[W];Y!==null&&(Y.lane&=-536870913)}o&=~tt}u!==0&&Zr(i,u,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(_&~r))}function Zr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-_e(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function wl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-_e(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function Rl(i,r){var o=r&-r;return o=(o&42)!==0?1:Jr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Jr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ss(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function zc(){var i=st.p;return i!==0?i:(i=window.event,i===void 0?32:RE(i.type))}function li(i,r){var o=st.p;try{return st.p=i,r()}finally{st.p=o}}var ui=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ui,He="__reactProps$"+ui,Ci="__reactContainer$"+ui,Ja="__reactEvents$"+ui,Zd="__reactListeners$"+ui,Bc="__reactHandles$"+ui,Fc="__reactResources$"+ui,Ii="__reactMarker$"+ui;function to(i){delete i[Ie],delete i[He],delete i[Ja],delete i[Zd],delete i[Bc]}function Di(i){var r=i[Ie];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ci]||o[Ie]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=cE(i);i!==null;){if(o=i[Ie])return o;i=cE(i)}return r}i=o,o=i.parentNode}return null}function zn(i){if(i=i[Ie]||i[Ci]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function In(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function xi(i){var r=i[Fc];return r||(r=i[Fc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function De(i){i[Ii]=!0}var Cl=new Set,Il={};function Vi(i,r){Mi(i,r),Mi(i+"Capture",r)}function Mi(i,r){for(Il[i]=r,i=0;i<r.length;i++)Cl.add(r[i])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},Vl={};function Hc(i){return Re.call(Vl,i)?!0:Re.call(xl,i)?!1:Dl.test(i)?Vl[i]=!0:(xl[i]=!0,!1)}function eo(i,r,o){if(Hc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Dn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function xe(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function qe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Bs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ml(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,p=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,p.call(this,_)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xt(i){if(!i._valueTracker){var r=Bs(i)?"checked":"value";i._valueTracker=Ml(i,r,""+i[r])}}function ta(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Bs(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Oi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ea=/[\n"\\]/g;function mn(i){return i.replace(ea,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function no(i,r,o,u,f,p,_,A){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+qe(r)):i.value!==""+qe(r)&&(i.value=""+qe(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?Ol(i,_,qe(r)):o!=null?Ol(i,_,qe(o)):u!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+qe(A):i.removeAttribute("name")}function qc(i,r,o,u,f,p,_,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Xt(i);return}o=o!=null?""+qe(o):"",r=r!=null?""+qe(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Xt(i)}function Ol(i,r,o){r==="number"&&Oi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Fs(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+qe(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Gc(i,r,o){if(r!=null&&(r=""+qe(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+qe(o):""}function Hs(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Jt(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=qe(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Xt(i)}function pn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var $c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||$c.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Pl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Nl(i,f,u)}else for(var p in r)r.hasOwnProperty(p)&&Nl(i,p,r[p])}function io(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(i){return qs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ci(){}var Ll=null;function Bn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Gs=null,Ni=null;function na(i){var r=zn(i);if(r&&(i=r.stateNode)){var o=i[He]||null;t:switch(i=r.stateNode,r.type){case"input":if(no(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+mn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[He]||null;if(!f)throw Error(s(90));no(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&ta(u)}break t;case"textarea":Gc(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Fs(i,!!o.multiple,r,!1)}}}var ro=!1;function $s(i,r,o){if(ro)return i(r,o);ro=!0;try{var u=i(r);return u}finally{if(ro=!1,(Gs!==null||Ni!==null)&&(zh(),Gs&&(r=Gs,i=Ni,Ni=Gs=null,na(r),i)))for(r=0;r<i.length;r++)na(i[r])}}function hi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[He]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ia=!1;if(Fn)try{var te={};Object.defineProperty(te,"passive",{get:function(){ia=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{ia=!1}var Pi=null,kl=null,sa=null;function Ul(){if(sa)return sa;var i,r=kl,o=r.length,u,f="value"in Pi?Pi.value:Pi.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var _=o-i;for(u=1;u<=_&&r[o-u]===f[p-u];u++);return sa=f.slice(i,1<u?1-u:void 0)}function ra(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function rs(){return!0}function fi(){return!1}function Ye(i){function r(o,u,f,p,_){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?rs:fi,this.isPropagationStopped=fi,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),r}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=Ye(as),Ks=T({},as,{view:0,detail:0}),jl=Ye(Ks),Ys,ao,ki,oo=T({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ki&&(ki&&i.type==="mousemove"?(Ys=i.screenX-ki.screenX,ao=i.screenY-ki.screenY):ao=Ys=0,ki=i),Ys)},movementY:function(i){return"movementY"in i?i.movementY:ao}}),zl=Ye(oo),aa=T({},oo,{dataTransfer:0}),Yc=Ye(aa),Qc=T({},Ks,{relatedTarget:0}),oa=Ye(Qc),Bl=T({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),Xc=Ye(Bl),lo=T({},as,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Wc=Ye(lo),Zc=T({},as,{data:0}),Ui=Ye(Zc),Jc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=eh[i])?!!r[i]:!1}function Qs(){return nh}var hn=T({},Ks,{key:function(i){if(i.key){var r=Jc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ra(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?th[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(i){return i.type==="keypress"?ra(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ra(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ih=Ye(hn),sh=T({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=Ye(sh),h=T({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),v=Ye(h),E=T({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ye(E),B=T({},oo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ye(B),ut=T({},as,{newState:0,oldState:0}),Dt=Ye(ut),Te=[9,13,27,32],$t=Fn&&"CompositionEvent"in window,he=null;Fn&&"documentMode"in document&&(he=document.documentMode);var Hn=Fn&&"TextEvent"in window&&!he,ji=Fn&&(!$t||he&&8<he&&11>=he),di=" ",mi=!1;function la(i,r){switch(i){case"keyup":return Te.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var co=!1;function OI(i,r){switch(i){case"compositionend":return uo(r);case"keypress":return r.which!==32?null:(mi=!0,di);case"textInput":return i=r.data,i===di&&mi?null:i;default:return null}}function NI(i,r){if(co)return i==="compositionend"||!$t&&la(i,r)?(i=Ul(),sa=kl=Pi=null,co=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ji&&r.locale!=="ko"?null:r.data;default:return null}}var PI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d_(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!PI[i.type]:r==="textarea"}function m_(i,r,o,u){Gs?Ni?Ni.push(u):Ni=[u]:Gs=u,r=Kh(r,"onChange"),0<r.length&&(o=new Li("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Fl=null,Hl=null;function LI(i){XT(i,0)}function rh(i){var r=In(i);if(ta(r))return i}function p_(i,r){if(i==="change")return r}var g_=!1;if(Fn){var Jd;if(Fn){var tm="oninput"in document;if(!tm){var y_=document.createElement("div");y_.setAttribute("oninput","return;"),tm=typeof y_.oninput=="function"}Jd=tm}else Jd=!1;g_=Jd&&(!document.documentMode||9<document.documentMode)}function v_(){Fl&&(Fl.detachEvent("onpropertychange",__),Hl=Fl=null)}function __(i){if(i.propertyName==="value"&&rh(Hl)){var r=[];m_(r,Hl,i,Bn(i)),$s(LI,r)}}function kI(i,r,o){i==="focusin"?(v_(),Fl=r,Hl=o,Fl.attachEvent("onpropertychange",__)):i==="focusout"&&v_()}function UI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rh(Hl)}function jI(i,r){if(i==="click")return rh(r)}function zI(i,r){if(i==="input"||i==="change")return rh(r)}function BI(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var xn=typeof Object.is=="function"?Object.is:BI;function ql(i,r){if(xn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Re.call(r,f)||!xn(i[f],r[f]))return!1}return!0}function T_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function E_(i,r){var o=T_(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=T_(o)}}function S_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?S_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function A_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Oi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Oi(i.document)}return r}function em(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var FI=Fn&&"documentMode"in document&&11>=document.documentMode,ho=null,nm=null,Gl=null,im=!1;function b_(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;im||ho==null||ho!==Oi(u)||(u=ho,"selectionStart"in u&&em(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Gl&&ql(Gl,u)||(Gl=u,u=Kh(nm,"onSelect"),0<u.length&&(r=new Li("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=ho)))}function ua(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var fo={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},sm={},w_={};Fn&&(w_=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function ca(i){if(sm[i])return sm[i];if(!fo[i])return i;var r=fo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in w_)return sm[i]=r[o];return i}var R_=ca("animationend"),C_=ca("animationiteration"),I_=ca("animationstart"),HI=ca("transitionrun"),qI=ca("transitionstart"),GI=ca("transitioncancel"),D_=ca("transitionend"),x_=new Map,rm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rm.push("scrollEnd");function pi(i,r){x_.set(i,r),Vi(r,[i])}var ah=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},qn=[],mo=0,am=0;function oh(){for(var i=mo,r=am=mo=0;r<i;){var o=qn[r];qn[r++]=null;var u=qn[r];qn[r++]=null;var f=qn[r];qn[r++]=null;var p=qn[r];if(qn[r++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}p!==0&&V_(o,f,p)}}function lh(i,r,o,u){qn[mo++]=i,qn[mo++]=r,qn[mo++]=o,qn[mo++]=u,am|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function om(i,r,o,u){return lh(i,r,o,u),uh(i)}function ha(i,r){return lh(i,null,null,r),uh(i)}function V_(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-_e(o),i=p.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),p):null}function uh(i){if(50<du)throw du=0,gp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var po={};function $I(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,r,o,u){return new $I(i,r,o,u)}function lm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ls(i,r){var o=i.alternate;return o===null?(o=Vn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function M_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ch(i,r,o,u,f,p){var _=0;if(u=i,typeof i=="function")lm(i)&&(_=1);else if(typeof i=="string")_=WD(i,o,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Vn(31,o,r,f),i.elementType=I,i.lanes=p,i;case z:return fa(o.children,f,p,r);case k:_=8,f|=24;break;case $:return i=Vn(12,o,r,f|2),i.elementType=$,i.lanes=p,i;case rt:return i=Vn(13,o,r,f),i.elementType=rt,i.lanes=p,i;case lt:return i=Vn(19,o,r,f),i.elementType=lt,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:_=10;break t;case X:_=9;break t;case ot:_=11;break t;case C:_=14;break t;case w:_=16,u=null;break t}_=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Vn(_,o,r,f),r.elementType=i,r.type=u,r.lanes=p,r}function fa(i,r,o,u){return i=Vn(7,i,u,r),i.lanes=o,i}function um(i,r,o){return i=Vn(6,i,null,r),i.lanes=o,i}function O_(i){var r=Vn(18,null,null,0);return r.stateNode=i,r}function cm(i,r,o){return r=Vn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var N_=new WeakMap;function Gn(i,r){if(typeof i=="object"&&i!==null){var o=N_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Sl(r)},N_.set(i,r),r)}return{value:i,source:r,stack:Sl(r)}}var go=[],yo=0,hh=null,$l=0,$n=[],Kn=0,Xs=null,zi=1,Bi="";function us(i,r){go[yo++]=$l,go[yo++]=hh,hh=i,$l=r}function P_(i,r,o){$n[Kn++]=zi,$n[Kn++]=Bi,$n[Kn++]=Xs,Xs=i;var u=zi;i=Bi;var f=32-_e(u)-1;u&=~(1<<f),o+=1;var p=32-_e(r)+f;if(30<p){var _=f-f%5;p=(u&(1<<_)-1).toString(32),u>>=_,f-=_,zi=1<<32-_e(r)+f|o<<f|u,Bi=p+i}else zi=1<<p|o<<f|u,Bi=i}function hm(i){i.return!==null&&(us(i,1),P_(i,1,0))}function fm(i){for(;i===hh;)hh=go[--yo],go[yo]=null,$l=go[--yo],go[yo]=null;for(;i===Xs;)Xs=$n[--Kn],$n[Kn]=null,Bi=$n[--Kn],$n[Kn]=null,zi=$n[--Kn],$n[Kn]=null}function L_(i,r){$n[Kn++]=zi,$n[Kn++]=Bi,$n[Kn++]=Xs,zi=r.id,Bi=r.overflow,Xs=i}var Qe=null,ae=null,Ft=!1,Ws=null,Yn=!1,dm=Error(s(519));function Zs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(Gn(r,i)),dm}function k_(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ie]=i,r[He]=u,o){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(o=0;o<pu.length;o++)Pt(pu[o],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":Pt("invalid",r),qc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pt("invalid",r);break;case"textarea":Pt("invalid",r),Hs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||tE(r.textContent,o)?(u.popover!=null&&(Pt("beforetoggle",r),Pt("toggle",r)),u.onScroll!=null&&Pt("scroll",r),u.onScrollEnd!=null&&Pt("scrollend",r),u.onClick!=null&&(r.onclick=ci),r=!0):r=!1,r||Zs(i,!0)}function U_(i){for(Qe=i.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Qe=Qe.return}}function vo(i){if(i!==Qe)return!1;if(!Ft)return U_(i),Ft=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Vp(i.type,i.memoizedProps)),o=!o),o&&ae&&Zs(i),U_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ae=uE(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ae=uE(i)}else r===27?(r=ae,fr(i.type)?(i=Lp,Lp=null,ae=i):ae=r):ae=Qe?Xn(i.stateNode.nextSibling):null;return!0}function da(){ae=Qe=null,Ft=!1}function mm(){var i=Ws;return i!==null&&(_n===null?_n=i:_n.push.apply(_n,i),Ws=null),i}function Kl(i){Ws===null?Ws=[i]:Ws.push(i)}var pm=N(null),ma=null,cs=null;function Js(i,r,o){it(pm,r._currentValue),r._currentValue=o}function hs(i){i._currentValue=pm.current,J(pm)}function gm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function ym(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var _=f.child;p=p.firstContext;t:for(;p!==null;){var A=p;p=f;for(var x=0;x<r.length;x++)if(A.context===r[x]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),gm(p.return,o,i),u||(_=null);break t}p=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=o,p=_.alternate,p!==null&&(p.lanes|=o),gm(_,o,i),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function _o(i,r,o,u){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var A=f.type;xn(f.pendingProps.value,_.value)||(i!==null?i.push(A):i=[A])}}else if(f===Ot.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Tu):i=[Tu])}f=f.return}i!==null&&ym(r,i,o,u),r.flags|=262144}function fh(i){for(i=i.firstContext;i!==null;){if(!xn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function pa(i){ma=i,cs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xe(i){return j_(ma,i)}function dh(i,r){return ma===null&&pa(i),j_(i,r)}function j_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},cs===null){if(i===null)throw Error(s(308));cs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else cs=cs.next=r;return o}var KI=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},YI=e.unstable_scheduleCallback,QI=e.unstable_NormalPriority,Ve={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vm(){return{controller:new KI,data:new Map,refCount:0}}function Yl(i){i.refCount--,i.refCount===0&&YI(QI,function(){i.controller.abort()})}var Ql=null,_m=0,To=0,Eo=null;function XI(i,r){if(Ql===null){var o=Ql=[];_m=0,To=Sp(),Eo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return _m++,r.then(z_,z_),r}function z_(){if(--_m===0&&Ql!==null){Eo!==null&&(Eo.status="fulfilled");var i=Ql;Ql=null,To=0,Eo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function WI(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var B_=Q.S;Q.S=function(i,r){bT=cn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&XI(i,r),B_!==null&&B_(i,r)};var ga=N(null);function Tm(){var i=ga.current;return i!==null?i:se.pooledCache}function mh(i,r){r===null?it(ga,ga.current):it(ga,r.pool)}function F_(){var i=Tm();return i===null?null:{parent:Ve._currentValue,pool:i}}var So=Error(s(460)),Em=Error(s(474)),ph=Error(s(542)),gh={then:function(){}};function H_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function q_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ci,ci),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,$_(i),i;default:if(typeof r.status=="string")r.then(ci,ci);else{if(i=se,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,$_(i),i}throw va=r,So}}function ya(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(va=o,So):o}}var va=null;function G_(){if(va===null)throw Error(s(459));var i=va;return va=null,i}function $_(i){if(i===So||i===ph)throw Error(s(483))}var Ao=null,Xl=0;function yh(i){var r=Xl;return Xl+=1,Ao===null&&(Ao=[]),q_(Ao,i,r)}function Wl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function vh(i,r){throw r.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function K_(i){function r(j,P){if(i){var F=j.deletions;F===null?(j.deletions=[P],j.flags|=16):F.push(P)}}function o(j,P){if(!i)return null;for(;P!==null;)r(j,P),P=P.sibling;return null}function u(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function f(j,P){return j=ls(j,P),j.index=0,j.sibling=null,j}function p(j,P,F){return j.index=F,i?(F=j.alternate,F!==null?(F=F.index,F<P?(j.flags|=67108866,P):F):(j.flags|=67108866,P)):(j.flags|=1048576,P)}function _(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function A(j,P,F,Z){return P===null||P.tag!==6?(P=um(F,j.mode,Z),P.return=j,P):(P=f(P,F),P.return=j,P)}function x(j,P,F,Z){var gt=F.type;return gt===z?W(j,P,F.props.children,Z,F.key):P!==null&&(P.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&ya(gt)===P.type)?(P=f(P,F.props),Wl(P,F),P.return=j,P):(P=ch(F.type,F.key,F.props,null,j.mode,Z),Wl(P,F),P.return=j,P)}function H(j,P,F,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=cm(F,j.mode,Z),P.return=j,P):(P=f(P,F.children||[]),P.return=j,P)}function W(j,P,F,Z,gt){return P===null||P.tag!==7?(P=fa(F,j.mode,Z,gt),P.return=j,P):(P=f(P,F),P.return=j,P)}function tt(j,P,F){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=um(""+P,j.mode,F),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case R:return F=ch(P.type,P.key,P.props,null,j.mode,F),Wl(F,P),F.return=j,F;case V:return P=cm(P,j.mode,F),P.return=j,P;case w:return P=ya(P),tt(j,P,F)}if(Jt(P)||U(P))return P=fa(P,j.mode,F,null),P.return=j,P;if(typeof P.then=="function")return tt(j,yh(P),F);if(P.$$typeof===K)return tt(j,dh(j,P),F);vh(j,P)}return null}function q(j,P,F,Z){var gt=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return gt!==null?null:A(j,P,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case R:return F.key===gt?x(j,P,F,Z):null;case V:return F.key===gt?H(j,P,F,Z):null;case w:return F=ya(F),q(j,P,F,Z)}if(Jt(F)||U(F))return gt!==null?null:W(j,P,F,Z,null);if(typeof F.then=="function")return q(j,P,yh(F),Z);if(F.$$typeof===K)return q(j,P,dh(j,F),Z);vh(j,F)}return null}function Y(j,P,F,Z,gt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(F)||null,A(P,j,""+Z,gt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:return j=j.get(Z.key===null?F:Z.key)||null,x(P,j,Z,gt);case V:return j=j.get(Z.key===null?F:Z.key)||null,H(P,j,Z,gt);case w:return Z=ya(Z),Y(j,P,F,Z,gt)}if(Jt(Z)||U(Z))return j=j.get(F)||null,W(P,j,Z,gt,null);if(typeof Z.then=="function")return Y(j,P,F,yh(Z),gt);if(Z.$$typeof===K)return Y(j,P,F,dh(P,Z),gt);vh(P,Z)}return null}function dt(j,P,F,Z){for(var gt=null,qt=null,pt=P,Mt=P=0,kt=null;pt!==null&&Mt<F.length;Mt++){pt.index>Mt?(kt=pt,pt=null):kt=pt.sibling;var Gt=q(j,pt,F[Mt],Z);if(Gt===null){pt===null&&(pt=kt);break}i&&pt&&Gt.alternate===null&&r(j,pt),P=p(Gt,P,Mt),qt===null?gt=Gt:qt.sibling=Gt,qt=Gt,pt=kt}if(Mt===F.length)return o(j,pt),Ft&&us(j,Mt),gt;if(pt===null){for(;Mt<F.length;Mt++)pt=tt(j,F[Mt],Z),pt!==null&&(P=p(pt,P,Mt),qt===null?gt=pt:qt.sibling=pt,qt=pt);return Ft&&us(j,Mt),gt}for(pt=u(pt);Mt<F.length;Mt++)kt=Y(pt,j,Mt,F[Mt],Z),kt!==null&&(i&&kt.alternate!==null&&pt.delete(kt.key===null?Mt:kt.key),P=p(kt,P,Mt),qt===null?gt=kt:qt.sibling=kt,qt=kt);return i&&pt.forEach(function(yr){return r(j,yr)}),Ft&&us(j,Mt),gt}function _t(j,P,F,Z){if(F==null)throw Error(s(151));for(var gt=null,qt=null,pt=P,Mt=P=0,kt=null,Gt=F.next();pt!==null&&!Gt.done;Mt++,Gt=F.next()){pt.index>Mt?(kt=pt,pt=null):kt=pt.sibling;var yr=q(j,pt,Gt.value,Z);if(yr===null){pt===null&&(pt=kt);break}i&&pt&&yr.alternate===null&&r(j,pt),P=p(yr,P,Mt),qt===null?gt=yr:qt.sibling=yr,qt=yr,pt=kt}if(Gt.done)return o(j,pt),Ft&&us(j,Mt),gt;if(pt===null){for(;!Gt.done;Mt++,Gt=F.next())Gt=tt(j,Gt.value,Z),Gt!==null&&(P=p(Gt,P,Mt),qt===null?gt=Gt:qt.sibling=Gt,qt=Gt);return Ft&&us(j,Mt),gt}for(pt=u(pt);!Gt.done;Mt++,Gt=F.next())Gt=Y(pt,j,Mt,Gt.value,Z),Gt!==null&&(i&&Gt.alternate!==null&&pt.delete(Gt.key===null?Mt:Gt.key),P=p(Gt,P,Mt),qt===null?gt=Gt:qt.sibling=Gt,qt=Gt);return i&&pt.forEach(function(l2){return r(j,l2)}),Ft&&us(j,Mt),gt}function ie(j,P,F,Z){if(typeof F=="object"&&F!==null&&F.type===z&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case R:t:{for(var gt=F.key;P!==null;){if(P.key===gt){if(gt=F.type,gt===z){if(P.tag===7){o(j,P.sibling),Z=f(P,F.props.children),Z.return=j,j=Z;break t}}else if(P.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&ya(gt)===P.type){o(j,P.sibling),Z=f(P,F.props),Wl(Z,F),Z.return=j,j=Z;break t}o(j,P);break}else r(j,P);P=P.sibling}F.type===z?(Z=fa(F.props.children,j.mode,Z,F.key),Z.return=j,j=Z):(Z=ch(F.type,F.key,F.props,null,j.mode,Z),Wl(Z,F),Z.return=j,j=Z)}return _(j);case V:t:{for(gt=F.key;P!==null;){if(P.key===gt)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){o(j,P.sibling),Z=f(P,F.children||[]),Z.return=j,j=Z;break t}else{o(j,P);break}else r(j,P);P=P.sibling}Z=cm(F,j.mode,Z),Z.return=j,j=Z}return _(j);case w:return F=ya(F),ie(j,P,F,Z)}if(Jt(F))return dt(j,P,F,Z);if(U(F)){if(gt=U(F),typeof gt!="function")throw Error(s(150));return F=gt.call(F),_t(j,P,F,Z)}if(typeof F.then=="function")return ie(j,P,yh(F),Z);if(F.$$typeof===K)return ie(j,P,dh(j,F),Z);vh(j,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,P!==null&&P.tag===6?(o(j,P.sibling),Z=f(P,F),Z.return=j,j=Z):(o(j,P),Z=um(F,j.mode,Z),Z.return=j,j=Z),_(j)):o(j,P)}return function(j,P,F,Z){try{Xl=0;var gt=ie(j,P,F,Z);return Ao=null,gt}catch(pt){if(pt===So||pt===ph)throw pt;var qt=Vn(29,pt,null,j.mode);return qt.lanes=Z,qt.return=j,qt}finally{}}}var _a=K_(!0),Y_=K_(!1),tr=!1;function Sm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Am(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function er(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function nr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=uh(i),V_(i,null,o),r}return lh(i,u,r,o),uh(i)}function Zl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,wl(i,o)}}function bm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var wm=!1;function Jl(){if(wm){var i=Eo;if(i!==null)throw i}}function tu(i,r,o,u){wm=!1;var f=i.updateQueue;tr=!1;var p=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var x=A,H=x.next;x.next=null,_===null?p=H:_.next=H,_=x;var W=i.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==_&&(A===null?W.firstBaseUpdate=H:A.next=H,W.lastBaseUpdate=x))}if(p!==null){var tt=f.baseState;_=0,W=H=x=null,A=p;do{var q=A.lane&-536870913,Y=q!==A.lane;if(Y?(Lt&q)===q:(u&q)===q){q!==0&&q===To&&(wm=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var dt=i,_t=A;q=r;var ie=o;switch(_t.tag){case 1:if(dt=_t.payload,typeof dt=="function"){tt=dt.call(ie,tt,q);break t}tt=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=_t.payload,q=typeof dt=="function"?dt.call(ie,tt,q):dt,q==null)break t;tt=T({},tt,q);break t;case 2:tr=!0}}q=A.callback,q!==null&&(i.flags|=64,Y&&(i.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[q]:Y.push(q))}else Y={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(H=W=Y,x=tt):W=W.next=Y,_|=q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Y=A,A=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);W===null&&(x=tt),f.baseState=x,f.firstBaseUpdate=H,f.lastBaseUpdate=W,p===null&&(f.shared.lanes=0),or|=_,i.lanes=_,i.memoizedState=tt}}function Q_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function X_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Q_(o[i],r)}var bo=N(null),_h=N(0);function W_(i,r){i=Ts,it(_h,i),it(bo,r),Ts=i|r.baseLanes}function Rm(){it(_h,Ts),it(bo,bo.current)}function Cm(){Ts=_h.current,J(bo),J(_h)}var Mn=N(null),Qn=null;function ir(i){var r=i.alternate;it(Ee,Ee.current&1),it(Mn,i),Qn===null&&(r===null||bo.current!==null||r.memoizedState!==null)&&(Qn=i)}function Im(i){it(Ee,Ee.current),it(Mn,i),Qn===null&&(Qn=i)}function Z_(i){i.tag===22?(it(Ee,Ee.current),it(Mn,i),Qn===null&&(Qn=i)):sr()}function sr(){it(Ee,Ee.current),it(Mn,Mn.current)}function On(i){J(Mn),Qn===i&&(Qn=null),J(Ee)}var Ee=N(0);function Th(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Np(o)||Pp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var fs=0,xt=null,ee=null,Me=null,Eh=!1,wo=!1,Ta=!1,Sh=0,eu=0,Ro=null,ZI=0;function ge(){throw Error(s(321))}function Dm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!xn(i[o],r[o]))return!1;return!0}function xm(i,r,o,u,f,p){return fs=p,xt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=i===null||i.memoizedState===null?P0:Gm,Ta=!1,p=o(u,f),Ta=!1,wo&&(p=t0(r,o,u,f)),J_(i),p}function J_(i){Q.H=su;var r=ee!==null&&ee.next!==null;if(fs=0,Me=ee=xt=null,Eh=!1,eu=0,Ro=null,r)throw Error(s(300));i===null||Oe||(i=i.dependencies,i!==null&&fh(i)&&(Oe=!0))}function t0(i,r,o,u){xt=i;var f=0;do{if(wo&&(Ro=null),eu=0,wo=!1,25<=f)throw Error(s(301));if(f+=1,Me=ee=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Q.H=L0,p=r(o,u)}while(wo);return p}function JI(){var i=Q.H,r=i.useState()[0];return r=typeof r.then=="function"?nu(r):r,i=i.useState()[0],(ee!==null?ee.memoizedState:null)!==i&&(xt.flags|=1024),r}function Vm(){var i=Sh!==0;return Sh=0,i}function Mm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Om(i){if(Eh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Eh=!1}fs=0,Me=ee=xt=null,wo=!1,eu=Sh=0,Ro=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?xt.memoizedState=Me=i:Me=Me.next=i,Me}function Se(){if(ee===null){var i=xt.alternate;i=i!==null?i.memoizedState:null}else i=ee.next;var r=Me===null?xt.memoizedState:Me.next;if(r!==null)Me=r,ee=i;else{if(i===null)throw xt.alternate===null?Error(s(467)):Error(s(310));ee=i,i={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Me===null?xt.memoizedState=Me=i:Me=Me.next=i}return Me}function Ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nu(i){var r=eu;return eu+=1,Ro===null&&(Ro=[]),i=q_(Ro,i,r),r=xt,(Me===null?r.memoizedState:Me.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?P0:Gm),i}function bh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return nu(i);if(i.$$typeof===K)return Xe(i)}throw Error(s(438,String(i)))}function Nm(i){var r=null,o=xt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=xt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Ah(),xt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=O;return r.index++,o}function ds(i,r){return typeof r=="function"?r(i):r}function wh(i){var r=Se();return Pm(r,ee,i)}function Pm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,p=u.pending;if(p!==null){if(f!==null){var _=f.next;f.next=p.next,p.next=_}r.baseQueue=f=p,u.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var A=_=null,x=null,H=r,W=!1;do{var tt=H.lane&-536870913;if(tt!==H.lane?(Lt&tt)===tt:(fs&tt)===tt){var q=H.revertLane;if(q===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),tt===To&&(W=!0);else if((fs&q)===q){H=H.next,q===To&&(W=!0);continue}else tt={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(A=x=tt,_=p):x=x.next=tt,xt.lanes|=q,or|=q;tt=H.action,Ta&&o(p,tt),p=H.hasEagerState?H.eagerState:o(p,tt)}else q={lane:tt,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(A=x=q,_=p):x=x.next=q,xt.lanes|=tt,or|=tt;H=H.next}while(H!==null&&H!==r);if(x===null?_=p:x.next=A,!xn(p,i.memoizedState)&&(Oe=!0,W&&(o=Eo,o!==null)))throw o;i.memoizedState=p,i.baseState=_,i.baseQueue=x,u.lastRenderedState=p}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Lm(i){var r=Se(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do p=i(p,_.action),_=_.next;while(_!==f);xn(p,r.memoizedState)||(Oe=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function e0(i,r,o){var u=xt,f=Se(),p=Ft;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!xn((ee||f).memoizedState,o);if(_&&(f.memoizedState=o,Oe=!0),f=f.queue,jm(s0.bind(null,u,f,i),[i]),f.getSnapshot!==r||_||Me!==null&&Me.memoizedState.tag&1){if(u.flags|=2048,Co(9,{destroy:void 0},i0.bind(null,u,f,o,r),null),se===null)throw Error(s(349));p||(fs&127)!==0||n0(u,r,o)}return o}function n0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=xt.updateQueue,r===null?(r=Ah(),xt.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function i0(i,r,o,u){r.value=o,r.getSnapshot=u,r0(r)&&a0(i)}function s0(i,r,o){return o(function(){r0(r)&&a0(i)})}function r0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!xn(i,o)}catch{return!0}}function a0(i){var r=ha(i,2);r!==null&&Tn(r,i,2)}function km(i){var r=fn();if(typeof i=="function"){var o=i;if(i=o(),Ta){jn(!0);try{o()}finally{jn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:i},r}function o0(i,r,o,u){return i.baseState=o,Pm(i,ee,typeof u=="function"?u:ds)}function tD(i,r,o,u,f){if(Ih(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};Q.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,l0(r,p)):(p.next=o.next,r.pending=o.next=p)}}function l0(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var p=Q.T,_={};Q.T=_;try{var A=o(f,u),x=Q.S;x!==null&&x(_,A),u0(i,r,A)}catch(H){Um(i,r,H)}finally{p!==null&&_.types!==null&&(p.types=_.types),Q.T=p}}else try{p=o(f,u),u0(i,r,p)}catch(H){Um(i,r,H)}}function u0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){c0(i,r,u)},function(u){return Um(i,r,u)}):c0(i,r,o)}function c0(i,r,o){r.status="fulfilled",r.value=o,h0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,l0(i,o)))}function Um(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,h0(r),r=r.next;while(r!==u)}i.action=null}function h0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function f0(i,r){return r}function d0(i,r){if(Ft){var o=se.formState;if(o!==null){t:{var u=xt;if(Ft){if(ae){e:{for(var f=ae,p=Yn;f.nodeType!==8;){if(!p){f=null;break e}if(f=Xn(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ae=Xn(f.nextSibling),u=f.data==="F!";break t}}Zs(u)}u=!1}u&&(r=o[0])}}return o=fn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f0,lastRenderedState:r},o.queue=u,o=M0.bind(null,xt,u),u.dispatch=o,u=km(!1),p=qm.bind(null,xt,!1,u.queue),u=fn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=tD.bind(null,xt,f,p,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function m0(i){var r=Se();return p0(r,ee,i)}function p0(i,r,o){if(r=Pm(i,r,f0)[0],i=wh(ds)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=nu(r)}catch(_){throw _===So?ph:_}else u=r;r=Se();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(xt.flags|=2048,Co(9,{destroy:void 0},eD.bind(null,f,o),null)),[u,p,i]}function eD(i,r){i.action=r}function g0(i){var r=Se(),o=ee;if(o!==null)return p0(r,o,i);Se(),r=r.memoizedState,o=Se();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Co(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=xt.updateQueue,r===null&&(r=Ah(),xt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function y0(){return Se().memoizedState}function Rh(i,r,o,u){var f=fn();xt.flags|=i,f.memoizedState=Co(1|r,{destroy:void 0},o,u===void 0?null:u)}function Ch(i,r,o,u){var f=Se();u=u===void 0?null:u;var p=f.memoizedState.inst;ee!==null&&u!==null&&Dm(u,ee.memoizedState.deps)?f.memoizedState=Co(r,p,o,u):(xt.flags|=i,f.memoizedState=Co(1|r,p,o,u))}function v0(i,r){Rh(8390656,8,i,r)}function jm(i,r){Ch(2048,8,i,r)}function nD(i){xt.flags|=4;var r=xt.updateQueue;if(r===null)r=Ah(),xt.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function _0(i){var r=Se().memoizedState;return nD({ref:r,nextImpl:i}),function(){if((Kt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function T0(i,r){return Ch(4,2,i,r)}function E0(i,r){return Ch(4,4,i,r)}function S0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function A0(i,r,o){o=o!=null?o.concat([i]):null,Ch(4,4,S0.bind(null,r,i),o)}function zm(){}function b0(i,r){var o=Se();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Dm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function w0(i,r){var o=Se();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Dm(r,u[1]))return u[0];if(u=i(),Ta){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[u,r],u}function Bm(i,r,o){return o===void 0||(fs&1073741824)!==0&&(Lt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=RT(),xt.lanes|=i,or|=i,o)}function R0(i,r,o,u){return xn(o,r)?o:bo.current!==null?(i=Bm(i,o,u),xn(i,r)||(Oe=!0),i):(fs&42)===0||(fs&1073741824)!==0&&(Lt&261930)===0?(Oe=!0,i.memoizedState=o):(i=RT(),xt.lanes|=i,or|=i,r)}function C0(i,r,o,u,f){var p=st.p;st.p=p!==0&&8>p?p:8;var _=Q.T,A={};Q.T=A,qm(i,!1,r,o);try{var x=f(),H=Q.S;if(H!==null&&H(A,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var W=WI(x,u);iu(i,r,W,Ln(i))}else iu(i,r,u,Ln(i))}catch(tt){iu(i,r,{then:function(){},status:"rejected",reason:tt},Ln())}finally{st.p=p,_!==null&&A.types!==null&&(_.types=A.types),Q.T=_}}function iD(){}function Fm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=I0(i).queue;C0(i,f,r,ct,o===null?iD:function(){return D0(i),o(u)})}function I0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:ct},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function D0(i){var r=I0(i);r.next===null&&(r=i.alternate.memoizedState),iu(i,r.next.queue,{},Ln())}function Hm(){return Xe(Tu)}function x0(){return Se().memoizedState}function V0(){return Se().memoizedState}function sD(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ln();i=er(o);var u=nr(r,i,o);u!==null&&(Tn(u,r,o),Zl(u,r,o)),r={cache:vm()},i.payload=r;return}r=r.return}}function rD(i,r,o){var u=Ln();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ih(i)?O0(r,o):(o=om(i,r,o,u),o!==null&&(Tn(o,i,u),N0(o,r,u)))}function M0(i,r,o){var u=Ln();iu(i,r,o,u)}function iu(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ih(i))O0(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,A=p(_,o);if(f.hasEagerState=!0,f.eagerState=A,xn(A,_))return lh(i,r,f,0),se===null&&oh(),!1}catch{}finally{}if(o=om(i,r,f,u),o!==null)return Tn(o,i,u),N0(o,r,u),!0}return!1}function qm(i,r,o,u){if(u={lane:2,revertLane:Sp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ih(i)){if(r)throw Error(s(479))}else r=om(i,o,u,2),r!==null&&Tn(r,i,2)}function Ih(i){var r=i.alternate;return i===xt||r!==null&&r===xt}function O0(i,r){wo=Eh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function N0(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,wl(i,o)}}var su={readContext:Xe,use:bh,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};su.useEffectEvent=ge;var P0={readContext:Xe,use:bh,useCallback:function(i,r){return fn().memoizedState=[i,r===void 0?null:r],i},useContext:Xe,useEffect:v0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Rh(4194308,4,S0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Rh(4194308,4,i,r)},useInsertionEffect:function(i,r){Rh(4,2,i,r)},useMemo:function(i,r){var o=fn();r=r===void 0?null:r;var u=i();if(Ta){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=fn();if(o!==void 0){var f=o(r);if(Ta){jn(!0);try{o(r)}finally{jn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=rD.bind(null,xt,i),[u.memoizedState,i]},useRef:function(i){var r=fn();return i={current:i},r.memoizedState=i},useState:function(i){i=km(i);var r=i.queue,o=M0.bind(null,xt,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:zm,useDeferredValue:function(i,r){var o=fn();return Bm(o,i,r)},useTransition:function(){var i=km(!1);return i=C0.bind(null,xt,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=xt,f=fn();if(Ft){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),se===null)throw Error(s(349));(Lt&127)!==0||n0(u,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,v0(s0.bind(null,u,p,i),[i]),u.flags|=2048,Co(9,{destroy:void 0},i0.bind(null,u,p,o,r),null),o},useId:function(){var i=fn(),r=se.identifierPrefix;if(Ft){var o=Bi,u=zi;o=(u&~(1<<32-_e(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Sh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=ZI++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Hm,useFormState:d0,useActionState:d0,useOptimistic:function(i){var r=fn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=qm.bind(null,xt,!0,o),o.dispatch=r,[i,r]},useMemoCache:Nm,useCacheRefresh:function(){return fn().memoizedState=sD.bind(null,xt)},useEffectEvent:function(i){var r=fn(),o={impl:i};return r.memoizedState=o,function(){if((Kt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Gm={readContext:Xe,use:bh,useCallback:b0,useContext:Xe,useEffect:jm,useImperativeHandle:A0,useInsertionEffect:T0,useLayoutEffect:E0,useMemo:w0,useReducer:wh,useRef:y0,useState:function(){return wh(ds)},useDebugValue:zm,useDeferredValue:function(i,r){var o=Se();return R0(o,ee.memoizedState,i,r)},useTransition:function(){var i=wh(ds)[0],r=Se().memoizedState;return[typeof i=="boolean"?i:nu(i),r]},useSyncExternalStore:e0,useId:x0,useHostTransitionStatus:Hm,useFormState:m0,useActionState:m0,useOptimistic:function(i,r){var o=Se();return o0(o,ee,i,r)},useMemoCache:Nm,useCacheRefresh:V0};Gm.useEffectEvent=_0;var L0={readContext:Xe,use:bh,useCallback:b0,useContext:Xe,useEffect:jm,useImperativeHandle:A0,useInsertionEffect:T0,useLayoutEffect:E0,useMemo:w0,useReducer:Lm,useRef:y0,useState:function(){return Lm(ds)},useDebugValue:zm,useDeferredValue:function(i,r){var o=Se();return ee===null?Bm(o,i,r):R0(o,ee.memoizedState,i,r)},useTransition:function(){var i=Lm(ds)[0],r=Se().memoizedState;return[typeof i=="boolean"?i:nu(i),r]},useSyncExternalStore:e0,useId:x0,useHostTransitionStatus:Hm,useFormState:g0,useActionState:g0,useOptimistic:function(i,r){var o=Se();return ee!==null?o0(o,ee,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Nm,useCacheRefresh:V0};L0.useEffectEvent=_0;function $m(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:T({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Km={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Ln(),f=er(u);f.payload=r,o!=null&&(f.callback=o),r=nr(i,f,u),r!==null&&(Tn(r,i,u),Zl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Ln(),f=er(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=nr(i,f,u),r!==null&&(Tn(r,i,u),Zl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Ln(),u=er(o);u.tag=2,r!=null&&(u.callback=r),r=nr(i,u,o),r!==null&&(Tn(r,i,o),Zl(r,i,o))}};function k0(i,r,o,u,f,p,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!ql(o,u)||!ql(f,p):!0}function U0(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Km.enqueueReplaceState(r,r.state,null)}function Ea(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=T({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function j0(i){ah(i)}function z0(i){console.error(i)}function B0(i){ah(i)}function Dh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function F0(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ym(i,r,o){return o=er(o),o.tag=3,o.payload={element:null},o.callback=function(){Dh(i,r)},o}function H0(i){return i=er(i),i.tag=3,i}function q0(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;i.payload=function(){return f(p)},i.callback=function(){F0(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){F0(r,o,u),typeof f!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function aD(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&_o(r,o,f,!0),o=Mn.current,o!==null){switch(o.tag){case 31:case 13:return Qn===null?Bh():o.alternate===null&&ye===0&&(ye=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===gh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),_p(i,u,f)),!1;case 22:return o.flags|=65536,u===gh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),_p(i,u,f)),!1}throw Error(s(435,o.tag))}return _p(i,u,f),Bh(),!1}if(Ft)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==dm&&(i=Error(s(422),{cause:u}),Kl(Gn(i,o)))):(u!==dm&&(r=Error(s(423),{cause:u}),Kl(Gn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Gn(u,o),f=Ym(i.stateNode,u,f),bm(i,f),ye!==4&&(ye=2)),!1;var p=Error(s(520),{cause:u});if(p=Gn(p,o),fu===null?fu=[p]:fu.push(p),ye!==4&&(ye=2),r===null)return!0;u=Gn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Ym(o.stateNode,u,i),bm(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(lr===null||!lr.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=H0(f),q0(f,i,o,u),bm(o,f),!1}o=o.return}while(o!==null);return!1}var Qm=Error(s(461)),Oe=!1;function We(i,r,o,u){r.child=i===null?Y_(r,null,o,u):_a(r,i.child,o,u)}function G0(i,r,o,u,f){o=o.render;var p=r.ref;if("ref"in u){var _={};for(var A in u)A!=="ref"&&(_[A]=u[A])}else _=u;return pa(r),u=xm(i,r,o,_,p,f),A=Vm(),i!==null&&!Oe?(Mm(i,r,f),ms(i,r,f)):(Ft&&A&&hm(r),r.flags|=1,We(i,r,u,f),r.child)}function $0(i,r,o,u,f){if(i===null){var p=o.type;return typeof p=="function"&&!lm(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,K0(i,r,p,u,f)):(i=ch(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!ip(i,f)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:ql,o(_,u)&&i.ref===r.ref)return ms(i,r,f)}return r.flags|=1,i=ls(p,u),i.ref=r.ref,i.return=r,r.child=i}function K0(i,r,o,u,f){if(i!==null){var p=i.memoizedProps;if(ql(p,u)&&i.ref===r.ref)if(Oe=!1,r.pendingProps=u=p,ip(i,f))(i.flags&131072)!==0&&(Oe=!0);else return r.lanes=i.lanes,ms(i,r,f)}return Xm(i,r,o,u,f)}function Y0(i,r,o,u){var f=u.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~p}else u=0,r.child=null;return Q0(i,r,p,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&mh(r,p!==null?p.cachePool:null),p!==null?W_(r,p):Rm(),Z_(r);else return u=r.lanes=536870912,Q0(i,r,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(mh(r,p.cachePool),W_(r,p),sr(),r.memoizedState=null):(i!==null&&mh(r,null),Rm(),sr());return We(i,r,f,o),r.child}function ru(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Q0(i,r,o,u,f){var p=Tm();return p=p===null?null:{parent:Ve._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&mh(r,null),Rm(),Z_(r),i!==null&&_o(i,r,u,!0),r.childLanes=f,null}function xh(i,r){return r=Mh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function X0(i,r,o){return _a(r,i.child,null,o),i=xh(r,r.pendingProps),i.flags|=2,On(r),r.memoizedState=null,i}function oD(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ft){if(u.mode==="hidden")return i=xh(r,u),r.lanes=536870912,ru(null,i);if(Im(r),(i=ae)?(i=lE(i,Yn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Xs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},o=O_(i),o.return=r,r.child=o,Qe=r,ae=null)):i=null,i===null)throw Zs(r);return r.lanes=536870912,null}return xh(r,u)}var p=i.memoizedState;if(p!==null){var _=p.dehydrated;if(Im(r),f)if(r.flags&256)r.flags&=-257,r=X0(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Oe||_o(i,r,o,!1),f=(o&i.childLanes)!==0,Oe||f){if(u=se,u!==null&&(_=Rl(u,o),_!==0&&_!==p.retryLane))throw p.retryLane=_,ha(i,_),Tn(u,i,_),Qm;Bh(),r=X0(i,r,o)}else i=p.treeContext,ae=Xn(_.nextSibling),Qe=r,Ft=!0,Ws=null,Yn=!1,i!==null&&L_(r,i),r=xh(r,u),r.flags|=4096;return r}return i=ls(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Vh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Xm(i,r,o,u,f){return pa(r),o=xm(i,r,o,u,void 0,f),u=Vm(),i!==null&&!Oe?(Mm(i,r,f),ms(i,r,f)):(Ft&&u&&hm(r),r.flags|=1,We(i,r,o,f),r.child)}function W0(i,r,o,u,f,p){return pa(r),r.updateQueue=null,o=t0(r,u,o,f),J_(i),u=Vm(),i!==null&&!Oe?(Mm(i,r,p),ms(i,r,p)):(Ft&&u&&hm(r),r.flags|=1,We(i,r,o,p),r.child)}function Z0(i,r,o,u,f){if(pa(r),r.stateNode===null){var p=po,_=o.contextType;typeof _=="object"&&_!==null&&(p=Xe(_)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Km,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},Sm(r),_=o.contextType,p.context=typeof _=="object"&&_!==null?Xe(_):po,p.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&($m(r,o,_,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&Km.enqueueReplaceState(p,p.state,null),tu(r,u,p,f),Jl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){p=r.stateNode;var A=r.memoizedProps,x=Ea(o,A);p.props=x;var H=p.context,W=o.contextType;_=po,typeof W=="object"&&W!==null&&(_=Xe(W));var tt=o.getDerivedStateFromProps;W=typeof tt=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||H!==_)&&U0(r,p,u,_),tr=!1;var q=r.memoizedState;p.state=q,tu(r,u,p,f),Jl(),H=r.memoizedState,A||q!==H||tr?(typeof tt=="function"&&($m(r,o,tt,u),H=r.memoizedState),(x=tr||k0(r,o,x,u,q,H,_))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=H),p.props=u,p.state=H,p.context=_,u=x):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,Am(i,r),_=r.memoizedProps,W=Ea(o,_),p.props=W,tt=r.pendingProps,q=p.context,H=o.contextType,x=po,typeof H=="object"&&H!==null&&(x=Xe(H)),A=o.getDerivedStateFromProps,(H=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==tt||q!==x)&&U0(r,p,u,x),tr=!1,q=r.memoizedState,p.state=q,tu(r,u,p,f),Jl();var Y=r.memoizedState;_!==tt||q!==Y||tr||i!==null&&i.dependencies!==null&&fh(i.dependencies)?(typeof A=="function"&&($m(r,o,A,u),Y=r.memoizedState),(W=tr||k0(r,o,W,u,q,Y,x)||i!==null&&i.dependencies!==null&&fh(i.dependencies))?(H||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Y,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Y,x)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Y),p.props=u,p.state=Y,p.context=x,u=W):(typeof p.componentDidUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),u=!1)}return p=u,Vh(i,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&u?(r.child=_a(r,i.child,null,f),r.child=_a(r,null,o,f)):We(i,r,o,f),r.memoizedState=p.state,i=r.child):i=ms(i,r,f),i}function J0(i,r,o,u){return da(),r.flags|=256,We(i,r,o,u),r.child}var Wm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zm(i){return{baseLanes:i,cachePool:F_()}}function Jm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Pn),i}function tT(i,r,o){var u=r.pendingProps,f=!1,p=(r.flags&128)!==0,_;if((_=p)||(_=i!==null&&i.memoizedState===null?!1:(Ee.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ft){if(f?ir(r):sr(),(i=ae)?(i=lE(i,Yn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Xs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},o=O_(i),o.return=r,r.child=o,Qe=r,ae=null)):i=null,i===null)throw Zs(r);return Pp(i)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,f?(sr(),f=r.mode,A=Mh({mode:"hidden",children:A},f),u=fa(u,f,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=Zm(o),u.childLanes=Jm(i,_,o),r.memoizedState=Wm,ru(null,u)):(ir(r),tp(r,A))}var x=i.memoizedState;if(x!==null&&(A=x.dehydrated,A!==null)){if(p)r.flags&256?(ir(r),r.flags&=-257,r=ep(i,r,o)):r.memoizedState!==null?(sr(),r.child=i.child,r.flags|=128,r=null):(sr(),A=u.fallback,f=r.mode,u=Mh({mode:"visible",children:u.children},f),A=fa(A,f,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,_a(r,i.child,null,o),u=r.child,u.memoizedState=Zm(o),u.childLanes=Jm(i,_,o),r.memoizedState=Wm,r=ru(null,u));else if(ir(r),Pp(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var H=_.dgst;_=H,u=Error(s(419)),u.stack="",u.digest=_,Kl({value:u,source:null,stack:null}),r=ep(i,r,o)}else if(Oe||_o(i,r,o,!1),_=(o&i.childLanes)!==0,Oe||_){if(_=se,_!==null&&(u=Rl(_,o),u!==0&&u!==x.retryLane))throw x.retryLane=u,ha(i,u),Tn(_,i,u),Qm;Np(A)||Bh(),r=ep(i,r,o)}else Np(A)?(r.flags|=192,r.child=i.child,r=null):(i=x.treeContext,ae=Xn(A.nextSibling),Qe=r,Ft=!0,Ws=null,Yn=!1,i!==null&&L_(r,i),r=tp(r,u.children),r.flags|=4096);return r}return f?(sr(),A=u.fallback,f=r.mode,x=i.child,H=x.sibling,u=ls(x,{mode:"hidden",children:u.children}),u.subtreeFlags=x.subtreeFlags&65011712,H!==null?A=ls(H,A):(A=fa(A,f,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,ru(null,u),u=r.child,A=i.child.memoizedState,A===null?A=Zm(o):(f=A.cachePool,f!==null?(x=Ve._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=F_(),A={baseLanes:A.baseLanes|o,cachePool:f}),u.memoizedState=A,u.childLanes=Jm(i,_,o),r.memoizedState=Wm,ru(i.child,u)):(ir(r),o=i.child,i=o.sibling,o=ls(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function tp(i,r){return r=Mh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Mh(i,r){return i=Vn(22,i,null,r),i.lanes=0,i}function ep(i,r,o){return _a(r,i.child,null,o),i=tp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function eT(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),gm(i.return,r,o)}function np(i,r,o,u,f,p){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:p}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=f,_.treeForkCount=p)}function nT(i,r,o){var u=r.pendingProps,f=u.revealOrder,p=u.tail;u=u.children;var _=Ee.current,A=(_&2)!==0;if(A?(_=_&1|2,r.flags|=128):_&=1,it(Ee,_),We(i,r,u,o),u=Ft?$l:0,!A&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&eT(i,o,r);else if(i.tag===19)eT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&Th(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),np(r,!1,f,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Th(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}np(r,!0,o,null,p,u);break;case"together":np(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ms(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),or|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(_o(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ls(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ls(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function ip(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&fh(i)))}function lD(i,r,o){switch(r.tag){case 3:ce(r,r.stateNode.containerInfo),Js(r,Ve,i.memoizedState.cache),da();break;case 27:case 5:Kr(r);break;case 4:ce(r,r.stateNode.containerInfo);break;case 10:Js(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Im(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(ir(r),r.flags|=128,null):(o&r.child.childLanes)!==0?tT(i,r,o):(ir(r),i=ms(i,r,o),i!==null?i.sibling:null);ir(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(_o(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return nT(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(Ee,Ee.current),u)break;return null;case 22:return r.lanes=0,Y0(i,r,o,r.pendingProps);case 24:Js(r,Ve,i.memoizedState.cache)}return ms(i,r,o)}function iT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Oe=!0;else{if(!ip(i,o)&&(r.flags&128)===0)return Oe=!1,lD(i,r,o);Oe=(i.flags&131072)!==0}else Oe=!1,Ft&&(r.flags&1048576)!==0&&P_(r,$l,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=ya(r.elementType),r.type=i,typeof i=="function")lm(i)?(u=Ea(i,u),r.tag=1,r=Z0(null,r,i,u,o)):(r.tag=0,r=Xm(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===ot){r.tag=11,r=G0(null,r,i,u,o);break t}else if(f===C){r.tag=14,r=$0(null,r,i,u,o);break t}}throw r=Bt(i)||i,Error(s(306,r,""))}}return r;case 0:return Xm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Ea(u,r.pendingProps),Z0(i,r,u,f,o);case 3:t:{if(ce(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var p=r.memoizedState;f=p.element,Am(i,r),tu(r,u,null,o);var _=r.memoizedState;if(u=_.cache,Js(r,Ve,u),u!==p.cache&&ym(r,[Ve],o,!0),Jl(),u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=J0(i,r,u,o);break t}else if(u!==f){f=Gn(Error(s(424)),r),Kl(f),r=J0(i,r,u,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ae=Xn(i.firstChild),Qe=r,Ft=!0,Ws=null,Yn=!0,o=Y_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(da(),u===f){r=ms(i,r,o);break t}We(i,r,u,o)}r=r.child}return r;case 26:return Vh(i,r),i===null?(o=mE(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ft||(o=r.type,i=r.pendingProps,u=Yh(It.current).createElement(o),u[Ie]=r,u[He]=i,Ze(u,o,i),De(u),r.stateNode=u):r.memoizedState=mE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Kr(r),i===null&&Ft&&(u=r.stateNode=hE(r.type,r.pendingProps,It.current),Qe=r,Yn=!0,f=ae,fr(r.type)?(Lp=f,ae=Xn(u.firstChild)):ae=f),We(i,r,r.pendingProps.children,o),Vh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ft&&((f=u=ae)&&(u=UD(u,r.type,r.pendingProps,Yn),u!==null?(r.stateNode=u,Qe=r,ae=Xn(u.firstChild),Yn=!1,f=!0):f=!1),f||Zs(r)),Kr(r),f=r.type,p=r.pendingProps,_=i!==null?i.memoizedProps:null,u=p.children,Vp(f,p)?u=null:_!==null&&Vp(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=xm(i,r,JI,null,null,o),Tu._currentValue=f),Vh(i,r),We(i,r,u,o),r.child;case 6:return i===null&&Ft&&((i=o=ae)&&(o=jD(o,r.pendingProps,Yn),o!==null?(r.stateNode=o,Qe=r,ae=null,i=!0):i=!1),i||Zs(r)),null;case 13:return tT(i,r,o);case 4:return ce(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=_a(r,null,u,o):We(i,r,u,o),r.child;case 11:return G0(i,r,r.type,r.pendingProps,o);case 7:return We(i,r,r.pendingProps,o),r.child;case 8:return We(i,r,r.pendingProps.children,o),r.child;case 12:return We(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Js(r,r.type,u.value),We(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,pa(r),f=Xe(f),u=u(f),r.flags|=1,We(i,r,u,o),r.child;case 14:return $0(i,r,r.type,r.pendingProps,o);case 15:return K0(i,r,r.type,r.pendingProps,o);case 19:return nT(i,r,o);case 31:return oD(i,r,o);case 22:return Y0(i,r,o,r.pendingProps);case 24:return pa(r),u=Xe(Ve),i===null?(f=Tm(),f===null&&(f=se,p=vm(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:u,cache:f},Sm(r),Js(r,Ve,f)):((i.lanes&o)!==0&&(Am(i,r),tu(r,null,null,o),Jl()),f=i.memoizedState,p=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Js(r,Ve,u)):(u=p.cache,Js(r,Ve,u),u!==f.cache&&ym(r,[Ve],o,!0))),We(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ps(i){i.flags|=4}function sp(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(xT())i.flags|=8192;else throw va=gh,Em}else i.flags&=-16777217}function sT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!_E(r))if(xT())i.flags|=8192;else throw va=gh,Em}function Oh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?jc():536870912,i.lanes|=r,Vo|=r)}function au(i,r){if(!Ft)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function oe(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function uD(i,r,o){var u=r.pendingProps;switch(fm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),hs(Ve),Yt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(vo(r)?ps(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,mm())),oe(r),null;case 26:var f=r.type,p=r.memoizedState;return i===null?(ps(r),p!==null?(oe(r),sT(r,p)):(oe(r),sp(r,f,null,u,o))):p?p!==i.memoizedState?(ps(r),oe(r),sT(r,p)):(oe(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&ps(r),oe(r),sp(r,f,i,u,o)),null;case 27:if(Qa(r),o=It.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ps(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}i=ht.current,vo(r)?k_(r):(i=hE(f,u,o),r.stateNode=i,ps(r))}return oe(r),null;case 5:if(Qa(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ps(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(p=ht.current,vo(r))k_(r);else{var _=Yh(It.current);switch(p){case 1:p=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=_.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?_.createElement(f,{is:u.is}):_.createElement(f)}}p[Ie]=r,p[He]=u;t:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break t;for(;_.sibling===null;){if(_.return===null||_.return===r)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=p;t:switch(Ze(p,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ps(r)}}return oe(r),sp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&ps(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=It.current,vo(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=Qe,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Ie]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||tE(i.nodeValue,o)),i||Zs(r,!0)}else i=Yh(i).createTextNode(u),i[Ie]=r,r.stateNode=i}return oe(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=vo(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Ie]=r}else da(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),i=!1}else o=mm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(On(r),r):(On(r),null);if((r.flags&128)!==0)throw Error(s(558))}return oe(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=vo(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ie]=r}else da(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),f=!1}else f=mm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(On(r),r):(On(r),null)}return On(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Oh(r,r.updateQueue),oe(r),null);case 4:return Yt(),i===null&&Rp(r.stateNode.containerInfo),oe(r),null;case 10:return hs(r.type),oe(r),null;case 19:if(J(Ee),u=r.memoizedState,u===null)return oe(r),null;if(f=(r.flags&128)!==0,p=u.rendering,p===null)if(f)au(u,!1);else{if(ye!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=Th(i),p!==null){for(r.flags|=128,au(u,!1),i=p.updateQueue,r.updateQueue=i,Oh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)M_(o,i),o=o.sibling;return it(Ee,Ee.current&1|2),Ft&&us(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&cn()>Uh&&(r.flags|=128,f=!0,au(u,!1),r.lanes=4194304)}else{if(!f)if(i=Th(p),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Oh(r,i),au(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ft)return oe(r),null}else 2*cn()-u.renderingStartTime>Uh&&o!==536870912&&(r.flags|=128,f=!0,au(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(i=u.last,i!==null?i.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=cn(),i.sibling=null,o=Ee.current,it(Ee,f?o&1|2:o&1),Ft&&us(r,u.treeForkCount),i):(oe(r),null);case 22:case 23:return On(r),Cm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),o=r.updateQueue,o!==null&&Oh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&J(ga),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),hs(Ve),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function cD(i,r){switch(fm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return hs(Ve),Yt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Qa(r),null;case 31:if(r.memoizedState!==null){if(On(r),r.alternate===null)throw Error(s(340));da()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(On(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));da()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return J(Ee),null;case 4:return Yt(),null;case 10:return hs(r.type),null;case 22:case 23:return On(r),Cm(),i!==null&&J(ga),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return hs(Ve),null;case 25:return null;default:return null}}function rT(i,r){switch(fm(r),r.tag){case 3:hs(Ve),Yt();break;case 26:case 27:case 5:Qa(r);break;case 4:Yt();break;case 31:r.memoizedState!==null&&On(r);break;case 13:On(r);break;case 19:J(Ee);break;case 10:hs(r.type);break;case 22:case 23:On(r),Cm(),i!==null&&J(ga);break;case 24:hs(Ve)}}function ou(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var p=o.create,_=o.inst;u=p(),_.destroy=u}o=o.next}while(o!==f)}}catch(A){Zt(r,r.return,A)}}function rr(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&i)===i){var _=u.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=r;var x=o,H=A;try{H()}catch(W){Zt(f,x,W)}}}u=u.next}while(u!==p)}}catch(W){Zt(r,r.return,W)}}function aT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{X_(r,o)}catch(u){Zt(i,i.return,u)}}}function oT(i,r,o){o.props=Ea(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Zt(i,r,u)}}function lu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Zt(i,r,f)}}function Fi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Zt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Zt(i,r,f)}else o.current=null}function lT(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Zt(i,i.return,f)}}function rp(i,r,o){try{var u=i.stateNode;MD(u,i.type,o,r),u[He]=r}catch(f){Zt(i,i.return,f)}}function uT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&fr(i.type)||i.tag===4}function ap(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||uT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&fr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function op(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ci));else if(u!==4&&(u===27&&fr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(op(i,r,o),i=i.sibling;i!==null;)op(i,r,o),i=i.sibling}function Nh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&fr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Nh(i,r,o),i=i.sibling;i!==null;)Nh(i,r,o),i=i.sibling}function cT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ze(r,u,o),r[Ie]=i,r[He]=o}catch(p){Zt(i,i.return,p)}}var gs=!1,Ne=!1,lp=!1,hT=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function hD(i,r){if(i=i.containerInfo,Dp=ef,i=A_(i),em(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var _=0,A=-1,x=-1,H=0,W=0,tt=i,q=null;e:for(;;){for(var Y;tt!==o||f!==0&&tt.nodeType!==3||(A=_+f),tt!==p||u!==0&&tt.nodeType!==3||(x=_+u),tt.nodeType===3&&(_+=tt.nodeValue.length),(Y=tt.firstChild)!==null;)q=tt,tt=Y;for(;;){if(tt===i)break e;if(q===o&&++H===f&&(A=_),q===p&&++W===u&&(x=_),(Y=tt.nextSibling)!==null)break;tt=q,q=tt.parentNode}tt=Y}o=A===-1||x===-1?null:{start:A,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(xp={focusedElem:i,selectionRange:o},ef=!1,Ge=r;Ge!==null;)if(r=Ge,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Ge=i;else for(;Ge!==null;){switch(r=Ge,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var dt=Ea(o.type,f);i=u.getSnapshotBeforeUpdate(dt,p),u.__reactInternalSnapshotBeforeUpdate=i}catch(_t){Zt(o,o.return,_t)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Op(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Op(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ge=i;break}Ge=r.return}}function fT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:vs(i,o),u&4&&ou(5,o);break;case 1:if(vs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(_){Zt(o,o.return,_)}else{var f=Ea(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Zt(o,o.return,_)}}u&64&&aT(o),u&512&&lu(o,o.return);break;case 3:if(vs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{X_(i,r)}catch(_){Zt(o,o.return,_)}}break;case 27:r===null&&u&4&&cT(o);case 26:case 5:vs(i,o),r===null&&u&4&&lT(o),u&512&&lu(o,o.return);break;case 12:vs(i,o);break;case 31:vs(i,o),u&4&&pT(i,o);break;case 13:vs(i,o),u&4&&gT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=TD.bind(null,o),zD(i,o))));break;case 22:if(u=o.memoizedState!==null||gs,!u){r=r!==null&&r.memoizedState!==null||Ne,f=gs;var p=Ne;gs=u,(Ne=r)&&!p?_s(i,o,(o.subtreeFlags&8772)!==0):vs(i,o),gs=f,Ne=p}break;case 30:break;default:vs(i,o)}}function dT(i){var r=i.alternate;r!==null&&(i.alternate=null,dT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&to(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var fe=null,gn=!1;function ys(i,r,o){for(o=o.child;o!==null;)mT(i,r,o),o=o.sibling}function mT(i,r,o){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ai,o)}catch{}switch(o.tag){case 26:Ne||Fi(o,r),ys(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ne||Fi(o,r);var u=fe,f=gn;fr(o.type)&&(fe=o.stateNode,gn=!1),ys(i,r,o),yu(o.stateNode),fe=u,gn=f;break;case 5:Ne||Fi(o,r);case 6:if(u=fe,f=gn,fe=null,ys(i,r,o),fe=u,gn=f,fe!==null)if(gn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(o.stateNode)}catch(p){Zt(o,r,p)}else try{fe.removeChild(o.stateNode)}catch(p){Zt(o,r,p)}break;case 18:fe!==null&&(gn?(i=fe,aE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),jo(i)):aE(fe,o.stateNode));break;case 4:u=fe,f=gn,fe=o.stateNode.containerInfo,gn=!0,ys(i,r,o),fe=u,gn=f;break;case 0:case 11:case 14:case 15:rr(2,o,r),Ne||rr(4,o,r),ys(i,r,o);break;case 1:Ne||(Fi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&oT(o,r,u)),ys(i,r,o);break;case 21:ys(i,r,o);break;case 22:Ne=(u=Ne)||o.memoizedState!==null,ys(i,r,o),Ne=u;break;default:ys(i,r,o)}}function pT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{jo(i)}catch(o){Zt(r,r.return,o)}}}function gT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{jo(i)}catch(o){Zt(r,r.return,o)}}function fD(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new hT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new hT),r;default:throw Error(s(435,i.tag))}}function Ph(i,r){var o=fD(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=ED.bind(null,i,u);u.then(f,f)}})}function yn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=i,_=r,A=_;t:for(;A!==null;){switch(A.tag){case 27:if(fr(A.type)){fe=A.stateNode,gn=!1;break t}break;case 5:fe=A.stateNode,gn=!1;break t;case 3:case 4:fe=A.stateNode.containerInfo,gn=!0;break t}A=A.return}if(fe===null)throw Error(s(160));mT(p,_,f),fe=null,gn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)yT(r,i),r=r.sibling}var gi=null;function yT(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:yn(r,i),vn(i),u&4&&(rr(3,i,i.return),ou(3,i),rr(5,i,i.return));break;case 1:yn(r,i),vn(i),u&512&&(Ne||o===null||Fi(o,o.return)),u&64&&gs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=gi;if(yn(r,i),vn(i),u&512&&(Ne||o===null||Fi(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ii]||p[Ie]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),Ze(p,u,o),p[Ie]=i,De(p),u=p;break t;case"link":var _=yE("link","href",f).get(u+(o.href||""));if(_){for(var A=0;A<_.length;A++)if(p=_[A],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(A,1);break e}}p=f.createElement(u),Ze(p,u,o),f.head.appendChild(p);break;case"meta":if(_=yE("meta","content",f).get(u+(o.content||""))){for(A=0;A<_.length;A++)if(p=_[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(A,1);break e}}p=f.createElement(u),Ze(p,u,o),f.head.appendChild(p);break;default:throw Error(s(468,u))}p[Ie]=i,De(p),u=p}i.stateNode=u}else vE(f,i.type,i.stateNode);else i.stateNode=gE(f,u,i.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?vE(f,i.type,i.stateNode):gE(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&rp(i,i.memoizedProps,o.memoizedProps)}break;case 27:yn(r,i),vn(i),u&512&&(Ne||o===null||Fi(o,o.return)),o!==null&&u&4&&rp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(yn(r,i),vn(i),u&512&&(Ne||o===null||Fi(o,o.return)),i.flags&32){f=i.stateNode;try{pn(f,"")}catch(dt){Zt(i,i.return,dt)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,rp(i,f,o!==null?o.memoizedProps:f)),u&1024&&(lp=!0);break;case 6:if(yn(r,i),vn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(dt){Zt(i,i.return,dt)}}break;case 3:if(Wh=null,f=gi,gi=Qh(r.containerInfo),yn(r,i),gi=f,vn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{jo(r.containerInfo)}catch(dt){Zt(i,i.return,dt)}lp&&(lp=!1,vT(i));break;case 4:u=gi,gi=Qh(i.stateNode.containerInfo),yn(r,i),vn(i),gi=u;break;case 12:yn(r,i),vn(i);break;case 31:yn(r,i),vn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ph(i,u)));break;case 13:yn(r,i),vn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(kh=cn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ph(i,u)));break;case 22:f=i.memoizedState!==null;var x=o!==null&&o.memoizedState!==null,H=gs,W=Ne;if(gs=H||f,Ne=W||x,yn(r,i),Ne=W,gs=H,vn(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||x||gs||Ne||Sa(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){x=o=r;try{if(p=x.stateNode,f)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=x.stateNode;var tt=x.memoizedProps.style,q=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(dt){Zt(x,x.return,dt)}}}else if(r.tag===6){if(o===null){x=r;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(dt){Zt(x,x.return,dt)}}}else if(r.tag===18){if(o===null){x=r;try{var Y=x.stateNode;f?oE(Y,!0):oE(x.stateNode,!1)}catch(dt){Zt(x,x.return,dt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Ph(i,o))));break;case 19:yn(r,i),vn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ph(i,u)));break;case 30:break;case 21:break;default:yn(r,i),vn(i)}}function vn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(uT(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=ap(i);Nh(i,p,f);break;case 5:var _=o.stateNode;o.flags&32&&(pn(_,""),o.flags&=-33);var A=ap(i);Nh(i,A,_);break;case 3:case 4:var x=o.stateNode.containerInfo,H=ap(i);op(i,H,x);break;default:throw Error(s(161))}}catch(W){Zt(i,i.return,W)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function vT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;vT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function vs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)fT(i,r.alternate,r),r=r.sibling}function Sa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:rr(4,r,r.return),Sa(r);break;case 1:Fi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&oT(r,r.return,o),Sa(r);break;case 27:yu(r.stateNode);case 26:case 5:Fi(r,r.return),Sa(r);break;case 22:r.memoizedState===null&&Sa(r);break;case 30:Sa(r);break;default:Sa(r)}i=i.sibling}}function _s(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,p=r,_=p.flags;switch(p.tag){case 0:case 11:case 15:_s(f,p,o),ou(4,p);break;case 1:if(_s(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Zt(u,u.return,H)}if(u=p,f=u.updateQueue,f!==null){var A=u.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)Q_(x[f],A)}catch(H){Zt(u,u.return,H)}}o&&_&64&&aT(p),lu(p,p.return);break;case 27:cT(p);case 26:case 5:_s(f,p,o),o&&u===null&&_&4&&lT(p),lu(p,p.return);break;case 12:_s(f,p,o);break;case 31:_s(f,p,o),o&&_&4&&pT(f,p);break;case 13:_s(f,p,o),o&&_&4&&gT(f,p);break;case 22:p.memoizedState===null&&_s(f,p,o),lu(p,p.return);break;case 30:break;default:_s(f,p,o)}r=r.sibling}}function up(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Yl(o))}function cp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Yl(i))}function yi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)_T(i,r,o,u),r=r.sibling}function _T(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:yi(i,r,o,u),f&2048&&ou(9,r);break;case 1:yi(i,r,o,u);break;case 3:yi(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Yl(i)));break;case 12:if(f&2048){yi(i,r,o,u),i=r.stateNode;try{var p=r.memoizedProps,_=p.id,A=p.onPostCommit;typeof A=="function"&&A(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(x){Zt(r,r.return,x)}}else yi(i,r,o,u);break;case 31:yi(i,r,o,u);break;case 13:yi(i,r,o,u);break;case 23:break;case 22:p=r.stateNode,_=r.alternate,r.memoizedState!==null?p._visibility&2?yi(i,r,o,u):uu(i,r):p._visibility&2?yi(i,r,o,u):(p._visibility|=2,Io(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&up(_,r);break;case 24:yi(i,r,o,u),f&2048&&cp(r.alternate,r);break;default:yi(i,r,o,u)}}function Io(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,_=r,A=o,x=u,H=_.flags;switch(_.tag){case 0:case 11:case 15:Io(p,_,A,x,f),ou(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Io(p,_,A,x,f):uu(p,_):(W._visibility|=2,Io(p,_,A,x,f)),f&&H&2048&&up(_.alternate,_);break;case 24:Io(p,_,A,x,f),f&&H&2048&&cp(_.alternate,_);break;default:Io(p,_,A,x,f)}r=r.sibling}}function uu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:uu(o,u),f&2048&&up(u.alternate,u);break;case 24:uu(o,u),f&2048&&cp(u.alternate,u);break;default:uu(o,u)}r=r.sibling}}var cu=8192;function Do(i,r,o){if(i.subtreeFlags&cu)for(i=i.child;i!==null;)TT(i,r,o),i=i.sibling}function TT(i,r,o){switch(i.tag){case 26:Do(i,r,o),i.flags&cu&&i.memoizedState!==null&&ZD(o,gi,i.memoizedState,i.memoizedProps);break;case 5:Do(i,r,o);break;case 3:case 4:var u=gi;gi=Qh(i.stateNode.containerInfo),Do(i,r,o),gi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=cu,cu=16777216,Do(i,r,o),cu=u):Do(i,r,o));break;default:Do(i,r,o)}}function ET(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function hu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ge=u,AT(u,i)}ET(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ST(i),i=i.sibling}function ST(i){switch(i.tag){case 0:case 11:case 15:hu(i),i.flags&2048&&rr(9,i,i.return);break;case 3:hu(i);break;case 12:hu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Lh(i)):hu(i);break;default:hu(i)}}function Lh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ge=u,AT(u,i)}ET(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:rr(8,r,r.return),Lh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Lh(r));break;default:Lh(r)}i=i.sibling}}function AT(i,r){for(;Ge!==null;){var o=Ge;switch(o.tag){case 0:case 11:case 15:rr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Yl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ge=u;else t:for(o=i;Ge!==null;){u=Ge;var f=u.sibling,p=u.return;if(dT(u),u===o){Ge=null;break t}if(f!==null){f.return=p,Ge=f;break t}Ge=p}}}var dD={getCacheForType:function(i){var r=Xe(Ve),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Xe(Ve).controller.signal}},mD=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,Nt=null,Lt=0,Wt=0,Nn=null,ar=!1,xo=!1,hp=!1,Ts=0,ye=0,or=0,Aa=0,fp=0,Pn=0,Vo=0,fu=null,_n=null,dp=!1,kh=0,bT=0,Uh=1/0,jh=null,lr=null,ze=0,ur=null,Mo=null,Es=0,mp=0,pp=null,wT=null,du=0,gp=null;function Ln(){return(Kt&2)!==0&&Lt!==0?Lt&-Lt:Q.T!==null?Sp():zc()}function RT(){if(Pn===0)if((Lt&536870912)===0||Ft){var i=Xr;Xr<<=1,(Xr&3932160)===0&&(Xr=262144),Pn=i}else Pn=536870912;return i=Mn.current,i!==null&&(i.flags|=32),Pn}function Tn(i,r,o){(i===se&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)&&(Oo(i,0),cr(i,Lt,Pn,!1)),Wr(i,o),((Kt&2)===0||i!==se)&&(i===se&&((Kt&2)===0&&(Aa|=o),ye===4&&cr(i,Lt,Pn,!1)),Hi(i))}function CT(i,r,o){if((Kt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||oi(i,r),f=u?yD(i,r):vp(i,r,!0),p=u;do{if(f===0){xo&&!u&&cr(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!pD(o)){f=vp(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;t:{var A=i;f=fu;var x=A.current.memoizedState.isDehydrated;if(x&&(Oo(A,_).flags|=256),_=vp(A,_,!1),_!==2){if(hp&&!x){A.errorRecoveryDisabledLanes|=p,Aa|=p,f=4;break t}p=_n,_n=f,p!==null&&(_n===null?_n=p:_n.push.apply(_n,p))}f=_}if(p=!1,f!==2)continue}}if(f===1){Oo(i,0),cr(i,r,0,!0);break}t:{switch(u=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:cr(u,r,Pn,!ar);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=kh+300-cn(),10<f)){if(cr(u,r,Pn,!ar),wi(u,0,!0)!==0)break t;Es=r,u.timeoutHandle=sE(IT.bind(null,u,o,_n,jh,dp,r,Pn,Aa,Vo,ar,p,"Throttled",-0,0),f);break t}IT(u,o,_n,jh,dp,r,Pn,Aa,Vo,ar,p,null,-0,0)}}break}while(!0);Hi(i)}function IT(i,r,o,u,f,p,_,A,x,H,W,tt,q,Y){if(i.timeoutHandle=-1,tt=r.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},TT(r,p,tt);var dt=(p&62914560)===p?kh-cn():(p&4194048)===p?bT-cn():0;if(dt=JD(tt,dt),dt!==null){Es=p,i.cancelPendingCommit=dt(LT.bind(null,i,r,p,o,u,f,_,A,x,W,tt,null,q,Y)),cr(i,p,_,!H);return}}LT(i,r,p,o,u,f,_,A,x)}function pD(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!xn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function cr(i,r,o,u){r&=~fp,r&=~Aa,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var p=31-_e(f),_=1<<p;u[p]=-1,f&=~_}o!==0&&Zr(i,o,r)}function zh(){return(Kt&6)===0?(mu(0),!1):!0}function yp(){if(Nt!==null){if(Wt===0)var i=Nt.return;else i=Nt,cs=ma=null,Om(i),Ao=null,Xl=0,i=Nt;for(;i!==null;)rT(i.alternate,i),i=i.return;Nt=null}}function Oo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,PD(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Es=0,yp(),se=i,Nt=o=ls(i.current,null),Lt=r,Wt=0,Nn=null,ar=!1,xo=oi(i,r),hp=!1,Vo=Pn=fp=Aa=or=ye=0,_n=fu=null,dp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-_e(u),p=1<<f;r|=i[f],u&=~p}return Ts=r,oh(),o}function DT(i,r){xt=null,Q.H=su,r===So||r===ph?(r=G_(),Wt=3):r===Em?(r=G_(),Wt=4):Wt=r===Qm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Nn=r,Nt===null&&(ye=1,Dh(i,Gn(r,i.current)))}function xT(){var i=Mn.current;return i===null?!0:(Lt&4194048)===Lt?Qn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?i===Qn:!1}function VT(){var i=Q.H;return Q.H=su,i===null?su:i}function MT(){var i=Q.A;return Q.A=dD,i}function Bh(){ye=4,ar||(Lt&4194048)!==Lt&&Mn.current!==null||(xo=!0),(or&134217727)===0&&(Aa&134217727)===0||se===null||cr(se,Lt,Pn,!1)}function vp(i,r,o){var u=Kt;Kt|=2;var f=VT(),p=MT();(se!==i||Lt!==r)&&(jh=null,Oo(i,r)),r=!1;var _=ye;t:do try{if(Wt!==0&&Nt!==null){var A=Nt,x=Nn;switch(Wt){case 8:yp(),_=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var H=Wt;if(Wt=0,Nn=null,No(i,A,x,H),o&&xo){_=0;break t}break;default:H=Wt,Wt=0,Nn=null,No(i,A,x,H)}}gD(),_=ye;break}catch(W){DT(i,W)}while(!0);return r&&i.shellSuspendCounter++,cs=ma=null,Kt=u,Q.H=f,Q.A=p,Nt===null&&(se=null,Lt=0,oh()),_}function gD(){for(;Nt!==null;)OT(Nt)}function yD(i,r){var o=Kt;Kt|=2;var u=VT(),f=MT();se!==i||Lt!==r?(jh=null,Uh=cn()+500,Oo(i,r)):xo=oi(i,r);t:do try{if(Wt!==0&&Nt!==null){r=Nt;var p=Nn;e:switch(Wt){case 1:Wt=0,Nn=null,No(i,r,p,1);break;case 2:case 9:if(H_(p)){Wt=0,Nn=null,NT(r);break}r=function(){Wt!==2&&Wt!==9||se!==i||(Wt=7),Hi(i)},p.then(r,r);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:H_(p)?(Wt=0,Nn=null,NT(r)):(Wt=0,Nn=null,No(i,r,p,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var A=Nt;if(_?_E(_):A.stateNode.complete){Wt=0,Nn=null;var x=A.sibling;if(x!==null)Nt=x;else{var H=A.return;H!==null?(Nt=H,Fh(H)):Nt=null}break e}}Wt=0,Nn=null,No(i,r,p,5);break;case 6:Wt=0,Nn=null,No(i,r,p,6);break;case 8:yp(),ye=6;break t;default:throw Error(s(462))}}vD();break}catch(W){DT(i,W)}while(!0);return cs=ma=null,Q.H=u,Q.A=f,Kt=o,Nt!==null?0:(se=null,Lt=0,oh(),ye)}function vD(){for(;Nt!==null&&!Yd();)OT(Nt)}function OT(i){var r=iT(i.alternate,i,Ts);i.memoizedProps=i.pendingProps,r===null?Fh(i):Nt=r}function NT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=W0(o,r,r.pendingProps,r.type,void 0,Lt);break;case 11:r=W0(o,r,r.pendingProps,r.type.render,r.ref,Lt);break;case 5:Om(r);default:rT(o,r),r=Nt=M_(r,Ts),r=iT(o,r,Ts)}i.memoizedProps=i.pendingProps,r===null?Fh(i):Nt=r}function No(i,r,o,u){cs=ma=null,Om(r),Ao=null,Xl=0;var f=r.return;try{if(aD(i,f,r,o,Lt)){ye=1,Dh(i,Gn(o,i.current)),Nt=null;return}}catch(p){if(f!==null)throw Nt=f,p;ye=1,Dh(i,Gn(o,i.current)),Nt=null;return}r.flags&32768?(Ft||u===1?i=!0:xo||(Lt&536870912)!==0?i=!1:(ar=i=!0,(u===2||u===9||u===3||u===6)&&(u=Mn.current,u!==null&&u.tag===13&&(u.flags|=16384))),PT(r,i)):Fh(r)}function Fh(i){var r=i;do{if((r.flags&32768)!==0){PT(r,ar);return}i=r.return;var o=uD(r.alternate,r,Ts);if(o!==null){Nt=o;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=i}while(r!==null);ye===0&&(ye=5)}function PT(i,r){do{var o=cD(i.alternate,i);if(o!==null){o.flags&=32767,Nt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Nt=i;return}Nt=i=o}while(i!==null);ye=6,Nt=null}function LT(i,r,o,u,f,p,_,A,x){i.cancelPendingCommit=null;do Hh();while(ze!==0);if((Kt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=am,Wd(i,o,p,_,A,x),i===se&&(Nt=se=null,Lt=0),Mo=r,ur=i,Es=o,mp=p,pp=f,wT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,SD(zs,function(){return BT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,f=st.p,st.p=2,_=Kt,Kt|=4;try{hD(i,r,o)}finally{Kt=_,st.p=f,Q.T=u}}ze=1,kT(),UT(),jT()}}function kT(){if(ze===1){ze=0;var i=ur,r=Mo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var u=st.p;st.p=2;var f=Kt;Kt|=4;try{yT(r,i);var p=xp,_=A_(i.containerInfo),A=p.focusedElem,x=p.selectionRange;if(_!==A&&A&&A.ownerDocument&&S_(A.ownerDocument.documentElement,A)){if(x!==null&&em(A)){var H=x.start,W=x.end;if(W===void 0&&(W=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min(W,A.value.length);else{var tt=A.ownerDocument||document,q=tt&&tt.defaultView||window;if(q.getSelection){var Y=q.getSelection(),dt=A.textContent.length,_t=Math.min(x.start,dt),ie=x.end===void 0?_t:Math.min(x.end,dt);!Y.extend&&_t>ie&&(_=ie,ie=_t,_t=_);var j=E_(A,_t),P=E_(A,ie);if(j&&P&&(Y.rangeCount!==1||Y.anchorNode!==j.node||Y.anchorOffset!==j.offset||Y.focusNode!==P.node||Y.focusOffset!==P.offset)){var F=tt.createRange();F.setStart(j.node,j.offset),Y.removeAllRanges(),_t>ie?(Y.addRange(F),Y.extend(P.node,P.offset)):(F.setEnd(P.node,P.offset),Y.addRange(F))}}}}for(tt=[],Y=A;Y=Y.parentNode;)Y.nodeType===1&&tt.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<tt.length;A++){var Z=tt[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}ef=!!Dp,xp=Dp=null}finally{Kt=f,st.p=u,Q.T=o}}i.current=r,ze=2}}function UT(){if(ze===2){ze=0;var i=ur,r=Mo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var u=st.p;st.p=2;var f=Kt;Kt|=4;try{fT(i,r.alternate,r)}finally{Kt=f,st.p=u,Q.T=o}}ze=3}}function jT(){if(ze===4||ze===3){ze=0,Oc();var i=ur,r=Mo,o=Es,u=wT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ze=5:(ze=0,Mo=ur=null,zT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(lr=null),ss(o),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ai,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Q.T,f=st.p,st.p=2,Q.T=null;try{for(var p=i.onRecoverableError,_=0;_<u.length;_++){var A=u[_];p(A.value,{componentStack:A.stack})}}finally{Q.T=r,st.p=f}}(Es&3)!==0&&Hh(),Hi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===gp?du++:(du=0,gp=i):du=0,mu(0)}}function zT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Yl(r)))}function Hh(){return kT(),UT(),jT(),BT()}function BT(){if(ze!==5)return!1;var i=ur,r=mp;mp=0;var o=ss(Es),u=Q.T,f=st.p;try{st.p=32>o?32:o,Q.T=null,o=pp,pp=null;var p=ur,_=Es;if(ze=0,Mo=ur=null,Es=0,(Kt&6)!==0)throw Error(s(331));var A=Kt;if(Kt|=4,ST(p.current),_T(p,p.current,_,o),Kt=A,mu(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ai,p)}catch{}return!0}finally{st.p=f,Q.T=u,zT(i,r)}}function FT(i,r,o){r=Gn(o,r),r=Ym(i.stateNode,r,2),i=nr(i,r,2),i!==null&&(Wr(i,2),Hi(i))}function Zt(i,r,o){if(i.tag===3)FT(i,i,o);else for(;r!==null;){if(r.tag===3){FT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(lr===null||!lr.has(u))){i=Gn(o,i),o=H0(2),u=nr(r,o,2),u!==null&&(q0(o,u,r,i),Wr(u,2),Hi(u));break}}r=r.return}}function _p(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new mD;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(hp=!0,f.add(o),i=_D.bind(null,i,r,o),r.then(i,i))}function _D(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,se===i&&(Lt&o)===o&&(ye===4||ye===3&&(Lt&62914560)===Lt&&300>cn()-kh?(Kt&2)===0&&Oo(i,0):fp|=o,Vo===Lt&&(Vo=0)),Hi(i)}function HT(i,r){r===0&&(r=jc()),i=ha(i,r),i!==null&&(Wr(i,r),Hi(i))}function TD(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),HT(i,o)}function ED(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),HT(i,o)}function SD(i,r){return je(i,r)}var qh=null,Po=null,Tp=!1,Gh=!1,Ep=!1,hr=0;function Hi(i){i!==Po&&i.next===null&&(Po===null?qh=Po=i:Po=Po.next=i),Gh=!0,Tp||(Tp=!0,bD())}function mu(i,r){if(!Ep&&Gh){Ep=!0;do for(var o=!1,u=qh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var _=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-_e(42|i)+1)-1,p&=f&~(_&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,KT(u,p))}else p=Lt,p=wi(u,u===se?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||oi(u,p)||(o=!0,KT(u,p));u=u.next}while(o);Ep=!1}}function AD(){qT()}function qT(){Gh=Tp=!1;var i=0;hr!==0&&ND()&&(i=hr);for(var r=cn(),o=null,u=qh;u!==null;){var f=u.next,p=GT(u,r);p===0?(u.next=null,o===null?qh=f:o.next=f,f===null&&(Po=o)):(o=u,(i!==0||(p&3)!==0)&&(Gh=!0)),u=f}ze!==0&&ze!==5||mu(i),hr!==0&&(hr=0)}function GT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var _=31-_e(p),A=1<<_,x=f[_];x===-1?((A&o)===0||(A&u)!==0)&&(f[_]=Xd(A,r)):x<=r&&(i.expiredLanes|=A),p&=~A}if(r=se,o=Lt,o=wi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&js(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||oi(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&js(u),ss(o)){case 2:case 8:o=bl;break;case 32:o=zs;break;case 268435456:o=Nc;break;default:o=zs}return u=$T.bind(null,i),o=je(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&js(u),i.callbackPriority=2,i.callbackNode=null,2}function $T(i,r){if(ze!==0&&ze!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Hh()&&i.callbackNode!==o)return null;var u=Lt;return u=wi(i,i===se?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(CT(i,u,r),GT(i,cn()),i.callbackNode!=null&&i.callbackNode===o?$T.bind(null,i):null)}function KT(i,r){if(Hh())return null;CT(i,r,!0)}function bD(){LD(function(){(Kt&6)!==0?je(Al,AD):qT()})}function Sp(){if(hr===0){var i=To;i===0&&(i=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),hr=i}return hr}function YT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:so(""+i)}function QT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function wD(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var p=YT((f[He]||null).action),_=u.submitter;_&&(r=(r=_[He]||null)?YT(r.formAction):_.getAttribute("formAction"),r!==null&&(p=r,_=null));var A=new Li("action","action",null,u,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(hr!==0){var x=_?QT(f,_):new FormData(f);Fm(o,{pending:!0,data:x,method:f.method,action:p},null,x)}}else typeof p=="function"&&(A.preventDefault(),x=_?QT(f,_):new FormData(f),Fm(o,{pending:!0,data:x,method:f.method,action:p},p,x))},currentTarget:f}]})}}for(var Ap=0;Ap<rm.length;Ap++){var bp=rm[Ap],RD=bp.toLowerCase(),CD=bp[0].toUpperCase()+bp.slice(1);pi(RD,"on"+CD)}pi(R_,"onAnimationEnd"),pi(C_,"onAnimationIteration"),pi(I_,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(HI,"onTransitionRun"),pi(qI,"onTransitionStart"),pi(GI,"onTransitionCancel"),pi(D_,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ID=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pu));function XT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var A=u[_],x=A.instance,H=A.currentTarget;if(A=A.listener,x!==p&&f.isPropagationStopped())break t;p=A,f.currentTarget=H;try{p(f)}catch(W){ah(W)}f.currentTarget=null,p=x}else for(_=0;_<u.length;_++){if(A=u[_],x=A.instance,H=A.currentTarget,A=A.listener,x!==p&&f.isPropagationStopped())break t;p=A,f.currentTarget=H;try{p(f)}catch(W){ah(W)}f.currentTarget=null,p=x}}}}function Pt(i,r){var o=r[Ja];o===void 0&&(o=r[Ja]=new Set);var u=i+"__bubble";o.has(u)||(WT(r,i,2,!1),o.add(u))}function wp(i,r,o){var u=0;r&&(u|=4),WT(o,i,u,r)}var $h="_reactListening"+Math.random().toString(36).slice(2);function Rp(i){if(!i[$h]){i[$h]=!0,Cl.forEach(function(o){o!=="selectionchange"&&(ID.has(o)||wp(o,!1,i),wp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[$h]||(r[$h]=!0,wp("selectionchange",!1,r))}}function WT(i,r,o,u){switch(RE(r)){case 2:var f=n2;break;case 8:f=i2;break;default:f=Bp}o=f.bind(null,r,o,i),f=void 0,!ia||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Cp(i,r,o,u,f){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var A=u.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=u.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=Di(A),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){u=p=_;continue t}A=A.parentNode}}u=u.return}$s(function(){var H=p,W=Bn(o),tt=[];t:{var q=x_.get(i);if(q!==void 0){var Y=Li,dt=i;switch(i){case"keypress":if(ra(o)===0)break t;case"keydown":case"keyup":Y=ih;break;case"focusin":dt="focus",Y=oa;break;case"focusout":dt="blur",Y=oa;break;case"beforeblur":case"afterblur":Y=oa;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=v;break;case R_:case C_:case I_:Y=Xc;break;case D_:Y=b;break;case"scroll":case"scrollend":Y=jl;break;case"wheel":Y=G;break;case"copy":case"cut":case"paste":Y=Wc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=os;break;case"toggle":case"beforetoggle":Y=Dt}var _t=(r&4)!==0,ie=!_t&&(i==="scroll"||i==="scrollend"),j=_t?q!==null?q+"Capture":null:q;_t=[];for(var P=H,F;P!==null;){var Z=P;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||j===null||(Z=hi(P,j),Z!=null&&_t.push(gu(P,Z,F))),ie)break;P=P.return}0<_t.length&&(q=new Y(q,dt,null,o,W),tt.push({event:q,listeners:_t}))}}if((r&7)===0){t:{if(q=i==="mouseover"||i==="pointerover",Y=i==="mouseout"||i==="pointerout",q&&o!==Ll&&(dt=o.relatedTarget||o.fromElement)&&(Di(dt)||dt[Ci]))break t;if((Y||q)&&(q=W.window===W?W:(q=W.ownerDocument)?q.defaultView||q.parentWindow:window,Y?(dt=o.relatedTarget||o.toElement,Y=H,dt=dt?Di(dt):null,dt!==null&&(ie=l(dt),_t=dt.tag,dt!==ie||_t!==5&&_t!==27&&_t!==6)&&(dt=null)):(Y=null,dt=H),Y!==dt)){if(_t=zl,Z="onMouseLeave",j="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(_t=os,Z="onPointerLeave",j="onPointerEnter",P="pointer"),ie=Y==null?q:In(Y),F=dt==null?q:In(dt),q=new _t(Z,P+"leave",Y,o,W),q.target=ie,q.relatedTarget=F,Z=null,Di(W)===H&&(_t=new _t(j,P+"enter",dt,o,W),_t.target=F,_t.relatedTarget=ie,Z=_t),ie=Z,Y&&dt)e:{for(_t=DD,j=Y,P=dt,F=0,Z=j;Z;Z=_t(Z))F++;Z=0;for(var gt=P;gt;gt=_t(gt))Z++;for(;0<F-Z;)j=_t(j),F--;for(;0<Z-F;)P=_t(P),Z--;for(;F--;){if(j===P||P!==null&&j===P.alternate){_t=j;break e}j=_t(j),P=_t(P)}_t=null}else _t=null;Y!==null&&ZT(tt,q,Y,_t,!1),dt!==null&&ie!==null&&ZT(tt,ie,dt,_t,!0)}}t:{if(q=H?In(H):window,Y=q.nodeName&&q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&q.type==="file")var qt=p_;else if(d_(q))if(g_)qt=zI;else{qt=UI;var pt=kI}else Y=q.nodeName,!Y||Y.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&io(H.elementType)&&(qt=p_):qt=jI;if(qt&&(qt=qt(i,H))){m_(tt,qt,o,W);break t}pt&&pt(i,q,H),i==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Ol(q,"number",q.value)}switch(pt=H?In(H):window,i){case"focusin":(d_(pt)||pt.contentEditable==="true")&&(ho=pt,nm=H,Gl=null);break;case"focusout":Gl=nm=ho=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,b_(tt,o,W);break;case"selectionchange":if(FI)break;case"keydown":case"keyup":b_(tt,o,W)}var Mt;if($t)t:{switch(i){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else co?la(i,o)&&(kt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(kt="onCompositionStart");kt&&(ji&&o.locale!=="ko"&&(co||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&co&&(Mt=Ul()):(Pi=W,kl="value"in Pi?Pi.value:Pi.textContent,co=!0)),pt=Kh(H,kt),0<pt.length&&(kt=new Ui(kt,i,null,o,W),tt.push({event:kt,listeners:pt}),Mt?kt.data=Mt:(Mt=uo(o),Mt!==null&&(kt.data=Mt)))),(Mt=Hn?OI(i,o):NI(i,o))&&(kt=Kh(H,"onBeforeInput"),0<kt.length&&(pt=new Ui("onBeforeInput","beforeinput",null,o,W),tt.push({event:pt,listeners:kt}),pt.data=Mt)),wD(tt,i,H,o,W)}XT(tt,r)})}function gu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Kh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=hi(i,o),f!=null&&u.unshift(gu(i,f,p)),f=hi(i,r),f!=null&&u.push(gu(i,f,p))),i.tag===3)return u;i=i.return}return[]}function DD(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ZT(i,r,o,u,f){for(var p=r._reactName,_=[];o!==null&&o!==u;){var A=o,x=A.alternate,H=A.stateNode;if(A=A.tag,x!==null&&x===u)break;A!==5&&A!==26&&A!==27||H===null||(x=H,f?(H=hi(o,p),H!=null&&_.unshift(gu(o,H,x))):f||(H=hi(o,p),H!=null&&_.push(gu(o,H,x)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var xD=/\r\n?/g,VD=/\u0000|\uFFFD/g;function JT(i){return(typeof i=="string"?i:""+i).replace(xD,`
`).replace(VD,"")}function tE(i,r){return r=JT(r),JT(i)===r}function ne(i,r,o,u,f,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||pn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&pn(i,""+u);break;case"className":Dn(i,"class",u);break;case"tabIndex":Dn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(i,o,u);break;case"style":Pl(i,u,p);break;case"data":if(r!=="object"){Dn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=so(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&ne(i,r,"name",f.name,f,null),ne(i,r,"formEncType",f.formEncType,f,null),ne(i,r,"formMethod",f.formMethod,f,null),ne(i,r,"formTarget",f.formTarget,f,null)):(ne(i,r,"encType",f.encType,f,null),ne(i,r,"method",f.method,f,null),ne(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=so(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ci);break;case"onScroll":u!=null&&Pt("scroll",i);break;case"onScrollEnd":u!=null&&Pt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=so(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Pt("beforetoggle",i),Pt("toggle",i),eo(i,"popover",u);break;case"xlinkActuate":xe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":xe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":xe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":xe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":xe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":xe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":xe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":xe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":xe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":eo(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Kc.get(o)||o,eo(i,o,u))}}function Ip(i,r,o,u,f,p){switch(o){case"style":Pl(i,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?pn(i,u):(typeof u=="number"||typeof u=="bigint")&&pn(i,""+u);break;case"onScroll":u!=null&&Pt("scroll",i);break;case"onScrollEnd":u!=null&&Pt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Il.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[He]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):eo(i,o,u)}}}function Ze(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",i),Pt("load",i);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var _=o[p];if(_!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ne(i,r,p,_,o,null)}}f&&ne(i,r,"srcSet",o.srcSet,o,null),u&&ne(i,r,"src",o.src,o,null);return;case"input":Pt("invalid",i);var A=p=_=f=null,x=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var W=o[u];if(W!=null)switch(u){case"name":f=W;break;case"type":_=W;break;case"checked":x=W;break;case"defaultChecked":H=W;break;case"value":p=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:ne(i,r,u,W,o,null)}}qc(i,p,A,x,H,_,f,!1);return;case"select":Pt("invalid",i),u=_=p=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":p=A;break;case"defaultValue":_=A;break;case"multiple":u=A;default:ne(i,r,f,A,o,null)}r=p,o=_,i.multiple=!!u,r!=null?Fs(i,!!u,r,!1):o!=null&&Fs(i,!!u,o,!0);return;case"textarea":Pt("invalid",i),p=f=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(A=o[_],A!=null))switch(_){case"value":u=A;break;case"defaultValue":f=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ne(i,r,_,A,o,null)}Hs(i,u,f,p);return;case"option":for(x in o)if(o.hasOwnProperty(x)&&(u=o[x],u!=null))switch(x){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ne(i,r,x,u,o,null)}return;case"dialog":Pt("beforetoggle",i),Pt("toggle",i),Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":Pt("load",i);break;case"video":case"audio":for(u=0;u<pu.length;u++)Pt(pu[u],i);break;case"image":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"embed":case"source":case"link":Pt("error",i),Pt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ne(i,r,H,u,o,null)}return;default:if(io(r)){for(W in o)o.hasOwnProperty(W)&&(u=o[W],u!==void 0&&Ip(i,r,W,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&ne(i,r,A,u,o,null))}function MD(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,_=null,A=null,x=null,H=null,W=null;for(Y in o){var tt=o[Y];if(o.hasOwnProperty(Y)&&tt!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":x=tt;default:u.hasOwnProperty(Y)||ne(i,r,Y,null,u,tt)}}for(var q in u){var Y=u[q];if(tt=o[q],u.hasOwnProperty(q)&&(Y!=null||tt!=null))switch(q){case"type":p=Y;break;case"name":f=Y;break;case"checked":H=Y;break;case"defaultChecked":W=Y;break;case"value":_=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==tt&&ne(i,r,q,Y,u,tt)}}no(i,_,A,x,H,W,p,f);return;case"select":Y=_=A=q=null;for(p in o)if(x=o[p],o.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":Y=x;default:u.hasOwnProperty(p)||ne(i,r,p,null,u,x)}for(f in u)if(p=u[f],x=o[f],u.hasOwnProperty(f)&&(p!=null||x!=null))switch(f){case"value":q=p;break;case"defaultValue":A=p;break;case"multiple":_=p;default:p!==x&&ne(i,r,f,p,u,x)}r=A,o=_,u=Y,q!=null?Fs(i,!!o,q,!1):!!u!=!!o&&(r!=null?Fs(i,!!o,r,!0):Fs(i,!!o,o?[]:"",!1));return;case"textarea":Y=q=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ne(i,r,A,null,u,f)}for(_ in u)if(f=u[_],p=o[_],u.hasOwnProperty(_)&&(f!=null||p!=null))switch(_){case"value":q=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&ne(i,r,_,f,u,p)}Gc(i,q,Y);return;case"option":for(var dt in o)if(q=o[dt],o.hasOwnProperty(dt)&&q!=null&&!u.hasOwnProperty(dt))switch(dt){case"selected":i.selected=!1;break;default:ne(i,r,dt,null,u,q)}for(x in u)if(q=u[x],Y=o[x],u.hasOwnProperty(x)&&q!==Y&&(q!=null||Y!=null))switch(x){case"selected":i.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ne(i,r,x,q,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in o)q=o[_t],o.hasOwnProperty(_t)&&q!=null&&!u.hasOwnProperty(_t)&&ne(i,r,_t,null,u,q);for(H in u)if(q=u[H],Y=o[H],u.hasOwnProperty(H)&&q!==Y&&(q!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:ne(i,r,H,q,u,Y)}return;default:if(io(r)){for(var ie in o)q=o[ie],o.hasOwnProperty(ie)&&q!==void 0&&!u.hasOwnProperty(ie)&&Ip(i,r,ie,void 0,u,q);for(W in u)q=u[W],Y=o[W],!u.hasOwnProperty(W)||q===Y||q===void 0&&Y===void 0||Ip(i,r,W,q,u,Y);return}}for(var j in o)q=o[j],o.hasOwnProperty(j)&&q!=null&&!u.hasOwnProperty(j)&&ne(i,r,j,null,u,q);for(tt in u)q=u[tt],Y=o[tt],!u.hasOwnProperty(tt)||q===Y||q==null&&Y==null||ne(i,r,tt,q,u,Y)}function eE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OD(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],p=f.transferSize,_=f.initiatorType,A=f.duration;if(p&&A&&eE(_)){for(_=0,A=f.responseEnd,u+=1;u<o.length;u++){var x=o[u],H=x.startTime;if(H>A)break;var W=x.transferSize,tt=x.initiatorType;W&&eE(tt)&&(x=x.responseEnd,_+=W*(x<A?1:(A-H)/(x-H)))}if(--u,r+=8*(p+_)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Dp=null,xp=null;function Yh(i){return i.nodeType===9?i:i.ownerDocument}function nE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Vp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Mp=null;function ND(){var i=window.event;return i&&i.type==="popstate"?i===Mp?!1:(Mp=i,!0):(Mp=null,!1)}var sE=typeof setTimeout=="function"?setTimeout:void 0,PD=typeof clearTimeout=="function"?clearTimeout:void 0,rE=typeof Promise=="function"?Promise:void 0,LD=typeof queueMicrotask=="function"?queueMicrotask:typeof rE<"u"?function(i){return rE.resolve(null).then(i).catch(kD)}:sE;function kD(i){setTimeout(function(){throw i})}function fr(i){return i==="head"}function aE(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),jo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")yu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,yu(o);for(var p=o.firstChild;p;){var _=p.nextSibling,A=p.nodeName;p[Ii]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=_}}else o==="body"&&yu(i.ownerDocument.body);o=f}while(o);jo(r)}function oE(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Op(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Op(o),to(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function UD(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ii])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Xn(i.nextSibling),i===null)break}return null}function jD(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Xn(i.nextSibling),i===null))return null;return i}function lE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Xn(i.nextSibling),i===null))return null;return i}function Np(i){return i.data==="$?"||i.data==="$~"}function Pp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function zD(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Xn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Lp=null;function uE(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Xn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function cE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function hE(i,r,o){switch(r=Yh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function yu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);to(i)}var Wn=new Map,fE=new Set;function Qh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ss=st.d;st.d={f:BD,r:FD,D:HD,C:qD,L:GD,m:$D,X:YD,S:KD,M:QD};function BD(){var i=Ss.f(),r=zh();return i||r}function FD(i){var r=zn(i);r!==null&&r.tag===5&&r.type==="form"?D0(r):Ss.r(i)}var Lo=typeof document>"u"?null:document;function dE(i,r,o){var u=Lo;if(u&&typeof r=="string"&&r){var f=mn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),fE.has(f)||(fE.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Ze(r,"link",i),De(r),u.head.appendChild(r)))}}function HD(i){Ss.D(i),dE("dns-prefetch",i,null)}function qD(i,r){Ss.C(i,r),dE("preconnect",i,r)}function GD(i,r,o){Ss.L(i,r,o);var u=Lo;if(u&&i&&r){var f='link[rel="preload"][as="'+mn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+mn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+mn(o.imageSizes)+'"]')):f+='[href="'+mn(i)+'"]';var p=f;switch(r){case"style":p=ko(i);break;case"script":p=Uo(i)}Wn.has(p)||(i=T({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Wn.set(p,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(vu(p))||r==="script"&&u.querySelector(_u(p))||(r=u.createElement("link"),Ze(r,"link",i),De(r),u.head.appendChild(r)))}}function $D(i,r){Ss.m(i,r);var o=Lo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+mn(u)+'"][href="'+mn(i)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Uo(i)}if(!Wn.has(p)&&(i=T({rel:"modulepreload",href:i},r),Wn.set(p,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(_u(p)))return}u=o.createElement("link"),Ze(u,"link",i),De(u),o.head.appendChild(u)}}}function KD(i,r,o){Ss.S(i,r,o);var u=Lo;if(u&&i){var f=xi(u).hoistableStyles,p=ko(i);r=r||"default";var _=f.get(p);if(!_){var A={loading:0,preload:null};if(_=u.querySelector(vu(p)))A.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Wn.get(p))&&kp(i,o);var x=_=u.createElement("link");De(x),Ze(x,"link",i),x._p=new Promise(function(H,W){x.onload=H,x.onerror=W}),x.addEventListener("load",function(){A.loading|=1}),x.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Xh(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(p,_)}}}function YD(i,r){Ss.X(i,r);var o=Lo;if(o&&i){var u=xi(o).hoistableScripts,f=Uo(i),p=u.get(f);p||(p=o.querySelector(_u(f)),p||(i=T({src:i,async:!0},r),(r=Wn.get(f))&&Up(i,r),p=o.createElement("script"),De(p),Ze(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function QD(i,r){Ss.M(i,r);var o=Lo;if(o&&i){var u=xi(o).hoistableScripts,f=Uo(i),p=u.get(f);p||(p=o.querySelector(_u(f)),p||(i=T({src:i,async:!0,type:"module"},r),(r=Wn.get(f))&&Up(i,r),p=o.createElement("script"),De(p),Ze(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function mE(i,r,o,u){var f=(f=It.current)?Qh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=ko(o.href),o=xi(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ko(o.href);var p=xi(f).hoistableStyles,_=p.get(i);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,_),(p=f.querySelector(vu(i)))&&!p._p&&(_.instance=p,_.state.loading=5),Wn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wn.set(i,o),p||XD(f,i,o,_.state))),r&&u===null)throw Error(s(528,""));return _}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Uo(o),o=xi(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ko(i){return'href="'+mn(i)+'"'}function vu(i){return'link[rel="stylesheet"]['+i+"]"}function pE(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function XD(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ze(r,"link",o),De(r),i.head.appendChild(r))}function Uo(i){return'[src="'+mn(i)+'"]'}function _u(i){return"script[async]"+i}function gE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+mn(o.href)+'"]');if(u)return r.instance=u,De(u),u;var f=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),De(u),Ze(u,"style",f),Xh(u,o.precedence,i),r.instance=u;case"stylesheet":f=ko(o.href);var p=i.querySelector(vu(f));if(p)return r.state.loading|=4,r.instance=p,De(p),p;u=pE(o),(f=Wn.get(f))&&kp(u,f),p=(i.ownerDocument||i).createElement("link"),De(p);var _=p;return _._p=new Promise(function(A,x){_.onload=A,_.onerror=x}),Ze(p,"link",u),r.state.loading|=4,Xh(p,o.precedence,i),r.instance=p;case"script":return p=Uo(o.src),(f=i.querySelector(_u(p)))?(r.instance=f,De(f),f):(u=o,(f=Wn.get(p))&&(u=T({},o),Up(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),De(f),Ze(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Xh(u,o.precedence,i));return r.instance}function Xh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,_=0;_<u.length;_++){var A=u[_];if(A.dataset.precedence===r)p=A;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function kp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Up(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Wh=null;function yE(i,r,o){if(Wh===null){var u=new Map,f=Wh=new Map;f.set(o,u)}else f=Wh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Ii]||p[Ie]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(r)||"";_=i+_;var A=u.get(_);A?A.push(p):u.set(_,[p])}}return u}function vE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function WD(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function _E(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function ZD(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=ko(u.href),p=r.querySelector(vu(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Zh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,De(p);return}p=r.ownerDocument||r,u=pE(u),(f=Wn.get(f))&&kp(u,f),p=p.createElement("link"),De(p);var _=p;_._p=new Promise(function(A,x){_.onload=A,_.onerror=x}),Ze(p,"link",u),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Zh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var jp=0;function JD(i,r){return i.stylesheets&&i.count===0&&tf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&tf(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&jp===0&&(jp=62500*OD());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&tf(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>jp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Zh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Jh=null;function tf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Jh=new Map,r.forEach(t2,i),Jh=null,Zh.call(i))}function t2(i,r){if(!(r.state.loading&4)){var o=Jh.get(i);if(o)var u=o.get(null);else{o=new Map,Jh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var _=f[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}f=r.instance,_=f.getAttribute("data-precedence"),p=o.get(_)||u,p===u&&o.set(null,f),o.set(_,f),this.count++,u=Zh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Tu={$$typeof:K,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function e2(i,r,o,u,f,p,_,A,x){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function TE(i,r,o,u,f,p,_,A,x,H,W,tt){return i=new e2(i,r,o,_,x,H,W,tt,A),r=1,p===!0&&(r|=24),p=Vn(3,null,null,r),i.current=p,p.stateNode=i,r=vm(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},Sm(p),i}function EE(i){return i?(i=po,i):po}function SE(i,r,o,u,f,p){f=EE(f),u.context===null?u.context=f:u.pendingContext=f,u=er(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=nr(i,u,r),o!==null&&(Tn(o,i,r),Zl(o,i,r))}function AE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function zp(i,r){AE(i,r),(i=i.alternate)&&AE(i,r)}function bE(i){if(i.tag===13||i.tag===31){var r=ha(i,67108864);r!==null&&Tn(r,i,67108864),zp(i,67108864)}}function wE(i){if(i.tag===13||i.tag===31){var r=Ln();r=Jr(r);var o=ha(i,r);o!==null&&Tn(o,i,r),zp(i,r)}}var ef=!0;function n2(i,r,o,u){var f=Q.T;Q.T=null;var p=st.p;try{st.p=2,Bp(i,r,o,u)}finally{st.p=p,Q.T=f}}function i2(i,r,o,u){var f=Q.T;Q.T=null;var p=st.p;try{st.p=8,Bp(i,r,o,u)}finally{st.p=p,Q.T=f}}function Bp(i,r,o,u){if(ef){var f=Fp(u);if(f===null)Cp(i,r,u,nf,o),CE(i,u);else if(r2(f,i,r,o,u))u.stopPropagation();else if(CE(i,u),r&4&&-1<s2.indexOf(i)){for(;f!==null;){var p=zn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=bi(p.pendingLanes);if(_!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var x=1<<31-_e(_);A.entanglements[1]|=x,_&=~x}Hi(p),(Kt&6)===0&&(Uh=cn()+500,mu(0))}}break;case 31:case 13:A=ha(p,2),A!==null&&Tn(A,p,2),zh(),zp(p,2)}if(p=Fp(u),p===null&&Cp(i,r,u,nf,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else Cp(i,r,u,null,o)}}function Fp(i){return i=Bn(i),Hp(i)}var nf=null;function Hp(i){if(nf=null,i=Di(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return nf=i,null}function RE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qr()){case Al:return 2;case bl:return 8;case zs:case Qd:return 32;case Nc:return 268435456;default:return 32}default:return 32}}var qp=!1,dr=null,mr=null,pr=null,Eu=new Map,Su=new Map,gr=[],s2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CE(i,r){switch(i){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Eu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(r.pointerId)}}function Au(i,r,o,u,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=zn(r),r!==null&&bE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function r2(i,r,o,u,f){switch(r){case"focusin":return dr=Au(dr,i,r,o,u,f),!0;case"dragenter":return mr=Au(mr,i,r,o,u,f),!0;case"mouseover":return pr=Au(pr,i,r,o,u,f),!0;case"pointerover":var p=f.pointerId;return Eu.set(p,Au(Eu.get(p)||null,i,r,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,Su.set(p,Au(Su.get(p)||null,i,r,o,u,f)),!0}return!1}function IE(i){var r=Di(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,li(i.priority,function(){wE(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,li(i.priority,function(){wE(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function sf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Fp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Ll=u,o.target.dispatchEvent(u),Ll=null}else return r=zn(o),r!==null&&bE(r),i.blockedOn=o,!1;r.shift()}return!0}function DE(i,r,o){sf(i)&&o.delete(r)}function a2(){qp=!1,dr!==null&&sf(dr)&&(dr=null),mr!==null&&sf(mr)&&(mr=null),pr!==null&&sf(pr)&&(pr=null),Eu.forEach(DE),Su.forEach(DE)}function rf(i,r){i.blockedOn===r&&(i.blockedOn=null,qp||(qp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,a2)))}var af=null;function xE(i){af!==i&&(af=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){af===i&&(af=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(Hp(u||o)===null)continue;break}var p=zn(o);p!==null&&(i.splice(r,3),r-=3,Fm(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function jo(i){function r(x){return rf(x,i)}dr!==null&&rf(dr,i),mr!==null&&rf(mr,i),pr!==null&&rf(pr,i),Eu.forEach(r),Su.forEach(r);for(var o=0;o<gr.length;o++){var u=gr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<gr.length&&(o=gr[0],o.blockedOn===null);)IE(o),o.blockedOn===null&&gr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],_=f[He]||null;if(typeof p=="function")_||xE(o);else if(_){var A=null;if(p&&p.hasAttribute("formAction")){if(f=p,_=p[He]||null)A=_.formAction;else if(Hp(f)!==null)continue}else A=_.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),xE(o)}}}function VE(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Gp(i){this._internalRoot=i}of.prototype.render=Gp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Ln();SE(o,u,i,r,null,null)},of.prototype.unmount=Gp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;SE(i.current,2,null,i,null,null),zh(),r[Ci]=null}};function of(i){this._internalRoot=i}of.prototype.unstable_scheduleHydration=function(i){if(i){var r=zc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<gr.length&&r!==0&&r<gr[o].priority;o++);gr.splice(o,0,i),o===0&&IE(i)}};var ME=t.version;if(ME!=="19.2.0")throw Error(s(527,ME,"19.2.0"));st.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var o2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{ai=lf.inject(o2),Ke=lf}catch{}}return wu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=j0,p=z0,_=B0;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=TE(i,1,!1,null,null,o,u,null,f,p,_,VE),i[Ci]=r.current,Rp(i),new Gp(r)},wu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",p=j0,_=z0,A=B0,x=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(x=o.formState)),r=TE(i,1,!0,r,o??null,u,f,x,p,_,A,VE),r.context=EE(null),o=r.current,u=Ln(),u=Jr(u),f=er(u),f.callback=null,nr(o,f,u),o=u,r.current.lanes=o,Wr(r,o),Hi(r),i[Ci]=r.current,Rp(i),new of(r)},wu.version="19.2.0",wu}var HE;function y2(){if(HE)return Yp.exports;HE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yp.exports=g2(),Yp.exports}var v2=y2();const _2=Qb(v2),T2=()=>{};var qE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},E2=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},Zb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,g=m?e[a+2]:0,y=l>>2,T=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,R=g&63;m||(R=64,c||(S=64)),s.push(n[y],n[T],n[S],n[R])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Wb(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):E2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const g=a<e.length?n[e.charAt(a)]:64;++a;const T=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||g==null||T==null)throw new S2;const S=l<<2|d>>4;if(s.push(S),g!==64){const R=d<<4&240|g>>2;if(s.push(R),T!==64){const V=g<<6&192|T;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class S2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A2=function(e){const t=Wb(e);return Zb.encodeByteArray(t,!0)},kf=function(e){return A2(e).replace(/\./g,"")},Jb=function(e){try{return Zb.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=()=>b2().__FIREBASE_DEFAULTS__,R2=()=>{if(typeof process>"u"||typeof qE>"u")return;const e=qE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},C2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Jb(e[1]);return t&&JSON.parse(t)},dd=()=>{try{return T2()||w2()||R2()||C2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},t1=e=>dd()?.emulatorHosts?.[e],I2=e=>{const t=t1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},e1=()=>dd()?.config,n1=e=>dd()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i1(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[kf(JSON.stringify(n)),kf(JSON.stringify(c)),""].join(".")}const ku={};function V2(){const e={prod:[],emulator:[]};for(const t of Object.keys(ku))ku[t]?e.emulator.push(t):e.prod.push(t);return e}function M2(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let GE=!1;function s1(e,t){if(typeof window>"u"||typeof document>"u"||!cl(window.location.host)||ku[e]===t||ku[e]||GE)return;ku[e]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=V2().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,R){S.setAttribute("width","24"),S.setAttribute("id",R),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{GE=!0,c()},S}function y(S,R){S.setAttribute("id",R),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=M2(s),R=n("text"),V=document.getElementById(R)||document.createElement("span"),z=n("learnmore"),k=document.getElementById(z)||document.createElement("a"),$=n("preprendIcon"),X=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const K=S.element;d(K),y(k,z);const ot=g();m(X,$),K.append(X,V,k,ot),document.body.appendChild(K)}l?(V.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function N2(){const e=dd()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function k2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U2(){const e=un();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function j2(){return!N2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z2(){try{return typeof indexedDB=="object"}catch{return!1}}function B2(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="FirebaseError";class ks extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=F2,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fc.prototype.create)}}class fc{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?H2(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ks(a,d,s)}}function H2(e,t){return e.replace(q2,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const q2=/\{\$([^}]+)}/g;function G2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ua(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if($E(l)&&$E(c)){if(!Ua(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function $E(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Cu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function Iu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function $2(e,t){const n=new K2(e,t);return n.subscribe.bind(n)}class K2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Y2(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=Zp),a.error===void 0&&(a.error=Zp),a.complete===void 0&&(a.complete=Zp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y2(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(e){return e&&e._delegate?e._delegate:e}class ja{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new D2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(W2(t))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=Ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ra){return this.instances.has(t)}getOptions(t=Ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:X2(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ra){return this.component?this.component.multipleInstances?t:Ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X2(e){return e===Ra?void 0:e}function W2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Q2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ut||(Ut={}));const J2={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},tx=Ut.INFO,ex={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},nx=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=ex[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class My{constructor(t){this.name=t,this._logLevel=tx,this._logHandler=nx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?J2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const ix=(e,t)=>t.some(n=>e instanceof n);let KE,YE;function sx(){return KE||(KE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rx(){return YE||(YE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r1=new WeakMap,Mg=new WeakMap,a1=new WeakMap,Jp=new WeakMap,Oy=new WeakMap;function ax(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(Ir(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&r1.set(n,e)}).catch(()=>{}),Oy.set(t,e),t}function ox(e){if(Mg.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Mg.set(e,t)}let Og={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Mg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||a1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function lx(e){Og=e(Og)}function ux(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(tg(this),t,...n);return a1.set(s,t.sort?t.sort():[t]),Ir(s)}:rx().includes(e)?function(...t){return e.apply(tg(this),t),Ir(r1.get(this))}:function(...t){return Ir(e.apply(tg(this),t))}}function cx(e){return typeof e=="function"?ux(e):(e instanceof IDBTransaction&&ox(e),ix(e,sx())?new Proxy(e,Og):e)}function Ir(e){if(e instanceof IDBRequest)return ax(e);if(Jp.has(e))return Jp.get(e);const t=cx(e);return t!==e&&(Jp.set(e,t),Oy.set(t,e)),t}const tg=e=>Oy.get(e);function hx(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=Ir(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Ir(c.result),m.oldVersion,m.newVersion,Ir(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const fx=["get","getKey","getAll","getAllKeys","count"],dx=["put","add","delete","clear"],eg=new Map;function QE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(eg.get(t))return eg.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=dx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||fx.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return eg.set(t,l),l}lx(e=>({...e,get:(t,n,s)=>QE(t,n)||e.get(t,n,s),has:(t,n)=>!!QE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(px(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function px(e){return e.getComponent()?.type==="VERSION"}const Ng="@firebase/app",XE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new My("@firebase/app"),gx="@firebase/app-compat",yx="@firebase/analytics-compat",vx="@firebase/analytics",_x="@firebase/app-check-compat",Tx="@firebase/app-check",Ex="@firebase/auth",Sx="@firebase/auth-compat",Ax="@firebase/database",bx="@firebase/data-connect",wx="@firebase/database-compat",Rx="@firebase/functions",Cx="@firebase/functions-compat",Ix="@firebase/installations",Dx="@firebase/installations-compat",xx="@firebase/messaging",Vx="@firebase/messaging-compat",Mx="@firebase/performance",Ox="@firebase/performance-compat",Nx="@firebase/remote-config",Px="@firebase/remote-config-compat",Lx="@firebase/storage",kx="@firebase/storage-compat",Ux="@firebase/firestore",jx="@firebase/ai",zx="@firebase/firestore-compat",Bx="firebase",Fx="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="[DEFAULT]",Hx={[Ng]:"fire-core",[gx]:"fire-core-compat",[vx]:"fire-analytics",[yx]:"fire-analytics-compat",[Tx]:"fire-app-check",[_x]:"fire-app-check-compat",[Ex]:"fire-auth",[Sx]:"fire-auth-compat",[Ax]:"fire-rtdb",[bx]:"fire-data-connect",[wx]:"fire-rtdb-compat",[Rx]:"fire-fn",[Cx]:"fire-fn-compat",[Ix]:"fire-iid",[Dx]:"fire-iid-compat",[xx]:"fire-fcm",[Vx]:"fire-fcm-compat",[Mx]:"fire-perf",[Ox]:"fire-perf-compat",[Nx]:"fire-rc",[Px]:"fire-rc-compat",[Lx]:"fire-gcs",[kx]:"fire-gcs-compat",[Ux]:"fire-fst",[zx]:"fire-fst-compat",[jx]:"fire-vertex","fire-js":"fire-js",[Bx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new Map,qx=new Map,Lg=new Map;function WE(e,t){try{e.container.addComponent(t)}catch(n){Ds.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function el(e){const t=e.name;if(Lg.has(t))return Ds.debug(`There were multiple attempts to register component ${t}.`),!1;Lg.set(t,e);for(const n of Uf.values())WE(n,e);for(const n of qx.values())WE(n,e);return!0}function Ny(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ei(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new fc("app","Firebase",Gx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=Fx;function o1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Pg,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw Dr.create("bad-app-name",{appName:String(a)});if(n||(n=e1()),!n)throw Dr.create("no-options");const l=Uf.get(a);if(l){if(Ua(n,l.options)&&Ua(s,l.config))return l;throw Dr.create("duplicate-app",{appName:a})}const c=new Z2(a);for(const m of Lg.values())c.addComponent(m);const d=new $x(n,s,c);return Uf.set(a,d),d}function l1(e=Pg){const t=Uf.get(e);if(!t&&e===Pg&&e1())return o1();if(!t)throw Dr.create("no-app",{appName:e});return t}function xr(e,t,n){let s=Hx[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ds.warn(c.join(" "));return}el(new ja(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="firebase-heartbeat-database",Yx=1,Wu="firebase-heartbeat-store";let ng=null;function u1(){return ng||(ng=hx(Kx,Yx,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Wu)}catch(n){console.warn(n)}}}}).catch(e=>{throw Dr.create("idb-open",{originalErrorMessage:e.message})})),ng}async function Qx(e){try{const n=(await u1()).transaction(Wu),s=await n.objectStore(Wu).get(c1(e));return await n.done,s}catch(t){if(t instanceof ks)Ds.warn(t.message);else{const n=Dr.create("idb-get",{originalErrorMessage:t?.message});Ds.warn(n.message)}}}async function ZE(e,t){try{const s=(await u1()).transaction(Wu,"readwrite");await s.objectStore(Wu).put(t,c1(e)),await s.done}catch(n){if(n instanceof ks)Ds.warn(n.message);else{const s=Dr.create("idb-set",{originalErrorMessage:n?.message});Ds.warn(s.message)}}}function c1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=1024,Wx=30;class Zx{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tV(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=JE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Wx){const a=eV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ds.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=JE(),{heartbeatsToSend:n,unsentEntries:s}=Jx(this._heartbeatsCache.heartbeats),a=kf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ds.warn(t),""}}}function JE(){return new Date().toISOString().substring(0,10)}function Jx(e,t=Xx){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),tS(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),tS(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class tV{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z2()?B2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Qx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function tS(e){return kf(JSON.stringify({version:2,heartbeats:e})).length}function eV(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(e){el(new ja("platform-logger",t=>new mx(t),"PRIVATE")),el(new ja("heartbeat",t=>new Zx(t),"PRIVATE")),xr(Ng,XE,e),xr(Ng,XE,"esm2020"),xr("fire-js","")}nV("");var iV="firebase",sV="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(iV,sV,"app");var eS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vr,h1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(O,M,U){for(var D=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)D[Bt-2]=arguments[Bt];return w.prototype[M].apply(O,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,w,I){I||(I=0);const O=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)O[M]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(M=0;M<16;++M)O[M]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],M=C.g[2];let U=C.g[3],D;D=w+(U^I&(M^U))+O[0]+3614090360&4294967295,w=I+(D<<7&4294967295|D>>>25),D=U+(M^w&(I^M))+O[1]+3905402710&4294967295,U=w+(D<<12&4294967295|D>>>20),D=M+(I^U&(w^I))+O[2]+606105819&4294967295,M=U+(D<<17&4294967295|D>>>15),D=I+(w^M&(U^w))+O[3]+3250441966&4294967295,I=M+(D<<22&4294967295|D>>>10),D=w+(U^I&(M^U))+O[4]+4118548399&4294967295,w=I+(D<<7&4294967295|D>>>25),D=U+(M^w&(I^M))+O[5]+1200080426&4294967295,U=w+(D<<12&4294967295|D>>>20),D=M+(I^U&(w^I))+O[6]+2821735955&4294967295,M=U+(D<<17&4294967295|D>>>15),D=I+(w^M&(U^w))+O[7]+4249261313&4294967295,I=M+(D<<22&4294967295|D>>>10),D=w+(U^I&(M^U))+O[8]+1770035416&4294967295,w=I+(D<<7&4294967295|D>>>25),D=U+(M^w&(I^M))+O[9]+2336552879&4294967295,U=w+(D<<12&4294967295|D>>>20),D=M+(I^U&(w^I))+O[10]+4294925233&4294967295,M=U+(D<<17&4294967295|D>>>15),D=I+(w^M&(U^w))+O[11]+2304563134&4294967295,I=M+(D<<22&4294967295|D>>>10),D=w+(U^I&(M^U))+O[12]+1804603682&4294967295,w=I+(D<<7&4294967295|D>>>25),D=U+(M^w&(I^M))+O[13]+4254626195&4294967295,U=w+(D<<12&4294967295|D>>>20),D=M+(I^U&(w^I))+O[14]+2792965006&4294967295,M=U+(D<<17&4294967295|D>>>15),D=I+(w^M&(U^w))+O[15]+1236535329&4294967295,I=M+(D<<22&4294967295|D>>>10),D=w+(M^U&(I^M))+O[1]+4129170786&4294967295,w=I+(D<<5&4294967295|D>>>27),D=U+(I^M&(w^I))+O[6]+3225465664&4294967295,U=w+(D<<9&4294967295|D>>>23),D=M+(w^I&(U^w))+O[11]+643717713&4294967295,M=U+(D<<14&4294967295|D>>>18),D=I+(U^w&(M^U))+O[0]+3921069994&4294967295,I=M+(D<<20&4294967295|D>>>12),D=w+(M^U&(I^M))+O[5]+3593408605&4294967295,w=I+(D<<5&4294967295|D>>>27),D=U+(I^M&(w^I))+O[10]+38016083&4294967295,U=w+(D<<9&4294967295|D>>>23),D=M+(w^I&(U^w))+O[15]+3634488961&4294967295,M=U+(D<<14&4294967295|D>>>18),D=I+(U^w&(M^U))+O[4]+3889429448&4294967295,I=M+(D<<20&4294967295|D>>>12),D=w+(M^U&(I^M))+O[9]+568446438&4294967295,w=I+(D<<5&4294967295|D>>>27),D=U+(I^M&(w^I))+O[14]+3275163606&4294967295,U=w+(D<<9&4294967295|D>>>23),D=M+(w^I&(U^w))+O[3]+4107603335&4294967295,M=U+(D<<14&4294967295|D>>>18),D=I+(U^w&(M^U))+O[8]+1163531501&4294967295,I=M+(D<<20&4294967295|D>>>12),D=w+(M^U&(I^M))+O[13]+2850285829&4294967295,w=I+(D<<5&4294967295|D>>>27),D=U+(I^M&(w^I))+O[2]+4243563512&4294967295,U=w+(D<<9&4294967295|D>>>23),D=M+(w^I&(U^w))+O[7]+1735328473&4294967295,M=U+(D<<14&4294967295|D>>>18),D=I+(U^w&(M^U))+O[12]+2368359562&4294967295,I=M+(D<<20&4294967295|D>>>12),D=w+(I^M^U)+O[5]+4294588738&4294967295,w=I+(D<<4&4294967295|D>>>28),D=U+(w^I^M)+O[8]+2272392833&4294967295,U=w+(D<<11&4294967295|D>>>21),D=M+(U^w^I)+O[11]+1839030562&4294967295,M=U+(D<<16&4294967295|D>>>16),D=I+(M^U^w)+O[14]+4259657740&4294967295,I=M+(D<<23&4294967295|D>>>9),D=w+(I^M^U)+O[1]+2763975236&4294967295,w=I+(D<<4&4294967295|D>>>28),D=U+(w^I^M)+O[4]+1272893353&4294967295,U=w+(D<<11&4294967295|D>>>21),D=M+(U^w^I)+O[7]+4139469664&4294967295,M=U+(D<<16&4294967295|D>>>16),D=I+(M^U^w)+O[10]+3200236656&4294967295,I=M+(D<<23&4294967295|D>>>9),D=w+(I^M^U)+O[13]+681279174&4294967295,w=I+(D<<4&4294967295|D>>>28),D=U+(w^I^M)+O[0]+3936430074&4294967295,U=w+(D<<11&4294967295|D>>>21),D=M+(U^w^I)+O[3]+3572445317&4294967295,M=U+(D<<16&4294967295|D>>>16),D=I+(M^U^w)+O[6]+76029189&4294967295,I=M+(D<<23&4294967295|D>>>9),D=w+(I^M^U)+O[9]+3654602809&4294967295,w=I+(D<<4&4294967295|D>>>28),D=U+(w^I^M)+O[12]+3873151461&4294967295,U=w+(D<<11&4294967295|D>>>21),D=M+(U^w^I)+O[15]+530742520&4294967295,M=U+(D<<16&4294967295|D>>>16),D=I+(M^U^w)+O[2]+3299628645&4294967295,I=M+(D<<23&4294967295|D>>>9),D=w+(M^(I|~U))+O[0]+4096336452&4294967295,w=I+(D<<6&4294967295|D>>>26),D=U+(I^(w|~M))+O[7]+1126891415&4294967295,U=w+(D<<10&4294967295|D>>>22),D=M+(w^(U|~I))+O[14]+2878612391&4294967295,M=U+(D<<15&4294967295|D>>>17),D=I+(U^(M|~w))+O[5]+4237533241&4294967295,I=M+(D<<21&4294967295|D>>>11),D=w+(M^(I|~U))+O[12]+1700485571&4294967295,w=I+(D<<6&4294967295|D>>>26),D=U+(I^(w|~M))+O[3]+2399980690&4294967295,U=w+(D<<10&4294967295|D>>>22),D=M+(w^(U|~I))+O[10]+4293915773&4294967295,M=U+(D<<15&4294967295|D>>>17),D=I+(U^(M|~w))+O[1]+2240044497&4294967295,I=M+(D<<21&4294967295|D>>>11),D=w+(M^(I|~U))+O[8]+1873313359&4294967295,w=I+(D<<6&4294967295|D>>>26),D=U+(I^(w|~M))+O[15]+4264355552&4294967295,U=w+(D<<10&4294967295|D>>>22),D=M+(w^(U|~I))+O[6]+2734768916&4294967295,M=U+(D<<15&4294967295|D>>>17),D=I+(U^(M|~w))+O[13]+1309151649&4294967295,I=M+(D<<21&4294967295|D>>>11),D=w+(M^(I|~U))+O[4]+4149444226&4294967295,w=I+(D<<6&4294967295|D>>>26),D=U+(I^(w|~M))+O[11]+3174756917&4294967295,U=w+(D<<10&4294967295|D>>>22),D=M+(w^(U|~I))+O[2]+718787259&4294967295,M=U+(D<<15&4294967295|D>>>17),D=I+(U^(M|~w))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,O=this.C;let M=this.h,U=0;for(;U<w;){if(M==0)for(;U<=I;)a(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<w;)if(O[M++]=C.charCodeAt(U++),M==this.blockSize){a(this,O),M=0;break}}else for(;U<w;)if(O[M++]=C[U++],M==this.blockSize){a(this,O),M=0;break}}this.h=M,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)C[w++]=this.g[I]>>>O&255;return C};function l(C,w){var I=d;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function c(C,w){this.h=w;const I=[];let O=!0;for(let M=C.length-1;M>=0;M--){const U=C[M]|0;O&&U==w||(I[M]=U,O=!1)}this.g=I}var d={};function m(C){return-128<=C&&C<128?l(C,function(w){return new c([w|0],w<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return k(g(-C));const w=[];let I=1;for(let O=0;C>=I;O++)w[O]=C/I|0,I*=4294967296;return new c(w,0)}function y(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return k(y(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(w,8));let O=T;for(let U=0;U<C.length;U+=8){var M=Math.min(8,C.length-U);const D=parseInt(C.substring(U,U+M),w);M<8?(M=g(Math.pow(w,M)),O=O.j(M).add(g(D))):(O=O.j(I),O=O.add(g(D)))}return O}var T=m(0),S=m(1),R=m(16777216);e=c.prototype,e.m=function(){if(z(this))return-k(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);C+=(O>=0?O:4294967296+O)*w,w*=4294967296}return C},e.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(V(this))return"0";if(z(this))return"-"+k(this).toString(C);const w=g(Math.pow(C,6));var I=this;let O="";for(;;){const M=ot(I,w).g;I=$(I,M.j(w));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=M,V(I))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},e.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function V(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function z(C){return C.h==-1}e.l=function(C){return C=$(this,C),z(C)?-1:V(C)?0:1};function k(C){const w=C.g.length,I=[];for(let O=0;O<w;O++)I[O]=~C.g[O];return new c(I,~C.h).add(S)}e.abs=function(){return z(this)?k(this):this},e.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let O=0;for(let M=0;M<=w;M++){let U=O+(this.i(M)&65535)+(C.i(M)&65535),D=(U>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);O=D>>>16,U&=65535,D&=65535,I[M]=D<<16|U}return new c(I,I[I.length-1]&-2147483648?-1:0)};function $(C,w){return C.add(k(w))}e.j=function(C){if(V(this)||V(C))return T;if(z(this))return z(C)?k(this).j(k(C)):k(k(this).j(C));if(z(C))return k(this.j(k(C)));if(this.l(R)<0&&C.l(R)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var O=0;O<2*w;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let M=0;M<C.g.length;M++){const U=this.i(O)>>>16,D=this.i(O)&65535,Bt=C.i(M)>>>16,Jt=C.i(M)&65535;I[2*O+2*M]+=D*Jt,X(I,2*O+2*M),I[2*O+2*M+1]+=U*Jt,X(I,2*O+2*M+1),I[2*O+2*M+1]+=D*Bt,X(I,2*O+2*M+1),I[2*O+2*M+2]+=U*Bt,X(I,2*O+2*M+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new c(I,0)};function X(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function K(C,w){this.g=C,this.h=w}function ot(C,w){if(V(w))throw Error("division by zero");if(V(C))return new K(T,T);if(z(C))return w=ot(k(C),w),new K(k(w.g),k(w.h));if(z(w))return w=ot(C,k(w)),new K(k(w.g),w.h);if(C.g.length>30){if(z(C)||z(w))throw Error("slowDivide_ only works with positive integers.");for(var I=S,O=w;O.l(C)<=0;)I=rt(I),O=rt(O);var M=lt(I,1),U=lt(O,1);for(O=lt(O,2),I=lt(I,2);!V(O);){var D=U.add(O);D.l(C)<=0&&(M=M.add(I),U=D),O=lt(O,1),I=lt(I,1)}return w=$(C,M.j(w)),new K(M,w)}for(M=T;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=g(I),D=U.j(w);z(D)||D.l(C)>0;)I-=O,U=g(I),D=U.j(w);V(U)&&(U=S),M=M.add(U),C=$(C,D)}return new K(M,C)}e.B=function(C){return ot(this,C).h},e.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)&C.i(O);return new c(I,this.h&C.h)},e.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)|C.i(O);return new c(I,this.h|C.h)},e.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)^C.i(O);return new c(I,this.h^C.h)};function rt(C){const w=C.g.length+1,I=[];for(let O=0;O<w;O++)I[O]=C.i(O)<<1|C.i(O-1)>>>31;return new c(I,C.h)}function lt(C,w){const I=w>>5;w%=32;const O=C.g.length-I,M=[];for(let U=0;U<O;U++)M[U]=w>0?C.i(U+I)>>>w|C.i(U+I+1)<<32-w:C.i(U+I);return new c(M,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,h1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Vr=c}).apply(typeof eS<"u"?eS:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var f1,Du,d1,Af,kg,m1,p1,g1;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)t:{var E=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var B=h[b];if(!(B in E))break t;E=E[B]}h=h[h.length-1],b=E[h],v=v(b),v!=b&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],b;for(b in v)Object.prototype.hasOwnProperty.call(v,b)&&E.push([b,v[b]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,E){return h.call.apply(h.bind,arguments)}function g(h,v,E){return g=m,g.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function T(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(b,B,G){for(var ut=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)ut[Dt-2]=arguments[Dt];return v.prototype[B].apply(b,ut)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const v=h.length;if(v>0){const E=Array(v);for(let b=0;b<v;b++)E[b]=h[b];return E}return[]}function V(h,v){for(let b=1;b<arguments.length;b++){const B=arguments[b];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=h.length||0;const G=B.length||0;h.length=E+G;for(let ut=0;ut<G;ut++)h[E+ut]=B[ut]}else h.push(B)}}class z{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function k(h){c.setTimeout(()=>{throw h},0)}function $(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class X{constructor(){this.h=this.g=null}add(v,E){const b=K.get();b.set(v,E),this.h?this.h.next=b:this.g=b,this.h=b}}var K=new z(()=>new ot,h=>h.reset());class ot{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,lt=!1,C=new X,w=()=>{const h=Promise.resolve(void 0);rt=()=>{h.then(I)}};function I(){for(var h;h=$();){try{h.h.call(h.g)}catch(E){k(E)}var v=K;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}lt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Bt(h,v){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}T(Bt,M),Bt.prototype.init=function(h,v){const E=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Bt.Z.h.call(this)},Bt.prototype.h=function(){Bt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Jt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function st(h,v,E,b,B){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!b,this.ha=B,this.key=++Q,this.da=this.fa=!1}function ct(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function St(h,v,E){for(const b in h)v.call(E,h[b],b,h)}function Vt(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function N(h){const v={};for(const E in h)v[E]=h[E];return v}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(h,v){let E,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(E in b)h[E]=b[E];for(let G=0;G<J.length;G++)E=J[G],Object.prototype.hasOwnProperty.call(b,E)&&(h[E]=b[E])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,v,E,b,B){const G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);const ut=It(h,v,b,B);return ut>-1?(v=h[ut],E||(v.fa=!1)):(v=new st(v,this.src,G,!!b,B),v.fa=E,h.push(v)),v};function vt(h,v){const E=v.type;if(E in h.g){var b=h.g[E],B=Array.prototype.indexOf.call(b,v,void 0),G;(G=B>=0)&&Array.prototype.splice.call(b,B,1),G&&(ct(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function It(h,v,E,b){for(let B=0;B<h.length;++B){const G=h[B];if(!G.da&&G.listener==v&&G.capture==!!E&&G.ha==b)return B}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),ce={};function Yt(h,v,E,b,B){if(Array.isArray(v)){for(let G=0;G<v.length;G++)Yt(h,v[G],E,b,B);return null}return E=Sl(E),h&&h[Jt]?h.J(v,E,d(b)?!!b.capture:!1,B):Kr(h,v,E,!1,b,B)}function Kr(h,v,E,b,B,G){if(!v)throw Error("Invalid event type");const ut=d(B)?!!B.capture:!!B;let Dt=Yr(h);if(Dt||(h[Ot]=Dt=new ht(h)),E=Dt.add(v,E,b,ut,G),E.proxy)return E;if(b=Qa(),E.proxy=b,b.src=h,b.listener=E,h.addEventListener)U||(B=ut),B===void 0&&(B=!1),h.addEventListener(v.toString(),b,B);else if(h.attachEvent)h.attachEvent(Si(v.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Qa(){function h(E){return v.call(h.src,h.listener,E)}const v=Tl;return h}function Xa(h,v,E,b,B){if(Array.isArray(v))for(var G=0;G<v.length;G++)Xa(h,v[G],E,b,B);else b=d(b)?!!b.capture:!!b,E=Sl(E),h&&h[Jt]?(h=h.i,G=String(v).toString(),G in h.g&&(v=h.g[G],E=It(v,E,b,B),E>-1&&(ct(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[G],h.h--)))):h&&(h=Yr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=It(v,E,b,B)),(E=h>-1?v[h]:null)&&Wa(E))}function Wa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Jt])vt(v.i,h);else{var E=h.type,b=h.proxy;v.removeEventListener?v.removeEventListener(E,b,h.capture):v.detachEvent?v.detachEvent(Si(E),b):v.addListener&&v.removeListener&&v.removeListener(b),(E=Yr(v))?(vt(E,h),E.h==0&&(E.src=null,v[Ot]=null)):ct(h)}}}function Si(h){return h in ce?ce[h]:ce[h]="on"+h}function Tl(h,v){if(h.da)h=!0;else{v=new Bt(v,this);const E=h.listener,b=h.ha||h.src;h.fa&&Wa(h),h=E.call(b,v)}return h}function Yr(h){return h=h[Ot],h instanceof ht?h:null}var El="__closure_events_fn_"+(Math.random()*1e9>>>0);function Sl(h){return typeof h=="function"?h:(h[El]||(h[El]=function(v){return h.handleEvent(v)}),h[El])}function Re(){O.call(this),this.i=new ht(this),this.M=this,this.G=null}T(Re,O),Re.prototype[Jt]=!0,Re.prototype.removeEventListener=function(h,v,E,b){Xa(this,h,v,E,b)};function je(h,v){var E,b=h.G;if(b)for(E=[];b;b=b.G)E.push(b);if(h=h.M,b=v.type||v,typeof v=="string")v=new M(v,h);else if(v instanceof M)v.target=v.target||h;else{var B=v;v=new M(b,h),it(v,B)}B=!0;let G,ut;if(E)for(ut=E.length-1;ut>=0;ut--)G=v.g=E[ut],B=js(G,b,!0,v)&&B;if(G=v.g=h,B=js(G,b,!0,v)&&B,B=js(G,b,!1,v)&&B,E)for(ut=0;ut<E.length;ut++)G=v.g=E[ut],B=js(G,b,!1,v)&&B}Re.prototype.N=function(){if(Re.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let b=0;b<E.length;b++)ct(E[b]);delete h.g[v],h.h--}}this.G=null},Re.prototype.J=function(h,v,E,b){return this.i.add(String(h),v,!1,E,b)},Re.prototype.K=function(h,v,E,b){return this.i.add(String(h),v,!0,E,b)};function js(h,v,E,b){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let B=!0;for(let G=0;G<v.length;++G){const ut=v[G];if(ut&&!ut.da&&ut.capture==E){const Dt=ut.listener,Te=ut.ha||ut.src;ut.fa&&vt(h.i,ut),B=Dt.call(Te,b)!==!1&&B}}return B&&!b.defaultPrevented}function Yd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Oc(h){h.g=Yd(()=>{h.g=null,h.i&&(h.i=!1,Oc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class cn extends O{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Oc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(h){O.call(this),this.h=h,this.g={}}T(Qr,O);var Al=[];function bl(h){St(h.g,function(v,E){this.g.hasOwnProperty(E)&&Wa(v)},h),h.g={}}Qr.prototype.N=function(){Qr.Z.N.call(this),bl(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zs=c.JSON.stringify,Qd=c.JSON.parse,Nc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Pc(){}function Lc(){}var ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){M.call(this,"d")}T(Ke,M);function jn(){M.call(this,"c")}T(jn,M);var _e={},kc=null;function Za(){return kc=kc||new Re}_e.Ia="serverreachability";function Uc(h){M.call(this,_e.Ia,h)}T(Uc,M);function Ai(h){const v=Za();je(v,new Uc(v))}_e.STAT_EVENT="statevent";function Xr(h,v){M.call(this,_e.STAT_EVENT,h),this.stat=v}T(Xr,M);function Ce(h){const v=Za();je(v,new Xr(v,h))}_e.Ja="timingevent";function bi(h,v){M.call(this,_e.Ja,h),this.size=v}T(bi,M);function wi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function Xd(h,v,E,b,B,G){h.info(function(){if(h.g)if(G){var ut="",Dt=G.split("&");for(let $t=0;$t<Dt.length;$t++){var Te=Dt[$t].split("=");if(Te.length>1){const he=Te[0];Te=Te[1];const Hn=he.split("_");ut=Hn.length>=2&&Hn[1]=="type"?ut+(he+"="+Te+"&"):ut+(he+"=redacted&")}}}else ut=null;else ut=G;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+v+`
`+E+`
`+ut})}function jc(h,v,E,b,B,G,ut){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+v+`
`+E+`
`+G+" "+ut})}function Ri(h,v,E,b){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Wd(h,E)+(b?" "+b:"")})}function Wr(h,v){h.info(function(){return"TIMEOUT: "+v})}oi.prototype.info=function(){};function Wd(h,v){if(!h.g)return v;if(!v)return null;try{const G=JSON.parse(v);if(G){for(h=0;h<G.length;h++)if(Array.isArray(G[h])){var E=G[h];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var B=b[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ut=1;ut<b.length;ut++)b[ut]=""}}}}return zs(G)}catch{return v}}var Zr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rl;function Jr(){}T(Jr,Pc),Jr.prototype.g=function(){return new XMLHttpRequest},Rl=new Jr;function ss(h){return encodeURIComponent(String(h))}function zc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function li(h,v,E,b){this.j=h,this.i=v,this.l=E,this.S=b||1,this.V=new Qr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var Ie={},He={};function Ci(h,v,E){h.M=1,h.A=ta(xe(v)),h.u=E,h.R=!0,Ja(h,null)}function Ja(h,v){h.F=Date.now(),Ii(h),h.B=xe(h.A);var E=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),io(E.i,"t",b),h.C=0,E=h.j.L,h.h=new ui,h.g=eh(h.j,E?v:null,!h.u),h.P>0&&(h.O=new cn(g(h.Y,h,h.g),h.P)),v=h.V,E=h.g,b=h.ba;var B="readystatechange";Array.isArray(B)||(B&&(Al[0]=B.toString()),B=Al);for(let G=0;G<B.length;G++){const ut=Yt(E,B[G],b||v.handleEvent,!1,v.h||v);if(!ut)break;v.g[ut.key]=ut}v=h.J?N(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Ai(),Xd(h.i,h.v,h.B,h.l,h.S,h.u)}li.prototype.ba=function(h){h=h.target;const v=this.O;v&&fi(h)==3?v.j():this.Y(h)},li.prototype.Y=function(h){try{if(h==this.g)t:{const Dt=fi(this.g),Te=this.g.ya(),$t=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||Dt!=4||Te==7||(Te==8||$t<=0?Ai(3):Ai(2)),Di(this);var v=this.g.ca();this.X=v;var E=Zd(this);if(this.o=v==200,jc(this.i,this.v,this.B,this.l,this.S,Dt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var b,B=this.g;if((b=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(b)){var G=b;break e}}G=null}if(h=G)Ri(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,h);else{this.o=!1,this.m=3,Ce(12),In(this),zn(this);break t}}if(this.R){h=!0;let he;for(;!this.K&&this.C<E.length;)if(he=Fc(this,E),he==He){Dt==4&&(this.m=4,Ce(14),h=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Ie){this.m=4,Ce(15),Ri(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ri(this.i,this.l,he,null),xi(this,he);if(Bc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||E.length!=0||this.h.h||(this.m=1,Ce(16),h=!1),this.o=this.o&&h,!h)Ri(this.i,this.l,E,"[Invalid Chunked Response]"),In(this),zn(this);else if(E.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Bl(ut),ut.P=!0,Ce(11))}}else Ri(this.i,this.l,E,null),xi(this,E);Dt==4&&In(this),this.o&&!this.K&&(Dt==4?Wc(this.j,this):(this.o=!1,Ii(this)))}else as(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),In(this),zn(this)}}}catch{}finally{}};function Zd(h){if(!Bc(h))return h.g.la();const v=Ye(h.g);if(v==="")return"";let E="";const b=v.length,B=fi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return In(h),zn(h),"";h.h.i=new c.TextDecoder}for(let G=0;G<b;G++)h.h.h=!0,E+=h.h.i.decode(v[G],{stream:!(B&&G==b-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function Bc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Fc(h,v){var E=h.C,b=v.indexOf(`
`,E);return b==-1?He:(E=Number(v.substring(E,b)),isNaN(E)?Ie:(b+=1,b+E>v.length?He:(v=v.slice(b,b+E),h.C=b+E,v)))}li.prototype.cancel=function(){this.K=!0,In(this)};function Ii(h){h.T=Date.now()+h.H,to(h,h.H)}function to(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=wi(g(h.aa,h),v)}function Di(h){h.D&&(c.clearTimeout(h.D),h.D=null)}li.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Wr(this.i,this.B),this.M!=2&&(Ai(),Ce(17)),In(this),this.m=2,zn(this)):to(this,this.T-h)};function zn(h){h.j.I==0||h.K||Wc(h.j,h)}function In(h){Di(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,bl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function xi(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Mi(E.h,h))){if(!h.L&&Mi(E.h,h)&&E.I==3){try{var b=E.Ba.g.parse(v)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)lo(E),Ys(E);else break t;oa(E),Ce(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=wi(g(E.Va,E),6e3));Vi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ui(E,11)}else if((h.L||E.g==h)&&lo(E),!D(v))for(B=E.Ba.g.parse(v),v=0;v<B.length;v++){let $t=B[v];const he=$t[0];if(!(he<=E.K))if(E.K=he,$t=$t[1],E.I==2)if($t[0]=="c"){E.M=$t[1],E.ba=$t[2];const Hn=$t[3];Hn!=null&&(E.ka=Hn,E.j.info("VER="+E.ka));const ji=$t[4];ji!=null&&(E.za=ji,E.j.info("SVER="+E.za));const di=$t[5];di!=null&&typeof di=="number"&&di>0&&(b=1.5*di,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const mi=h.g;if(mi){const la=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var G=b.h;G.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Dl(G,G.h),G.h=null))}if(b.G){const uo=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(b.wa=uo,Xt(b.J,b.G,uo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var ut=h;if(b.na=th(b,b.L?b.ba:null,b.W),ut.L){xl(b.h,ut);var Dt=ut,Te=b.O;Te&&(Dt.H=Te),Dt.D&&(Di(Dt),Ii(Dt)),b.g=ut}else Qc(b);E.i.length>0&&ki(E)}else $t[0]!="stop"&&$t[0]!="close"||Ui(E,7);else E.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Ui(E,7):jl(E):$t[0]!="noop"&&E.l&&E.l.qa($t),E.A=0)}}Ai(4)}catch{}}var De=class{constructor(h,v){this.g=h,this.map=v}};function Cl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Il(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Vi(h){return h.h?1:h.g?h.g.size:0}function Mi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Dl(h,v){h.g?h.g.add(v):h.h=v}function xl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Cl.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Vl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return R(h.i)}var Hc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eo(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const b=h[E].indexOf("=");let B,G=null;b>=0?(B=h[E].substring(0,b),G=h[E].substring(b+1)):B=h[E],v(B,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Dn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Dn?(this.l=h.l,qe(this,h.j),this.o=h.o,this.g=h.g,Bs(this,h.u),this.h=h.h,Ml(this,Kc(h.i)),this.m=h.m):h&&(v=String(h).match(Hc))?(this.l=!1,qe(this,v[1]||"",!0),this.o=Oi(v[2]||""),this.g=Oi(v[3]||"",!0),Bs(this,v[4]),this.h=Oi(v[5]||"",!0),Ml(this,v[6]||"",!0),this.m=Oi(v[7]||"")):(this.l=!1,this.i=new Hs(null,this.l))}Dn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(ea(v,no,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(ea(v,no,!0),"@"),h.push(ss(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ea(E,E.charAt(0)=="/"?Ol:qc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ea(E,Gc)),h.join("")},Dn.prototype.resolve=function(h){const v=xe(this);let E=!!h.j;E?qe(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var b=h.h;if(E)Bs(v,h.u);else if(E=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var B=v.h.lastIndexOf("/");B!=-1&&(b=v.h.slice(0,B+1)+b)}if(B=b,B==".."||B==".")b="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){b=B.lastIndexOf("/",0)==0,B=B.split("/");const G=[];for(let ut=0;ut<B.length;){const Dt=B[ut++];Dt=="."?b&&ut==B.length&&G.push(""):Dt==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&ut==B.length&&G.push("")):(G.push(Dt),b=!0)}b=G.join("/")}else b=B}return E?v.h=b:E=h.i.toString()!=="",E?Ml(v,Kc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function xe(h){return new Dn(h)}function qe(h,v,E){h.j=E?Oi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Bs(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Ml(h,v,E){v instanceof Hs?(h.i=v,so(h.i,h.l)):(E||(v=ea(v,Fs)),h.i=new Hs(v,h.l))}function Xt(h,v,E){h.i.set(v,E)}function ta(h){return Xt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Oi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ea(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,mn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function mn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var no=/[#\/\?@]/g,qc=/[#\?:]/g,Ol=/[#\?]/g,Fs=/[#\?@]/g,Gc=/#/g;function Hs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function pn(h){h.g||(h.g=new Map,h.h=0,h.i&&eo(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}e=Hs.prototype,e.add=function(h,v){pn(this),this.i=null,h=qs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function $c(h,v){pn(h),v=qs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Nl(h,v){return pn(h),v=qs(h,v),h.g.has(v)}e.forEach=function(h,v){pn(this),this.g.forEach(function(E,b){E.forEach(function(B){h.call(v,B,b,this)},this)},this)};function Pl(h,v){pn(h);let E=[];if(typeof v=="string")Nl(h,v)&&(E=E.concat(h.g.get(qs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}e.set=function(h,v){return pn(this),this.i=null,h=qs(this,h),Nl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=Pl(this,h),h.length>0?String(h[0]):v):v};function io(h,v,E){$c(h,v),E.length>0&&(h.i=null,h.g.set(qs(h,v),R(E)),h.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let b=0;b<v.length;b++){var E=v[b];const B=ss(E);E=Pl(this,E);for(let G=0;G<E.length;G++){let ut=B;E[G]!==""&&(ut+="="+ss(E[G])),h.push(ut)}}return this.i=h.join("&")};function Kc(h){const v=new Hs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function qs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function so(h,v){v&&!h.j&&(pn(h),h.i=null,h.g.forEach(function(E,b){const B=b.toLowerCase();b!=B&&($c(this,b),io(this,B,E))},h)),h.j=v}function ci(h,v){const E=new oi;if(c.Image){const b=new Image;b.onload=y(Bn,E,"TestLoadImage: loaded",!0,v,b),b.onerror=y(Bn,E,"TestLoadImage: error",!1,v,b),b.onabort=y(Bn,E,"TestLoadImage: abort",!1,v,b),b.ontimeout=y(Bn,E,"TestLoadImage: timeout",!1,v,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else v(!1)}function Ll(h,v){const E=new oi,b=new AbortController,B=setTimeout(()=>{b.abort(),Bn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:b.signal}).then(G=>{clearTimeout(B),G.ok?Bn(E,"TestPingServer: ok",!0,v):Bn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),Bn(E,"TestPingServer: error",!1,v)})}function Bn(h,v,E,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(E)}catch{}}function Gs(){this.g=new Nc}function Ni(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ni,Pc),Ni.prototype.g=function(){return new na(this.i,this.h)};function na(h,v){Re.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(na,Re),e=na.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,hi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$s(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ro(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ro(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?$s(this):hi(this),this.readyState==3&&ro(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,$s(this))},e.Na=function(h){this.g&&(this.response=h,$s(this))},e.ga=function(){this.g&&$s(this)};function $s(h){h.readyState=4,h.l=null,h.j=null,h.B=null,hi(h)}e.setRequestHeader=function(h,v){this.A.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function hi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Fn(h){let v="";return St(h,function(E,b){v+=b,v+=":",v+=E,v+=`\r
`}),v}function ia(h,v,E){t:{for(b in E){var b=!1;break t}b=!0}b||(E=Fn(E),typeof h=="string"?E!=null&&ss(E):Xt(h,v,E))}function te(h){Re.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(te,Re);var Pi=/^https?$/i,kl=["POST","PUT"];e=te.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,v,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(G){sa(this,G);return}if(h=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)E.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())E.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),B=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(kl,v,void 0)>=0)||b||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ut]of E)this.g.setRequestHeader(G,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(G){sa(this,G)}};function sa(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Ul(h),rs(h)}function Ul(h){h.A||(h.A=!0,je(h,"complete"),je(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,je(this,"complete"),je(this,"abort"),rs(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),te.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?ra(this):this.Xa())},e.Xa=function(){ra(this)};function ra(h){if(h.h&&typeof l<"u"){if(h.v&&fi(h)==4)setTimeout(h.Ca.bind(h),0);else if(je(h,"readystatechange"),fi(h)==4){h.h=!1;try{const G=h.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var b;if(b=G===0){let ut=String(h.D).match(Hc)[1]||null;!ut&&c.self&&c.self.location&&(ut=c.self.location.protocol.slice(0,-1)),b=!Pi.test(ut?ut.toLowerCase():"")}E=b}if(E)je(h,"complete"),je(h,"success");else{h.o=6;try{var B=fi(h)>2?h.g.statusText:""}catch{B=""}h.l=B+" ["+h.ca()+"]",Ul(h)}}finally{rs(h)}}}}function rs(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||je(h,"ready");try{E.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function fi(h){return h.g?h.g.readyState:0}e.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Qd(v)}};function Ye(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function as(h){const v={};h=(h.g&&fi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(D(h[b]))continue;var E=zc(h[b]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=v[B]||[];v[B]=G,G.push(E)}Vt(v,function(b){return b.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Ks(h){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,h),this.Za=Li("retryDelaySeedMs",1e4,h),this.Ta=Li("forwardChannelMaxRetries",2,h),this.va=Li("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Cl(h&&h.concurrentRequestLimit),this.Ba=new Gs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Ks.prototype,e.ka=8,e.I=1,e.connect=function(h,v,E,b){Ce(0),this.W=h,this.H=v||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=th(this,null,this.W),ki(this)};function jl(h){if(ao(h),h.I==3){var v=h.V++,E=xe(h.J);if(Xt(E,"SID",h.M),Xt(E,"RID",v),Xt(E,"TYPE","terminate"),aa(h,E),v=new li(h,h.j,v),v.M=2,v.A=ta(xe(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=eh(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ii(v)}Jc(h)}function Ys(h){h.g&&(Bl(h),h.g.cancel(),h.g=null)}function ao(h){Ys(h),h.v&&(c.clearTimeout(h.v),h.v=null),lo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ki(h){if(!Il(h.h)&&!h.m){h.m=!0;var v=h.Ea;rt||w(),lt||(rt(),lt=!0),C.add(v,h),h.D=0}}function oo(h,v){return Vi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=wi(g(h.Ea,h,v),Zc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const B=new li(this,this.j,h);let G=this.o;if(this.U&&(G?(G=N(G),it(G,this.U)):G=this.U),this.u!==null||this.R||(B.J=G,G=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(v+=b,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Yc(this,B,v),E=xe(this.J),Xt(E,"RID",h),Xt(E,"CVER",22),this.G&&Xt(E,"X-HTTP-Session-Id",this.G),aa(this,E),G&&(this.R?v="headers="+ss(Fn(G))+"&"+v:this.u&&ia(E,this.u,G)),Dl(this.h,B),this.Ra&&Xt(E,"TYPE","init"),this.S?(Xt(E,"$req",v),Xt(E,"SID","null"),B.U=!0,Ci(B,E,null)):Ci(B,E,v),this.I=2}}else this.I==3&&(h?zl(this,h):this.i.length==0||Il(this.h)||zl(this))};function zl(h,v){var E;v?E=v.l:E=h.V++;const b=xe(h.J);Xt(b,"SID",h.M),Xt(b,"RID",E),Xt(b,"AID",h.K),aa(h,b),h.u&&h.o&&ia(b,h.u,h.o),E=new li(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Yc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Dl(h.h,E),Ci(E,b,v)}function aa(h,v){h.H&&St(h.H,function(E,b){Xt(v,b,E)}),h.l&&St({},function(E,b){Xt(v,b,E)})}function Yc(h,v,E){E=Math.min(h.i.length,E);const b=h.l?g(h.l.Ka,h.l,h):null;t:{var B=h.i;let Dt=-1;for(;;){const Te=["count="+E];Dt==-1?E>0?(Dt=B[0].g,Te.push("ofs="+Dt)):Dt=0:Te.push("ofs="+Dt);let $t=!0;for(let he=0;he<E;he++){var G=B[he].g;const Hn=B[he].map;if(G-=Dt,G<0)Dt=Math.max(0,B[he].g-100),$t=!1;else try{G="req"+G+"_"||"";try{var ut=Hn instanceof Map?Hn:Object.entries(Hn);for(const[ji,di]of ut){let mi=di;d(di)&&(mi=zs(di)),Te.push(G+ji+"="+encodeURIComponent(mi))}}catch(ji){throw Te.push(G+"type="+encodeURIComponent("_badmap")),ji}}catch{b&&b(Hn)}}if($t){ut=Te.join("&");break t}}ut=void 0}return h=h.i.splice(0,E),v.G=h,ut}function Qc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;rt||w(),lt||(rt(),lt=!0),C.add(v,h),h.A=0}}function oa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=wi(g(h.Da,h),Zc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Xc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=wi(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),Ys(this),Xc(this))};function Bl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Xc(h){h.g=new li(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=xe(h.na);Xt(v,"RID","rpc"),Xt(v,"SID",h.M),Xt(v,"AID",h.K),Xt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xt(v,"TO",h.ia),Xt(v,"TYPE","xmlhttp"),aa(h,v),h.u&&h.o&&ia(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ta(xe(v)),E.u=null,E.R=!0,Ja(E,h)}e.Va=function(){this.C!=null&&(this.C=null,Ys(this),oa(this),Ce(19))};function lo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Wc(h,v){var E=null;if(h.g==v){lo(h),Bl(h),h.g=null;var b=2}else if(Mi(h.h,v))E=v.G,xl(h.h,v),b=1;else return;if(h.I!=0){if(v.o)if(b==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var B=h.D;b=Za(),je(b,new bi(b,E)),ki(h)}else Qc(h);else if(B=v.m,B==3||B==0&&v.X>0||!(b==1&&oo(h,v)||b==2&&oa(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),B){case 1:Ui(h,5);break;case 4:Ui(h,10);break;case 3:Ui(h,6);break;default:Ui(h,2)}}}function Zc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Ui(h,v){if(h.j.info("Error code "+v),v==2){var E=g(h.bb,h),b=h.Ua;const B=!b;b=new Dn(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qe(b,"https"),ta(b),B?ci(b.toString(),E):Ll(b.toString(),E)}else Ce(2);h.I=0,h.l&&h.l.pa(v),Jc(h),ao(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function Jc(h){if(h.I=0,h.ja=[],h.l){const v=Vl(h.h);(v.length!=0||h.i.length!=0)&&(V(h.ja,v),V(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function th(h,v,E){var b=E instanceof Dn?xe(E):new Dn(E);if(b.g!="")v&&(b.g=v+"."+b.g),Bs(b,b.u);else{var B=c.location;b=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;const G=new Dn(null);b&&qe(G,b),v&&(G.g=v),B&&Bs(G,B),E&&(G.h=E),b=G}return E=h.G,v=h.wa,E&&v&&Xt(b,E,v),Xt(b,"VER",h.ka),aa(h,b),b}function eh(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new te(new Ni({ab:E})):new te(h.ma),v.Fa(h.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function nh(){}e=nh.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Qs(){}Qs.prototype.g=function(h,v){return new hn(h,v)};function hn(h,v){Re.call(this),this.g=new Ks(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new os(this)}T(hn,Re),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){jl(this.g)},hn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=zs(h),h=E);v.i.push(new De(v.Ya++,h)),v.I==3&&ki(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,hn.Z.N.call(this)};function ih(h){Ke.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}T(ih,Ke);function sh(){jn.call(this),this.status=1}T(sh,jn);function os(h){this.g=h}T(os,nh),os.prototype.ra=function(){je(this.g,"a")},os.prototype.qa=function(h){je(this.g,new ih(h))},os.prototype.pa=function(h){je(this.g,new sh)},os.prototype.oa=function(){je(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,g1=function(){return new Qs},p1=function(){return Za()},m1=_e,kg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zr.NO_ERROR=0,Zr.TIMEOUT=8,Zr.HTTP_ERROR=6,Af=Zr,wl.COMPLETE="complete",d1=wl,Lc.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",Re.prototype.listen=Re.prototype.J,Du=Lc,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,f1=te}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});const nS="@firebase/firestore",iS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new My("@firebase/firestore");function zo(){return za.logLevel}function ft(e,...t){if(za.logLevel<=Ut.DEBUG){const n=t.map(Py);za.debug(`Firestore (${fl}): ${e}`,...n)}}function xs(e,...t){if(za.logLevel<=Ut.ERROR){const n=t.map(Py);za.error(`Firestore (${fl}): ${e}`,...n)}}function nl(e,...t){if(za.logLevel<=Ut.WARN){const n=t.map(Py);za.warn(`Firestore (${fl}): ${e}`,...n)}}function Py(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,y1(e,s,n)}function y1(e,t,n){let s=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw xs(s),new Error(s)}function Qt(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||y1(t,a,s)}function Ct(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends ks{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class rV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(an.UNAUTHENTICATED)))}shutdown(){}}class aV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oV{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Qt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Rs,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Rs)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string",31837,{l:s}),new v1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class lV{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uV{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new lV(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cV{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Qt(this.o===void 0,3512);const s=l=>{l.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=hV(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function jt(e,t){return e<t?-1:e>t?1:0}function Ug(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return ig(a)===ig(l)?jt(a,l):ig(a)?1:-1}return jt(e.length,t.length)}const fV=55296,dV=57343;function ig(e){const t=e.charCodeAt(0);return t>=fV&&t<=dV}function il(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="__name__";class Gi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Gi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Gi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=Gi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return jt(t.length,n.length)}static compareSegments(t,n){const s=Gi.isNumericId(t),a=Gi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Gi.extractNumericId(t).compare(Gi.extractNumericId(n)):Ug(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Vr.fromString(t.substring(4,t.length-2))}}class le extends Gi{construct(t,n,s){return new le(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new mt(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new le(n)}static emptyPath(){return new le([])}}const mV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Gi{construct(t,n,s){return new en(t,n,s)}static isValidIdentifier(t){return mV.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rS}static keyField(){return new en([rS])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new mt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new mt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new mt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new mt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(le.fromString(t))}static fromName(t){return new yt(le.fromString(t).popFirst(5))}static empty(){return new yt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return le.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(e,t,n){if(!n)throw new mt(nt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function pV(e,t,n,s){if(t===!0&&s===!0)throw new mt(nt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function aS(e){if(!yt.isDocumentKey(e))throw new mt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function oS(e){if(yt.isDocumentKey(e))throw new mt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function T1(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function ky(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Et(12329,{type:typeof e})}function bn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ky(e);throw new mt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(e,t){const n={typeString:e};return t&&(n.value=t),n}function mc(e,t){if(!T1(e))throw new mt(nt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new mt(nt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=-62135596800,uS=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*uS);return new ue(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new mt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new mt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<lS)throw new mt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uS}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(mc(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-lS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:ke("string",ue._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new ue(0,0))}static max(){return new wt(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=-1;function gV(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=wt.fromTimestamp(s===1e9?new ue(n+1,0):new ue(n,s));return new Nr(a,yt.empty(),t)}function yV(e){return new Nr(e.readTime,e.key,Zu)}class Nr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Nr(wt.min(),yt.empty(),Zu)}static max(){return new Nr(wt.max(),yt.empty(),Zu)}}function vV(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:jt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(e){if(e.code!==nt.FAILED_PRECONDITION||e.message!==_V)throw e;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):et.reject(n)}static resolve(t){return new et(((n,s)=>{n(t)}))}static reject(t){return new et(((n,s)=>{s(t)}))}static waitFor(t){return new et(((n,s)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(t){let n=et.resolve(!1);for(const s of t)n=n.next((a=>a?et.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new et(((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(t[g]).next((y=>{c[g]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new et(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function EV(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ml(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}md.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=-1;function pd(e){return e==null}function jf(e){return e===0&&1/e==-1/0}function SV(e){return typeof e=="number"&&Number.isInteger(e)&&!jf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="";function AV(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=cS(t)),t=bV(e.get(n),t);return cS(t)}function bV(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case E1:n+="";break;default:n+=l}}return n}function cS(e){return e+E1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Fr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function S1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t,n){this.comparator=t,this.root=n||tn.EMPTY}insert(t,n){return new pe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cf(this.root,t,this.comparator,!1)}getReverseIterator(){return new cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cf(this.root,t,this.comparator,!0)}}class cf{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new tn(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new tn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new fS(this.data.getIterator())}getIteratorFrom(t){return new fS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Fe(this.comparator);return n.data=t,n}}class fS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new Un([])}unionWith(t){let n=new Fe(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Un(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return il(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new A1("Invalid base64 string: "+l):l}})(t);return new nn(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new nn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const wV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(e){if(Qt(!!e,39018),typeof e=="string"){let t=0;const n=wV.exec(e);if(Qt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:be(e.seconds),nanos:be(e.nanos)}}function be(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Lr(e){return typeof e=="string"?nn.fromBase64String(e):nn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="server_timestamp",w1="__type__",R1="__previous_value__",C1="__local_write_time__";function jy(e){return(e?.mapValue?.fields||{})[w1]?.stringValue===b1}function gd(e){const t=e.mapValue.fields[R1];return jy(t)?gd(t):t}function Ju(e){const t=Pr(e.mapValue.fields[C1].timestampValue);return new ue(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(t,n,s,a,l,c,d,m,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const zf="(default)";class tc{constructor(t,n){this.projectId=t,this.database=n||zf}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database===zf}isEqual(t){return t instanceof tc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="__type__",CV="__max__",hf={mapValue:{}},D1="__vector__",Bf="value";function kr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jy(e)?4:DV(e)?9007199254740991:IV(e)?10:11:Et(28295,{value:e})}function es(e,t){if(e===t)return!0;const n=kr(e);if(n!==kr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ju(e).isEqual(Ju(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Pr(a.timestampValue),d=Pr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return Lr(a.bytesValue).isEqual(Lr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return be(a.geoPointValue.latitude)===be(l.geoPointValue.latitude)&&be(a.geoPointValue.longitude)===be(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return be(a.integerValue)===be(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=be(a.doubleValue),d=be(l.doubleValue);return c===d?jf(c)===jf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return il(e.arrayValue.values||[],t.arrayValue.values||[],es);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(hS(c)!==hS(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!es(c[m],d[m])))return!1;return!0})(e,t);default:return Et(52216,{left:e})}}function ec(e,t){return(e.values||[]).find((n=>es(n,t)))!==void 0}function sl(e,t){if(e===t)return 0;const n=kr(e),s=kr(t);if(n!==s)return jt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=be(l.integerValue||l.doubleValue),m=be(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return dS(e.timestampValue,t.timestampValue);case 4:return dS(Ju(e),Ju(t));case 5:return Ug(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=Lr(l),m=Lr(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=jt(d[g],m[g]);if(y!==0)return y}return jt(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=jt(be(l.latitude),be(c.latitude));return d!==0?d:jt(be(l.longitude),be(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return mS(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},g=d[Bf]?.arrayValue,y=m[Bf]?.arrayValue,T=jt(g?.values?.length||0,y?.values?.length||0);return T!==0?T:mS(g,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===hf.mapValue&&c===hf.mapValue)return 0;if(l===hf.mapValue)return 1;if(c===hf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const S=Ug(m[T],y[T]);if(S!==0)return S;const R=sl(d[m[T]],g[y[T]]);if(R!==0)return R}return jt(m.length,y.length)})(e.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function dS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return jt(e,t);const n=Pr(e),s=Pr(t),a=jt(n.seconds,s.seconds);return a!==0?a:jt(n.nanos,s.nanos)}function mS(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=sl(n[a],s[a]);if(l)return l}return jt(n.length,s.length)}function rl(e){return jg(e)}function jg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Pr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Lr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return yt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=jg(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${jg(n.fields[c])}`;return a+"}"})(e.mapValue):Et(61005,{value:e})}function bf(e){switch(kr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gd(e);return t?16+bf(t):16;case 5:return 2*e.stringValue.length;case 6:return Lr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+bf(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return Fr(s.fields,((l,c)=>{a+=l.length+bf(c)})),a})(e.mapValue);default:throw Et(13486,{value:e})}}function zg(e){return!!e&&"integerValue"in e}function zy(e){return!!e&&"arrayValue"in e}function pS(e){return!!e&&"nullValue"in e}function gS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wf(e){return!!e&&"mapValue"in e}function IV(e){return(e?.mapValue?.fields||{})[I1]?.stringValue===D1}function Uu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Fr(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Uu(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Uu(e.arrayValue.values[n]);return t}return{...e}}function DV(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===CV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.value=t}static empty(){return new Sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!wf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Uu(n)}setAll(t){let n=en.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Uu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return es(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];wf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){Fr(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new Sn(Uu(this.value))}}function x1(e){const t=[];return Fr(e.fields,((n,s)=>{const a=new en([n]);if(wf(s)){const l=x1(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new Un(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,n,s,a,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new on(t,0,wt.min(),wt.min(),wt.min(),Sn.empty(),0)}static newFoundDocument(t,n,s,a){return new on(t,1,n,wt.min(),s,a,0)}static newNoDocument(t,n){return new on(t,2,n,wt.min(),wt.min(),Sn.empty(),0)}static newUnknownDocument(t,n){return new on(t,3,n,wt.min(),wt.min(),Sn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t,n){this.position=t,this.inclusive=n}}function yS(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=yt.comparator(yt.fromName(c.referenceValue),n.key):s=sl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function vS(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!es(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t,n="asc"){this.field=t,this.dir=n}}function xV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{}class Be extends V1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new MV(t,n,s):n==="array-contains"?new PV(t,s):n==="in"?new LV(t,s):n==="not-in"?new kV(t,s):n==="array-contains-any"?new UV(t,s):new Be(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new OV(t,s):new NV(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(sl(n,this.value)):n!==null&&kr(this.value)===kr(n)&&this.matchesComparison(sl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ns extends V1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ns(t,n)}matches(t){return M1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function M1(e){return e.op==="and"}function O1(e){return VV(e)&&M1(e)}function VV(e){for(const t of e.filters)if(t instanceof ns)return!1;return!0}function Bg(e){if(e instanceof Be)return e.field.canonicalString()+e.op.toString()+rl(e.value);if(O1(e))return e.filters.map((t=>Bg(t))).join(",");{const t=e.filters.map((n=>Bg(n))).join(",");return`${e.op}(${t})`}}function N1(e,t){return e instanceof Be?(function(s,a){return a instanceof Be&&s.op===a.op&&s.field.isEqual(a.field)&&es(s.value,a.value)})(e,t):e instanceof ns?(function(s,a){return a instanceof ns&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&N1(c,a.filters[d])),!0):!1})(e,t):void Et(19439)}function P1(e){return e instanceof Be?(function(n){return`${n.field.canonicalString()} ${n.op} ${rl(n.value)}`})(e):e instanceof ns?(function(n){return n.op.toString()+" {"+n.getFilters().map(P1).join(" ,")+"}"})(e):"Filter"}class MV extends Be{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class OV extends Be{constructor(t,n){super(t,"in",n),this.keys=L1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class NV extends Be{constructor(t,n){super(t,"not-in",n),this.keys=L1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function L1(e,t){return(t.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class PV extends Be{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return zy(n)&&ec(n.arrayValue,this.value)}}class LV extends Be{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ec(this.value.arrayValue,n)}}class kV extends Be{constructor(t,n){super(t,"not-in",n)}matches(t){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ec(this.value.arrayValue,n)}}class UV extends Be{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!zy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ec(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(t,n=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function _S(e,t=null,n=[],s=[],a=null,l=null,c=null){return new jV(e,t,n,s,a,l,c)}function By(e){const t=Ct(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Bg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),pd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>rl(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>rl(s))).join(",")),t.Te=n}return t.Te}function Fy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!xV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!N1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vS(e.startAt,t.startAt)&&vS(e.endAt,t.endAt)}function Fg(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(t,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zV(e,t,n,s,a,l,c,d){return new yd(e,t,n,s,a,l,c,d)}function vd(e){return new yd(e)}function TS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function BV(e){return e.collectionGroup!==null}function ju(e){const t=Ct(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Fe(en.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Hf(l,s))})),n.has(en.keyField().canonicalString())||t.Ie.push(new Hf(en.keyField(),s))}return t.Ie}function $i(e){const t=Ct(e);return t.Ee||(t.Ee=FV(t,ju(e))),t.Ee}function FV(e,t){if(e.limitType==="F")return _S(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Hf(a.field,l)}));const n=e.endAt?new Ff(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Ff(e.startAt.position,e.startAt.inclusive):null;return _S(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Hg(e,t,n){return new yd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _d(e,t){return Fy($i(e),$i(t))&&e.limitType===t.limitType}function k1(e){return`${By($i(e))}|lt:${e.limitType}`}function Bo(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>P1(a))).join(", ")}]`),pd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>rl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>rl(a))).join(",")),`Target(${s})`})($i(e))}; limitType=${e.limitType})`}function Td(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):yt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of ju(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const g=yS(c,d,m);return c.inclusive?g<=0:g<0})(s.startAt,ju(s),a)||s.endAt&&!(function(c,d,m){const g=yS(c,d,m);return c.inclusive?g>=0:g>0})(s.endAt,ju(s),a))})(e,t)}function HV(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function U1(e){return(t,n)=>{let s=!1;for(const a of ju(e)){const l=qV(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function qV(e,t,n){const s=e.field.isKeyField()?yt.comparator(t.key,n.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?sl(m,g):Et(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Fr(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return S1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=new pe(yt.comparator);function Vs(){return GV}const j1=new pe(yt.comparator);function xu(...e){let t=j1;for(const n of e)t=t.insert(n.key,n);return t}function z1(e){let t=j1;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function xa(){return zu()}function B1(){return zu()}function zu(){return new Ga((e=>e.toString()),((e,t)=>e.isEqual(t)))}const $V=new pe(yt.comparator),KV=new Fe(yt.comparator);function zt(...e){let t=KV;for(const n of e)t=t.add(n);return t}const YV=new Fe(jt);function QV(){return YV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jf(t)?"-0":t}}function F1(e){return{integerValue:""+e}}function XV(e,t){return SV(t)?F1(t):Hy(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this._=void 0}}function WV(e,t,n){return e instanceof qf?(function(a,l){const c={fields:{[w1]:{stringValue:b1},[C1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&jy(l)&&(l=gd(l)),l&&(c.fields[R1]=l),{mapValue:c}})(n,t):e instanceof nc?q1(e,t):e instanceof ic?G1(e,t):(function(a,l){const c=H1(a,l),d=ES(c)+ES(a.Ae);return zg(c)&&zg(a.Ae)?F1(d):Hy(a.serializer,d)})(e,t)}function ZV(e,t,n){return e instanceof nc?q1(e,t):e instanceof ic?G1(e,t):n}function H1(e,t){return e instanceof Gf?(function(s){return zg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class qf extends Ed{}class nc extends Ed{constructor(t){super(),this.elements=t}}function q1(e,t){const n=$1(t);for(const s of e.elements)n.some((a=>es(a,s)))||n.push(s);return{arrayValue:{values:n}}}class ic extends Ed{constructor(t){super(),this.elements=t}}function G1(e,t){let n=$1(t);for(const s of e.elements)n=n.filter((a=>!es(a,s)));return{arrayValue:{values:n}}}class Gf extends Ed{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function ES(e){return be(e.integerValue||e.doubleValue)}function $1(e){return zy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function JV(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof nc&&a instanceof nc||s instanceof ic&&a instanceof ic?il(s.elements,a.elements,es):s instanceof Gf&&a instanceof Gf?es(s.Ae,a.Ae):s instanceof qf&&a instanceof qf})(e.transform,t.transform)}class tM{constructor(t,n){this.version=t,this.transformResults=n}}class wn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new wn}static exists(t){return new wn(void 0,t)}static updateTime(t){return new wn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Sd{}function K1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Ad(e.key,wn.none()):new pc(e.key,e.data,wn.none());{const n=e.data,s=Sn.empty();let a=new Fe(en.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Hr(e.key,s,new Un(a.toArray()),wn.none())}}function eM(e,t,n){e instanceof pc?(function(a,l,c){const d=a.value.clone(),m=AS(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Hr?(function(a,l,c){if(!Rf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=AS(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Y1(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Bu(e,t,n,s){return e instanceof pc?(function(l,c,d,m){if(!Rf(l.precondition,c))return d;const g=l.value.clone(),y=bS(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,s):e instanceof Hr?(function(l,c,d,m){if(!Rf(l.precondition,c))return d;const g=bS(l.fieldTransforms,m,c),y=c.data;return y.setAll(Y1(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(e,t,n,s):(function(l,c,d){return Rf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function nM(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=H1(s.transform,a||null);l!=null&&(n===null&&(n=Sn.empty()),n.set(s.field,l))}return n||null}function SS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&il(s,a,((l,c)=>JV(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class pc extends Sd{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Hr extends Sd{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Y1(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function AS(e,t,n){const s=new Map;Qt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,ZV(c,d,n[a]))}return s}function bS(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,WV(l,c,t))}return s}class Ad extends Sd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iM extends Sd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&eM(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Bu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Bu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=B1();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=K1(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(wt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),zt())}isEqual(t){return this.batchId===t.batchId&&il(this.mutations,t.mutations,((n,s)=>SS(n,s)))&&il(this.baseMutations,t.baseMutations,((n,s)=>SS(n,s)))}}class qy{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return $V})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new qy(t,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,Ht;function oM(e){switch(e){case nt.OK:return Et(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Et(15467,{code:e})}}function Q1(e){if(e===void 0)return xs("GRPC error has no .code"),nt.UNKNOWN;switch(e){case Pe.OK:return nt.OK;case Pe.CANCELLED:return nt.CANCELLED;case Pe.UNKNOWN:return nt.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return nt.INTERNAL;case Pe.UNAVAILABLE:return nt.UNAVAILABLE;case Pe.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Pe.NOT_FOUND:return nt.NOT_FOUND;case Pe.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Pe.ABORTED:return nt.ABORTED;case Pe.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Pe.DATA_LOSS:return nt.DATA_LOSS;default:return Et(39323,{code:e})}}(Ht=Pe||(Pe={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new Vr([4294967295,4294967295],0);function wS(e){const t=lM().encode(e),n=new h1;return n.update(t),new Uint8Array(n.digest())}function RS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Vr([n,s],0),new Vr([a,l],0)]}class Gy{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Vu(`Invalid padding: ${n}`);if(s<0)throw new Vu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Vr.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(Vr.fromNumber(s)));return a.compare(uM)===1&&(a=new Vr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=wS(t),[s,a]=RS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Gy(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=wS(t),[s,a]=RS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,gc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new bd(wt.min(),a,new pe(jt),Vs(),zt())}}class gc{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new gc(s,n,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t,n,s,a){this.be=t,this.removedTargetIds=n,this.key=s,this.De=a}}class X1{constructor(t,n){this.targetId=t,this.Ce=n}}class W1{constructor(t,n,s=nn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class CS{constructor(){this.ve=0,this.Fe=IS(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),n=zt(),s=zt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Et(38017,{changeType:l})}})),new gc(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=IS()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cM{constructor(t){this.Ge=t,this.ze=new Map,this.je=Vs(),this.Je=ff(),this.He=ff(),this.Ye=new pe(jt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Fg(l))if(s===0){const c=new yt(l.path);this.et(n,c,on.newNoDocument(c,wt.min()))}else Qt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Lr(s).toUint8Array()}catch(m){if(m instanceof A1)return nl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Gy(c,a,l)}catch(m){return nl(m instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Fg(d.target)){const m=new yt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,on.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=zt();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new bd(t,n,this.Ye,this.je,s);return this.je=Vs(),this.Je=ff(),this.He=ff(),this.Ye=new pe(jt),a}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new CS,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Fe(jt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Fe(jt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new CS),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function ff(){return new pe(yt.comparator)}function IS(){return new pe(yt.comparator)}const hM={asc:"ASCENDING",desc:"DESCENDING"},fM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dM={and:"AND",or:"OR"};class mM{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function qg(e,t){return e.useProto3Json||pd(t)?t:{value:t}}function $f(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Z1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function pM(e,t){return $f(e,t.toTimestamp())}function Ki(e){return Qt(!!e,49232),wt.fromTimestamp((function(n){const s=Pr(n);return new ue(s.seconds,s.nanos)})(e))}function $y(e,t){return Gg(e,t).canonicalString()}function Gg(e,t){const n=(function(a){return new le(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function J1(e){const t=le.fromString(e);return Qt(sw(t),10190,{key:t.toString()}),t}function $g(e,t){return $y(e.databaseId,t.path)}function sg(e,t){const n=J1(t);if(n.get(1)!==e.databaseId.projectId)throw new mt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt(ew(n))}function tw(e,t){return $y(e.databaseId,t)}function gM(e){const t=J1(e);return t.length===4?le.emptyPath():ew(t)}function Kg(e){return new le(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ew(e){return Qt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function DS(e,t,n){return{name:$g(e,t),fields:n.value.mapValue.fields}}function yM(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Et(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Qt(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?nt.UNKNOWN:Q1(g.code);return new mt(y,g.message||"")})(c);n=new W1(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=sg(e,s.document.name),l=Ki(s.document.updateTime),c=s.document.createTime?Ki(s.document.createTime):wt.min(),d=new Sn({mapValue:{fields:s.document.fields}}),m=on.newFoundDocument(a,l,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new Cf(g,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=sg(e,s.document),l=s.readTime?Ki(s.readTime):wt.min(),c=on.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Cf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=sg(e,s.document),l=s.removedTargetIds||[];n=new Cf([],l,a,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new aM(a,l),d=s.targetId;n=new X1(d,c)}}return n}function vM(e,t){let n;if(t instanceof pc)n={update:DS(e,t.key,t.value)};else if(t instanceof Ad)n={delete:$g(e,t.key)};else if(t instanceof Hr)n={update:DS(e,t.key,t.data),updateMask:CM(t.fieldMask)};else{if(!(t instanceof iM))return Et(16599,{Vt:t.type});n={verify:$g(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof qf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof nc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ic)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Gf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Et(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:pM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Et(27497)})(e,t.precondition)),n}function _M(e,t){return e&&e.length>0?(Qt(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?Ki(a.updateTime):Ki(l);return c.isEqual(wt.min())&&(c=Ki(l)),new tM(c,a.transformResults||[])})(n,t)))):[]}function TM(e,t){return{documents:[tw(e,t.path)]}}function EM(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=tw(e,a);const l=(function(g){if(g.length!==0)return iw(ns.create(g,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(S){return{field:Fo(S.field),direction:bM(S.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=qg(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:a}}function SM(e){let t=gM(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Qt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(T){const S=nw(T);return S instanceof ns&&O1(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((S=>(function(V){return new Hf(Ho(V.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(S)))})(n.orderBy));let d=null;n.limit&&(d=(function(T){let S;return S=typeof T=="object"?T.value:T,pd(S)?null:S})(n.limit));let m=null;n.startAt&&(m=(function(T){const S=!!T.before,R=T.values||[];return new Ff(R,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const S=!T.before,R=T.values||[];return new Ff(R,S)})(n.endAt)),zV(t,a,c,l,d,"F",m,g)}function AM(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function nw(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ho(n.unaryFilter.field);return Be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ho(n.unaryFilter.field);return Be.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ho(n.unaryFilter.field);return Be.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ho(n.unaryFilter.field);return Be.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Be.create(Ho(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return ns.create(n.compositeFilter.filters.map((s=>nw(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(e):Et(30097,{filter:e})}function bM(e){return hM[e]}function wM(e){return fM[e]}function RM(e){return dM[e]}function Fo(e){return{fieldPath:e.canonicalString()}}function Ho(e){return en.fromServerFormat(e.fieldPath)}function iw(e){return e instanceof Be?(function(n){if(n.op==="=="){if(gS(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NAN"}};if(pS(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gS(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NAN"}};if(pS(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(n.field),op:wM(n.op),value:n.value}}})(e):e instanceof ns?(function(n){const s=n.getFilters().map((a=>iw(a)));return s.length===1?s[0]:{compositeFilter:{op:RM(n.op),filters:s}}})(e):Et(54877,{filter:e})}function CM(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function sw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,n,s,a,l=wt.min(),c=wt.min(),d=nn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new wr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t){this.yt=t}}function DM(e){const t=SM({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Hg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.Cn=new VM}addToCollectionParentIndex(t,n){return this.Cn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(Nr.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(Nr.min())}updateCollectionGroup(t,n,s){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class VM{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new Fe(le.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Fe(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rw=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(rw,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new al(0)}static cr(){return new al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="LruGarbageCollector",MM=1048576;function MS([e,t],[n,s]){const a=jt(e,n);return a===0?jt(t,s):a}class OM{constructor(t){this.Ir=t,this.buffer=new Fe(MS),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();MS(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NM{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(VS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ml(n)?ft(VS,"Ignoring IndexedDB error during garbage collection: ",n):await dl(n)}await this.Vr(3e5)}))}}class PM{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return et.resolve(md.ce);const s=new OM(n);return this.mr.forEachTarget(t,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(xS)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xS):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,a,l,c,d,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(t,a)))).next((T=>(s=T,d=Date.now(),this.removeTargets(t,s,n)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),zo()<=Ut.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function LM(e,t){return new PM(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.changes=new Ga((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?et.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&Bu(s.mutation,a,Un.empty(),ue.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,zt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=zt()){const a=xa();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=xu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=xa();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,zt())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,a){let l=Vs();const c=zu(),d=(function(){return zu()})();return n.forEach(((m,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Hr)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Bu(y.mutation,g,y.mutation.getFieldMask(),ue.now())):c.set(g.key,Un.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>d.set(g,new UM(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=zu();let a=new pe(((c,d)=>c-d)),l=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let y=s.get(m)||Un.empty();y=d.applyToLocalView(g,y),s.set(m,y);const T=(a.get(d.batchId)||zt()).add(m);a=a.insert(d.batchId,T)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,T=B1();y.forEach((S=>{if(!l.has(S)){const R=K1(n.get(S),s.get(S));R!==null&&T.set(S,R),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return et.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):BV(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):et.resolve(xa());let d=Zu,m=l;return c.next((g=>et.forEach(g,((y,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(y)?et.resolve():this.remoteDocumentCache.getEntry(t,y).next((S=>{m=m.insert(y,S)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,m,g,zt()))).next((y=>({batchId:d,changes:z1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let a=xu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=xu();return this.indexManager.getCollectionParents(t,l).next((d=>et.forEach(d,(m=>{const g=(function(T,S){return new yd(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,a).next((y=>{y.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,on.newInvalidDocument(y)))}));let d=xu();return c.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&Bu(y.mutation,g,Un.empty(),ue.now()),Td(n,g)&&(d=d.insert(m,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return et.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ki(a.createTime)}})(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:DM(a.bundledQuery),readTime:Ki(a.readTime)}})(n)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.overlays=new pe(yt.comparator),this.qr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const s=xa();return et.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.St(t,n,l)})),et.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(t,n,s){const a=xa(),l=n.length+1,c=new yt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return et.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new pe(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=xa(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=xa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=a)););return et.resolve(d)}St(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new rM(n,s));let l=this.qr.get(n);l===void 0&&(l=zt(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.Qr=new Fe($e.$r),this.Ur=new Fe($e.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new $e(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new $e(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new yt(new le([])),s=new $e(n,t),a=new $e(n,t+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new le([])),s=new $e(n,t),a=new $e(n,t+1);let l=zt();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new $e(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class $e{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||jt(t.Yr,n.Yr)}static Kr(t,n){return jt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Fe($e.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sM(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new $e(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return et.resolve(c)}lookupMutationBatch(t,n){return et.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return et.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Uy:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new $e(n,0),a=new $e(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),et.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Fe(jt);return n.forEach((a=>{const l=new $e(a,0),c=new $e(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;yt.isDocumentKey(l)||(l=l.child(""));const c=new $e(new yt(l),0);let d=new Fe(jt);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),c),et.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Qt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(n.mutations,(a=>{const l=new $e(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new $e(n,0),a=this.Zr.firstAfterOrEqual(s);return et.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(t){this.ri=t,this.docs=(function(){return new pe(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return et.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(t,n){let s=Vs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():on.newInvalidDocument(a))})),et.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=Vs();const c=n.path,d=new yt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||vV(yV(y),s)<=0||(a.has(y.key)||Td(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return et.resolve(l)}getAllFromCollectionGroup(t,n,s,a){Et(9500)}ii(t,n){return et.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new GM(this)}getSize(t){return et.resolve(this.size)}}class GM extends kM{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(s)})),et.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(t){this.persistence=t,this.si=new Ga((n=>By(n)),Fy),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new Ky,this.targetCount=0,this.ai=al.ur()}forEachTarget(t,n){return this.si.forEach(((s,a)=>n(a))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),et.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new al(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.Pr(n),et.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),et.waitFor(l).next((()=>a))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return et.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),et.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),et.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),et.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return et.resolve(s)}containsKey(t,n){return et.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t,n){this.ui={},this.overlays={},this.ci=new md(0),this.li=!1,this.li=!0,this.hi=new FM,this.referenceDelegate=t(this),this.Pi=new $M(this),this.indexManager=new xM,this.remoteDocumentCache=(function(a){return new qM(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new IM(n),this.Ii=new zM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new BM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new HM(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ft("MemoryPersistence","Starting transaction:",t);const a=new KM(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return et.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class KM extends TV{constructor(t){super(),this.currentSequenceNumber=t}}class Yy{constructor(t){this.persistence=t,this.Ri=new Ky,this.Vi=null}static mi(t){return new Yy(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),et.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),et.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(s=>{const a=yt.fromPath(s);return this.gi(t,a).next((l=>{l||n.removeEntry(a,wt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return et.or([()=>et.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Kf{constructor(t,n){this.persistence=t,this.pi=new Ga((s=>AV(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=LM(this,n)}static mi(t,n){return new Kf(t,n)}Ei(){}di(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return et.forEach(this.pi,((s,a)=>this.br(t,s,a).next((l=>l?et.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,n).next((d=>{d||(s++,l.removeEntry(c,wt.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=bf(t.data.value)),n}br(t,n,s){return et.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return et.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=a}static As(t,n){let s=zt(),a=zt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Qy(t,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return j2()?8:EV(un())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new YM;return this.Ss(t,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>l.result))}bs(t,n,s,a){return s.documentReadCount<this.fs?(zo()<=Ut.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(zo()<=Ut.DEBUG&&ft("QueryEngine","Query:",Bo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(zo()<=Ut.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$i(n))):et.resolve())}ys(t,n){if(TS(n))return et.resolve(null);let s=$i(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Hg(n,null,"F"),s=$i(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=zt(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((m=>{const g=this.Ds(n,d);return this.Cs(n,g,c,m.readTime)?this.ys(t,Hg(n,null,"F")):this.vs(t,g,n,m)}))))})))))}ws(t,n,s,a){return TS(n)||a.isEqual(wt.min())?et.resolve(null):this.ps.getDocuments(t,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?et.resolve(null):(zo()<=Ut.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Bo(n)),this.vs(t,c,n,gV(a,Zu)).next((d=>d)))}))}Ds(t,n){let s=new Fe(U1(t));return n.forEach(((a,l)=>{Td(t,l)&&(s=s.add(l))})),s}Cs(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,s){return zo()<=Ut.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Bo(n)),this.ps.getDocumentsMatchingQuery(t,n,Nr.min(),s)}vs(t,n,s,a){return this.ps.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="LocalStore",XM=3e8;class WM{constructor(t,n,s,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new pe(jt),this.xs=new Ga((l=>By(l)),Fy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function ZM(e,t,n,s){return new WM(e,t,n,s)}async function ow(e,t){const n=Ct(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=zt();for(const g of a){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function JM(e,t){const n=Ct(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,y){const T=g.batch,S=T.keys();let R=et.resolve();return S.forEach((V=>{R=R.next((()=>y.getEntry(m,V))).next((z=>{const k=g.docVersions.get(V);Qt(k!==null,48541),z.version.compareTo(k)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),y.addEntry(z)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(m,T)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=zt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function lw(e){const t=Ct(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function tO(e,t){const n=Ct(e),s=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];t.targetChanges.forEach(((y,T)=>{const S=a.get(T);if(!S)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,T))));let R=S.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?R=R.withResumeToken(nn.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),a=a.insert(T,R),(function(z,k,$){return z.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=XM?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(S,R,y)&&d.push(n.Pi.updateTargetData(l,R))}));let m=Vs(),g=zt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(eO(l,c,t.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!s.isEqual(wt.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return et.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function eO(e,t,n){let s=zt(),a=zt();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=Vs();return n.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(wt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):ft(Xy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function nO(e,t){const n=Ct(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Uy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function iO(e,t){const n=Ct(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,t).next((l=>l?(a=l,et.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new wr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Yg(e,t,n){const s=Ct(e),a=s.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ml(c))throw c;ft(Xy,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(a.target)}function OS(e,t,n){const s=Ct(e);let a=wt.min(),l=zt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,y){const T=Ct(m),S=T.xs.get(y);return S!==void 0?et.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,y)})(s,c,$i(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?a:wt.min(),n?l:zt()))).next((d=>(sO(s,HV(t),d),{documents:d,Qs:l})))))}function sO(e,t,n){let s=e.Os.get(t)||wt.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Os.set(t,s)}class NS{constructor(){this.activeTargetIds=QV()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class rO{constructor(){this.Mo=new NS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new NS,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="ConnectivityMonitor";class LS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(PS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(PS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df=null;function Qg(){return df===null?df=(function(){return 268435456+Math.round(2147483648*Math.random())})():df++,"0x"+df.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="RestConnection",oO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lO{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===zf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(t,n,s,a,l){const c=Qg(),d=this.zo(t,n.toUriEncodedString());ft(rg,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),y=cl(g);return this.Jo(t,d,m,s,y).then((T=>(ft(rg,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw nl(rg,`RPC '${t}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(t,n,s,a,l,c){return this.Go(t,n,s,a,l)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const s=oO[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class cO extends lO{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,a,l){const c=Qg();return new Promise(((d,m)=>{const g=new f1;g.setWithCredentials(!0),g.listenOnce(d1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Af.NO_ERROR:const T=g.getResponseJson();ft(rn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case Af.TIMEOUT:ft(rn,`RPC '${t}' ${c} timed out`),m(new mt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Af.HTTP_ERROR:const S=g.getStatus();if(ft(rn,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const V=R?.error;if(V&&V.status&&V.message){const z=(function($){const X=$.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(X)>=0?X:nt.UNKNOWN})(V.status);m(new mt(z,V.message))}else m(new mt(nt.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new mt(nt.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ft(rn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ft(rn,`RPC '${t}' ${c} sending request:`,a),g.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=Qg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=g1(),d=p1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");ft(rn,`Creating RPC '${t}' stream ${a}: ${y}`,m);const T=c.createWebChannel(y,m);this.I_(T);let S=!1,R=!1;const V=new uO({Yo:k=>{R?ft(rn,`Not sending because RPC '${t}' stream ${a} is closed:`,k):(S||(ft(rn,`Opening RPC '${t}' stream ${a} transport.`),T.open(),S=!0),ft(rn,`RPC '${t}' stream ${a} sending:`,k),T.send(k))},Zo:()=>T.close()}),z=(k,$,X)=>{k.listen($,(K=>{try{X(K)}catch(ot){setTimeout((()=>{throw ot}),0)}}))};return z(T,Du.EventType.OPEN,(()=>{R||(ft(rn,`RPC '${t}' stream ${a} transport opened.`),V.o_())})),z(T,Du.EventType.CLOSE,(()=>{R||(R=!0,ft(rn,`RPC '${t}' stream ${a} transport closed`),V.a_(),this.E_(T))})),z(T,Du.EventType.ERROR,(k=>{R||(R=!0,nl(rn,`RPC '${t}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),V.a_(new mt(nt.UNAVAILABLE,"The operation could not be completed")))})),z(T,Du.EventType.MESSAGE,(k=>{if(!R){const $=k.data[0];Qt(!!$,16349);const X=$,K=X?.error||X[0]?.error;if(K){ft(rn,`RPC '${t}' stream ${a} received error:`,K);const ot=K.status;let rt=(function(w){const I=Pe[w];if(I!==void 0)return Q1(I)})(ot),lt=K.message;rt===void 0&&(rt=nt.INTERNAL,lt="Unknown error status: "+ot+" with message "+K.message),R=!0,V.a_(new mt(rt,lt)),T.close()}else ft(rn,`RPC '${t}' stream ${a} received:`,$),V.u_($)}})),z(d,m1.STAT_EVENT,(k=>{k.stat===kg.PROXY?ft(rn,`RPC '${t}' stream ${a} detected buffering proxy`):k.stat===kg.NOPROXY&&ft(rn,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function ag(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(e){return new mM(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ft("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="PersistentStream";class cw{constructor(t,n,s,a,l,c,d,m){this.Mi=t,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uw(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===nt.RESOURCE_EXHAUSTED?(xs(n.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new mt(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(kS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ft(kS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hO extends cw{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=yM(this.serializer,t),s=(function(l){if(!("targetChange"in l))return wt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?Ki(c.readTime):wt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Kg(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=Fg(m)?{documents:TM(l,m)}:{query:EM(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Z1(l,c.resumeToken);const g=qg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(wt.min())>0){d.readTime=$f(l,c.snapshotVersion.toTimestamp());const g=qg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=AM(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Kg(this.serializer),n.removeTarget=t,this.q_(n)}}class fO extends cw{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=_M(t.writeResults,t.commitTime),s=Ki(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Kg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>vM(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{}class mO extends dO{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new mt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,Gg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new mt(nt.UNKNOWN,l.toString())}))}Ho(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,Gg(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(nt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class pO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(n),this.aa=!1):ft("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="RemoteStore";class gO{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{$a(this)&&(ft(Ba,"Restarting streams for network reachability change."),await(async function(m){const g=Ct(m);g.Ea.add(4),await yc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Rd(g)})(this))}))})),this.Ra=new pO(s,a)}}async function Rd(e){if($a(e))for(const t of e.da)await t(!0)}async function yc(e){for(const t of e.da)await t(!1)}function hw(e,t){const n=Ct(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),tv(n)?Jy(n):pl(n).O_()&&Zy(n,t))}function Wy(e,t){const n=Ct(e),s=pl(n);n.Ia.delete(t),s.O_()&&fw(n,t),n.Ia.size===0&&(s.O_()?s.L_():$a(n)&&n.Ra.set("Unknown"))}function Zy(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}pl(e).Y_(t)}function fw(e,t){e.Va.Ue(t),pl(e).Z_(t)}function Jy(e){e.Va=new cM({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),pl(e).start(),e.Ra.ua()}function tv(e){return $a(e)&&!pl(e).x_()&&e.Ia.size>0}function $a(e){return Ct(e).Ea.size===0}function dw(e){e.Va=void 0}async function yO(e){e.Ra.set("Online")}async function vO(e){e.Ia.forEach(((t,n)=>{Zy(e,t)}))}async function _O(e,t){dw(e),tv(e)?(e.Ra.ha(t),Jy(e)):e.Ra.set("Unknown")}async function TO(e,t,n){if(e.Ra.set("Online"),t instanceof W1&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(e,t)}catch(s){ft(Ba,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Yf(e,s)}else if(t instanceof Cf?e.Va.Ze(t):t instanceof X1?e.Va.st(t):e.Va.tt(t),!n.isEqual(wt.min()))try{const s=await lw(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),fw(l,m);const T=new wr(y.target,m,g,y.sequenceNumber);Zy(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){ft(Ba,"Failed to raise snapshot:",s),await Yf(e,s)}}async function Yf(e,t,n){if(!ml(t))throw t;e.Ea.add(1),await yc(e),e.Ra.set("Offline"),n||(n=()=>lw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ft(Ba,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Rd(e)}))}function mw(e,t){return t().catch((n=>Yf(e,n,t)))}async function Cd(e){const t=Ct(e),n=Ur(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Uy;for(;EO(t);)try{const a=await nO(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,SO(t,a)}catch(a){await Yf(t,a)}pw(t)&&gw(t)}function EO(e){return $a(e)&&e.Ta.length<10}function SO(e,t){e.Ta.push(t);const n=Ur(e);n.O_()&&n.X_&&n.ea(t.mutations)}function pw(e){return $a(e)&&!Ur(e).x_()&&e.Ta.length>0}function gw(e){Ur(e).start()}async function AO(e){Ur(e).ra()}async function bO(e){const t=Ur(e);for(const n of e.Ta)t.ea(n.mutations)}async function wO(e,t,n){const s=e.Ta.shift(),a=qy.from(s,t,n);await mw(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Cd(e)}async function RO(e,t){t&&Ur(e).X_&&await(async function(s,a){if((function(c){return oM(c)&&c!==nt.ABORTED})(a.code)){const l=s.Ta.shift();Ur(s).B_(),await mw(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Cd(s)}})(e,t),pw(e)&&gw(e)}async function US(e,t){const n=Ct(e);n.asyncQueue.verifyOperationInProgress(),ft(Ba,"RemoteStore received new credentials");const s=$a(n);n.Ea.add(3),await yc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Rd(n)}async function CO(e,t){const n=Ct(e);t?(n.Ea.delete(2),await Rd(n)):t||(n.Ea.add(2),await yc(n),n.Ra.set("Unknown"))}function pl(e){return e.ma||(e.ma=(function(n,s,a){const l=Ct(n);return l.sa(),new hO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:yO.bind(null,e),t_:vO.bind(null,e),r_:_O.bind(null,e),H_:TO.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),tv(e)?Jy(e):e.Ra.set("Unknown")):(await e.ma.stop(),dw(e))}))),e.ma}function Ur(e){return e.fa||(e.fa=(function(n,s,a){const l=Ct(n);return l.sa(),new fO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:AO.bind(null,e),r_:RO.bind(null,e),ta:bO.bind(null,e),na:wO.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Cd(e)):(await e.fa.stop(),e.Ta.length>0&&(ft(Ba,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,d=new ev(t,n,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nv(e,t){if(xs("AsyncQueue",`${t}: ${e}`),ml(e))return new mt(nt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(t){return new Xo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=xu(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Xo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Xo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.ga=new pe(yt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class ol{constructor(t,n,s,a,l,c,d,m,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new ol(t,n,Xo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_d(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class DO{constructor(){this.queries=zS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ct(n),l=a.queries;a.queries=zS(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new mt(nt.ABORTED,"Firestore shutting down"))}}function zS(){return new Ga((e=>k1(e)),_d)}async function iv(e,t){const n=Ct(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(s=2):(l=new IO,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=nv(c,`Initialization of query '${Bo(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&rv(n)}async function sv(e,t){const n=Ct(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function xO(e,t){const n=Ct(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&rv(n)}function VO(e,t,n){const s=Ct(e),a=s.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(t)}function rv(e){e.Ca.forEach((t=>{t.next()}))}var Xg,BS;(BS=Xg||(Xg={})).Ma="default",BS.Cache="cache";class av{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new ol(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ol.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Xg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this.key=t}}class vw{constructor(t){this.key=t}}class MO{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=U1(t),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new jS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,T)=>{const S=a.get(y),R=Td(this.query,T)?T:null,V=!!S&&this.mutatedKeys.has(S.key),z=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;S&&R?S.data.isEqual(R.data)?V!==z&&(s.track({type:3,doc:R}),k=!0):this.su(S,R)||(s.track({type:2,doc:R}),k=!0,(m&&this.eu(R,m)>0||g&&this.eu(R,g)<0)&&(d=!0)):!S&&R?(s.track({type:0,doc:R}),k=!0):S&&!R&&(s.track({type:1,doc:S}),k=!0,(m||g)&&(d=!0)),k&&(R?(c=c.add(R),l=z?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,T)=>(function(R,V){const z=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:k})}};return z(R)-z(V)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new ol(this.query,t.tu,l,c,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new vw(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new yw(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=zt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ov="SyncEngine";class OO{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class NO{constructor(t){this.key=t,this.hu=!1}}class PO{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ga((d=>k1(d)),_d),this.Iu=new Map,this.Eu=new Set,this.du=new pe(yt.comparator),this.Au=new Map,this.Ru=new Ky,this.Vu={},this.mu=new Map,this.fu=al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LO(e,t,n=!0){const s=bw(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await _w(s,t,n,!0),a}async function kO(e,t){const n=bw(e);await _w(n,t,!0,!1)}async function _w(e,t,n,s){const a=await iO(e.localStore,$i(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await UO(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&hw(e.remoteStore,a),d}async function UO(e,t,n,s,a){e.pu=(T,S,R)=>(async function(z,k,$,X){let K=k.view.ru($);K.Cs&&(K=await OS(z.localStore,k.query,!1).then((({documents:C})=>k.view.ru(C,K))));const ot=X&&X.targetChanges.get(k.targetId),rt=X&&X.targetMismatches.get(k.targetId)!=null,lt=k.view.applyChanges(K,z.isPrimaryClient,ot,rt);return HS(z,k.targetId,lt.au),lt.snapshot})(e,T,S,R);const l=await OS(e.localStore,t,!0),c=new MO(t,l.Qs),d=c.ru(l.documents),m=gc.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),g=c.applyChanges(d,e.isPrimaryClient,m);HS(e,n,g.au);const y=new OO(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function jO(e,t,n){const s=Ct(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!_d(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Yg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Wy(s.remoteStore,a.targetId),Wg(s,a.targetId)})).catch(dl)):(Wg(s,a.targetId),await Yg(s.localStore,a.targetId,!0))}async function zO(e,t){const n=Ct(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Wy(n.remoteStore,s.targetId))}async function BO(e,t,n){const s=YO(e);try{const a=await(function(c,d){const m=Ct(c),g=ue.now(),y=d.reduce(((R,V)=>R.add(V.key)),zt());let T,S;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let V=Vs(),z=zt();return m.Ns.getEntries(R,y).next((k=>{V=k,V.forEach((($,X)=>{X.isValidDocument()||(z=z.add($))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,V))).next((k=>{T=k;const $=[];for(const X of d){const K=nM(X,T.get(X.key).overlayedDocument);K!=null&&$.push(new Hr(X.key,K,x1(K.value.mapValue),wn.exists(!0)))}return m.mutationQueue.addMutationBatch(R,g,$,d)})).next((k=>{S=k;const $=k.applyToLocalDocumentSet(T,z);return m.documentOverlayCache.saveOverlays(R,k.batchId,$)}))})).then((()=>({batchId:S.batchId,changes:z1(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new pe(jt)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(s,a.batchId,n),await vc(s,a.changes),await Cd(s.remoteStore)}catch(a){const l=nv(a,"Failed to persist write");n.reject(l)}}async function Tw(e,t){const n=Ct(e);try{const s=await tO(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Qt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Qt(c.hu,14607):a.removedDocuments.size>0&&(Qt(c.hu,42227),c.hu=!1))})),await vc(n,s,t)}catch(s){await dl(s)}}function FS(e,t,n){const s=Ct(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Ct(c);m.onlineState=d;let g=!1;m.queries.forEach(((y,T)=>{for(const S of T.Sa)S.va(d)&&(g=!0)})),g&&rv(m)})(s.eventManager,t),a.length&&s.Pu.H_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function FO(e,t,n){const s=Ct(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new pe(yt.comparator);c=c.insert(l,on.newNoDocument(l,wt.min()));const d=zt().add(l),m=new bd(wt.min(),new Map,new pe(jt),c,d);await Tw(s,m),s.du=s.du.remove(l),s.Au.delete(t),lv(s)}else await Yg(s.localStore,t,!1).then((()=>Wg(s,t,n))).catch(dl)}async function HO(e,t){const n=Ct(e),s=t.batch.batchId;try{const a=await JM(n.localStore,t);Sw(n,s,null),Ew(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await vc(n,a)}catch(a){await dl(a)}}async function qO(e,t,n){const s=Ct(e);try{const a=await(function(c,d){const m=Ct(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next((T=>(Qt(T!==null,37113),y=T.keys(),m.mutationQueue.removeMutationBatch(g,T)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(s.localStore,t);Sw(s,t,n),Ew(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await vc(s,a)}catch(a){await dl(a)}}function Ew(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function Sw(e,t,n){const s=Ct(e);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.Vu[s.currentUser.toKey()]=a}}function Wg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||Aw(e,s)}))}function Aw(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Wy(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),lv(e))}function HS(e,t,n){for(const s of n)s instanceof yw?(e.Ru.addReference(s.key,t),GO(e,s)):s instanceof vw?(ft(ov,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||Aw(e,s.key)):Et(19791,{wu:s})}function GO(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(ft(ov,"New document in limbo: "+n),e.Eu.add(s),lv(e))}function lv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new yt(le.fromString(t)),s=e.fu.next();e.Au.set(s,new NO(n)),e.du=e.du.insert(n,s),hw(e.remoteStore,new wr($i(vd(n.path)),s,"TargetPurposeLimboResolution",md.ce))}}async function vc(e,t,n){const s=Ct(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=Qy.As(m.targetId,g);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,g){const y=Ct(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>et.forEach(g,(S=>et.forEach(S.Es,(R=>y.persistence.referenceDelegate.addReference(T,S.targetId,R))).next((()=>et.forEach(S.ds,(R=>y.persistence.referenceDelegate.removeReference(T,S.targetId,R)))))))))}catch(T){if(!ml(T))throw T;ft(Xy,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const R=y.Ms.get(S),V=R.snapshotVersion,z=R.withLastLimboFreeSnapshotVersion(V);y.Ms=y.Ms.insert(S,z)}}})(s.localStore,l))}async function $O(e,t){const n=Ct(e);if(!n.currentUser.isEqual(t)){ft(ov,"User change. New user:",t.toKey());const s=await ow(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new mt(nt.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await vc(n,s.Ls)}}function KO(e,t){const n=Ct(e),s=n.Au.get(t);if(s&&s.hu)return zt().add(s.key);{let a=zt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function bw(e){const t=Ct(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Tw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=FO.bind(null,t),t.Pu.H_=xO.bind(null,t.eventManager),t.Pu.yu=VO.bind(null,t.eventManager),t}function YO(e){const t=Ct(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qO.bind(null,t),t}class Qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return ZM(this.persistence,new QM,t.initialUser,this.serializer)}Cu(t){return new aw(Yy.mi,this.serializer)}Du(t){return new rO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qf.provider={build:()=>new Qf};class QO extends Qf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Qt(this.persistence.referenceDelegate instanceof Kf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NM(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new aw((s=>Kf.mi(s,n)),this.serializer)}}class Zg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>FS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$O.bind(null,this.syncEngine),await CO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new DO})()}createDatastore(t){const n=wd(t.databaseInfo.databaseId),s=(function(l){return new cO(l)})(t.databaseInfo);return(function(l,c,d,m){return new mO(l,c,d,m)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,d){return new gO(s,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>FS(this.syncEngine,n,0)),(function(){return LS.v()?new LS:new aO})())}createSyncEngine(t,n){return(function(a,l,c,d,m,g,y){const T=new PO(a,l,c,d,m,g);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ct(n);ft(Ba,"RemoteStore shutting down."),s.Ea.add(5),await yc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zg.provider={build:()=>new Zg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):xs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="FirestoreClient";class XO{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=an.UNAUTHENTICATED,this.clientId=Ly.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ft(jr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ft(jr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=nv(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function og(e,t){e.asyncQueue.verifyOperationInProgress(),ft(jr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await ow(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function qS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await WO(e);ft(jr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>US(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>US(t.remoteStore,a))),e._onlineComponents=t}async function WO(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ft(jr,"Using user provided OfflineComponentProvider");try{await og(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===nt.FAILED_PRECONDITION||a.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;nl("Error using user provided cache. Falling back to memory cache: "+n),await og(e,new Qf)}}else ft(jr,"Using default OfflineComponentProvider"),await og(e,new QO(void 0));return e._offlineComponents}async function ww(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ft(jr,"Using user provided OnlineComponentProvider"),await qS(e,e._uninitializedComponentsProvider._online)):(ft(jr,"Using default OnlineComponentProvider"),await qS(e,new Zg))),e._onlineComponents}function ZO(e){return ww(e).then((t=>t.syncEngine))}async function Xf(e){const t=await ww(e),n=t.eventManager;return n.onListen=LO.bind(null,t.syncEngine),n.onUnlisten=jO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=kO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=zO.bind(null,t.syncEngine),n}function JO(e,t,n={}){const s=new Rs;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const y=new uv({next:S=>{y.Nu(),c.enqueueAndForget((()=>sv(l,T)));const R=S.docs.has(d);!R&&S.fromCache?g.reject(new mt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&S.fromCache&&m&&m.source==="server"?g.reject(new mt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new av(vd(d.path),y,{includeMetadataChanges:!0,qa:!0});return iv(l,T)})(await Xf(e),e.asyncQueue,t,n,s))),s.promise}function tN(e,t,n={}){const s=new Rs;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const y=new uv({next:S=>{y.Nu(),c.enqueueAndForget((()=>sv(l,T))),S.fromCache&&m.source==="server"?g.reject(new mt(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new av(d,y,{includeMetadataChanges:!0,qa:!0});return iv(l,T)})(await Xf(e),e.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="firestore.googleapis.com",$S=!0;class KS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cw,this.ssl=$S}else this.host=t.host,this.ssl=t.ssl??$S;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=rw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<MM)throw new mt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}pV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rw(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new mt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new mt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new mt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Id{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new rV;switch(s.type){case"firstParty":return new uV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=GS.get(n);s&&(ft("ComponentProvider","Removing Datastore"),GS.delete(n),s.terminate())})(this),Promise.resolve()}}function eN(e,t,n,s={}){e=bn(e,Id);const a=cl(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(i1(`https://${d}`),s1("Firestore",!0)),l.host!==Cw&&l.host!==d&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!Ua(m,c)&&(e._setSettings(m),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=an.MOCK_USER;else{g=x2(s.mockUserToken,e._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new mt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new an(T)}e._authCredentials=new aV(new v1(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new _c(this.firestore,t,this._query)}}class we{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(mc(n,we._jsonSchema))return new we(t,s||null,new yt(le.fromString(n.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:ke("string",we._jsonSchemaVersion),referencePath:ke("string")};class Mr extends _c{constructor(t,n,s){super(t,n,vd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new yt(t))}withConverter(t){return new Mr(this.firestore,t,this._path)}}function YS(e,t,...n){if(e=Ue(e),_1("collection","path",t),e instanceof Id){const s=le.fromString(t,...n);return oS(s),new Mr(e,null,s)}{if(!(e instanceof we||e instanceof Mr))throw new mt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(le.fromString(t,...n));return oS(s),new Mr(e.firestore,null,s)}}function mf(e,t,...n){if(e=Ue(e),arguments.length===1&&(t=Ly.newId()),_1("doc","path",t),e instanceof Id){const s=le.fromString(t,...n);return aS(s),new we(e,null,new yt(s))}{if(!(e instanceof we||e instanceof Mr))throw new mt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(le.fromString(t,...n));return aS(s),new we(e.firestore,e instanceof Mr?e.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="AsyncQueue";class XS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uw(this,"async_queue_retry"),this._c=()=>{const s=ag();s&&ft(QS,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ml(t))throw t;ft(QS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",WS(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=ev.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Et(47125,{Pc:WS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function WS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(e){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(e,["next","error","complete"])}class Ms extends Id{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new XS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new XS(t),this._firestoreClient=void 0,await t}}}function nN(e,t){const n=typeof e=="object"?e:l1(),s=typeof e=="string"?e:zf,a=Ny(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=I2("firestore");l&&eN(a,...l)}return a}function Tc(e){if(e._terminated)throw new mt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||iN(e),e._firestoreClient}function iN(e){const t=e._freezeSettings(),n=(function(a,l,c,d){return new RV(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Rw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new XO(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ni(nn.fromBase64String(t))}catch(n){throw new mt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ni(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(mc(t,ni._jsonSchema))return ni.fromBase64String(t.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:ke("string",ni._jsonSchemaVersion),bytes:ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new mt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new mt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new mt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(t){if(mc(t,Yi._jsonSchema))return new Yi(t.latitude,t.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:ke("string",Yi._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(mc(t,Qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Qi(t.vectorValues);throw new mt(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:ke("string",Qi._jsonSchemaVersion),vectorValues:ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=/^__.*__$/;class rN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Hr(t,this.data,this.fieldMask,n,this.fieldTransforms):new pc(t,this.data,n,this.fieldTransforms)}}class Iw{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Hr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Dw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:e})}}class hv{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new hv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Dw(this.Ac)&&sN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class aN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||wd(t)}Cc(t,n,s,a=!1){return new hv({Ac:t,methodName:n,Dc:s,path:en.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fv(e){const t=e._freezeSettings(),n=wd(e._databaseId);return new aN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xw(e,t,n,s,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);dv("Data must be an object, but it was:",c,s);const d=Ow(s,c);let m,g;if(l.merge)m=new Un(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const S=Jg(t,T,n);if(!c.contains(S))throw new mt(nt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Pw(y,S)||y.push(S)}m=new Un(y),g=c.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,g=c.fieldTransforms;return new rN(new Sn(d),m,g)}class Dd extends cv{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dd}}function Vw(e,t,n,s){const a=e.Cc(1,t,n);dv("Data must be an object, but it was:",a,s);const l=[],c=Sn.empty();Fr(s,((m,g)=>{const y=mv(t,m,n);g=Ue(g);const T=a.yc(y);if(g instanceof Dd)l.push(y);else{const S=xd(g,T);S!=null&&(l.push(y),c.set(y,S))}}));const d=new Un(l);return new Iw(c,d,a.fieldTransforms)}function Mw(e,t,n,s,a,l){const c=e.Cc(1,t,n),d=[Jg(t,s,n)],m=[a];if(l.length%2!=0)throw new mt(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(Jg(t,l[S])),m.push(l[S+1]);const g=[],y=Sn.empty();for(let S=d.length-1;S>=0;--S)if(!Pw(g,d[S])){const R=d[S];let V=m[S];V=Ue(V);const z=c.yc(R);if(V instanceof Dd)g.push(R);else{const k=xd(V,z);k!=null&&(g.push(R),y.set(R,k))}}const T=new Un(g);return new Iw(y,T,c.fieldTransforms)}function xd(e,t){if(Nw(e=Ue(e)))return dv("Unsupported field value:",t,e),Ow(e,t);if(e instanceof cv)return(function(s,a){if(!Dw(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=xd(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=Ue(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return XV(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ue.fromDate(s);return{timestampValue:$f(a.serializer,l)}}if(s instanceof ue){const l=new ue(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$f(a.serializer,l)}}if(s instanceof Yi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ni)return{bytesValue:Z1(a.serializer,s._byteString)};if(s instanceof we){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$y(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Qi)return(function(c,d){return{mapValue:{fields:{[I1]:{stringValue:D1},[Bf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Hy(d.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${ky(s)}`)})(e,t)}function Ow(e,t){const n={};return S1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fr(e,((s,a)=>{const l=xd(a,t.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function Nw(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ue||e instanceof Yi||e instanceof ni||e instanceof we||e instanceof cv||e instanceof Qi)}function dv(e,t,n){if(!Nw(n)||!T1(n)){const s=ky(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function Jg(e,t,n){if((t=Ue(t))instanceof Ec)return t._internalPath;if(typeof t=="string")return mv(e,t);throw Wf("Field path arguments must be of type string or ",e,!1,void 0,n)}const oN=new RegExp("[~\\*/\\[\\]]");function mv(e,t,n){if(t.search(oN)>=0)throw Wf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ec(...t.split("."))._internalPath}catch{throw Wf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Wf(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new mt(nt.INVALID_ARGUMENT,d+e+m)}function Pw(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new lN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(kw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lN extends Lw{data(){return super.data()}}function kw(e,t){return typeof t=="string"?mv(e,t):t instanceof Ec?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new mt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uN{convertValue(t,n="none"){switch(kr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Fr(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[Bf].arrayValue?.values?.map((s=>be(s.doubleValue)));return new Qi(n)}convertGeoPoint(t){return new Yi(be(t.latitude),be(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=gd(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ju(t));default:return null}}convertTimestamp(t){const n=Pr(t);return new ue(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=le.fromString(t);Qt(sw(s),9688,{name:t});const a=new tc(s.get(1),s.get(3)),l=new yt(s.popFirst(5));return a.isEqual(n)||xs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class Mu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Na extends Lw{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(kw("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Na._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:ke("string",Na._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class If extends Na{data(t={}){return super.data(t)}}class Pa{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Mu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new If(this._firestore,this._userDataWriter,s.key,s,new Mu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new mt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new If(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Mu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new If(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Mu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:cN(d.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Pa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ly.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function cN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(e){e=bn(e,we);const t=bn(e.firestore,Ms);return JO(Tc(t),e._key).then((n=>zw(t,e,n)))}Pa._jsonSchemaVersion="firestore/querySnapshot/1.0",Pa._jsonSchema={type:ke("string",Pa._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};class pv extends uN{constructor(t){super(),this.firestore=t}convertBytes(t){return new ni(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,n)}}function hN(e){e=bn(e,_c);const t=bn(e.firestore,Ms),n=Tc(t),s=new pv(t);return Uw(e._query),tN(n,e._query).then((a=>new Pa(t,s,e,a)))}function fN(e,t,n){e=bn(e,we);const s=bn(e.firestore,Ms),a=jw(e.converter,t,n);return Vd(s,[xw(fv(s),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,wn.none())])}function tA(e,t,n,...s){e=bn(e,we);const a=bn(e.firestore,Ms),l=fv(a);let c;return c=typeof(t=Ue(t))=="string"||t instanceof Ec?Mw(l,"updateDoc",e._key,t,n,s):Vw(l,"updateDoc",e._key,t),Vd(a,[c.toMutation(e._key,wn.exists(!0))])}function eA(e){return Vd(bn(e.firestore,Ms),[new Ad(e._key,wn.none())])}function dN(e,...t){e=Ue(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||ZS(t[s])||(n=t[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ZS(t[s])){const m=t[s];t[s]=m.next?.bind(m),t[s+1]=m.error?.bind(m),t[s+2]=m.complete?.bind(m)}let l,c,d;if(e instanceof we)c=bn(e.firestore,Ms),d=vd(e._key.path),l={next:m=>{t[s]&&t[s](zw(c,e,m))},error:t[s+1],complete:t[s+2]};else{const m=bn(e,_c);c=bn(m.firestore,Ms),d=m._query;const g=new pv(c);l={next:y=>{t[s]&&t[s](new Pa(c,g,m,y))},error:t[s+1],complete:t[s+2]},Uw(e._query)}return(function(g,y,T,S){const R=new uv(S),V=new av(y,R,T);return g.asyncQueue.enqueueAndForget((async()=>iv(await Xf(g),V))),()=>{R.Nu(),g.asyncQueue.enqueueAndForget((async()=>sv(await Xf(g),V)))}})(Tc(c),d,a,l)}function Vd(e,t){return(function(s,a){const l=new Rs;return s.asyncQueue.enqueueAndForget((async()=>BO(await ZO(s),a,l))),l.promise})(Tc(e),t)}function zw(e,t,n){const s=n.docs.get(t._key),a=new pv(e);return new Na(e,a,t._key,s,new Mu(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=fv(t)}set(t,n,s){this._verifyNotCommitted();const a=lg(t,this._firestore),l=jw(a.converter,n,s),c=xw(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,wn.none())),this}update(t,n,s,...a){this._verifyNotCommitted();const l=lg(t,this._firestore);let c;return c=typeof(n=Ue(n))=="string"||n instanceof Ec?Mw(this._dataReader,"WriteBatch.update",l._key,n,s,a):Vw(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,wn.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=lg(t,this._firestore);return this._mutations=this._mutations.concat(new Ad(n._key,wn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new mt(nt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lg(e,t){if((e=Ue(e)).firestore!==t)throw new mt(nt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(e){return Tc(e=bn(e,Ms)),new mN(e,(t=>Vd(e,t)))}(function(t,n=!0){(function(a){fl=a})(hl),el(new ja("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Ms(new oV(s.getProvider("auth-internal")),new cV(c,s.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new mt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(g.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),xr(nS,iS,t),xr(nS,iS,"esm2020")})();function Bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gN=Bw,Fw=new fc("auth","Firebase",Bw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new My("@firebase/auth");function yN(e,...t){Zf.logLevel<=Ut.WARN&&Zf.warn(`Auth (${hl}): ${e}`,...t)}function Df(e,...t){Zf.logLevel<=Ut.ERROR&&Zf.error(`Auth (${hl}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(e,...t){throw gv(e,...t)}function Xi(e,...t){return gv(e,...t)}function Hw(e,t,n){const s={...gN(),[t]:n};return new fc("auth","Firebase",s).create(t,{appName:e.name})}function Cs(e){return Hw(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gv(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return Fw.create(e,...t)}function Tt(e,t,...n){if(!e)throw gv(t,...n)}function bs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Df(t),new Error(t)}function Os(e,t){e||bs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(){return typeof self<"u"&&self.location?.href||""}function vN(){return nA()==="http:"||nA()==="https:"}function nA(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vN()||L2()||"connection"in navigator)?navigator.onLine:!0}function TN(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Os(n>t,"Short delay should be less than long delay!"),this.isMobile=O2()||k2()}get(){return _N()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(e,t){Os(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AN=new Sc(3e4,6e4);function qr(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Gr(e,t,n,s,a={}){return Gw(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=dc({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:m,...l};return P2()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&cl(e.emulatorConfig.host)&&(g.credentials="include"),qw.fetch()(await $w(e,e.config.apiHost,n,d),g)})}async function Gw(e,t,n){e._canInitEmulator=!1;const s={...EN,...t};try{const a=new wN(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw pf(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw pf(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw pf(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw pf(e,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Hw(e,y,g);Ei(e,y)}}catch(a){if(a instanceof ks)throw a;Ei(e,"network-request-failed",{message:String(a)})}}async function Ac(e,t,n,s,a={}){const l=await Gr(e,t,n,s,a);return"mfaPendingCredential"in l&&Ei(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function $w(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?yv(e.config,a):`${e.config.apiScheme}://${a}`;return SN.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function bN(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Xi(this.auth,"network-request-failed")),AN.get())})}}function pf(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Xi(e,t,s);return a.customData._tokenResponse=n,a}function iA(e){return e!==void 0&&e.enterprise!==void 0}class RN{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return bN(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CN(e,t){return Gr(e,"GET","/v2/recaptchaConfig",qr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(e,t){return Gr(e,"POST","/v1/accounts:delete",t)}async function Jf(e,t){return Gr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function DN(e,t=!1){const n=Ue(e),s=await n.getIdToken(t),a=vv(s);Tt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Fu(ug(a.auth_time)),issuedAtTime:Fu(ug(a.iat)),expirationTime:Fu(ug(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ug(e){return Number(e)*1e3}function vv(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Df("JWT malformed, contained fewer than 3 sections"),null;try{const a=Jb(n);return a?JSON.parse(a):(Df("Failed to decode base64 JWT payload"),null)}catch(a){return Df("Caught error parsing JWT payload as JSON",a?.toString()),null}}function sA(e){const t=vv(e);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ks&&xN(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function xN({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(e){const t=e.auth,n=await e.getIdToken(),s=await sc(e,Jf(t,{idToken:n}));Tt(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?Kw(a.providerUserInfo):[],c=ON(e.providerData,l),d=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,g=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new ey(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(e,y)}async function MN(e){const t=Ue(e);await td(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ON(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function Kw(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(e,t){const n=await Gw(e,{},async()=>{const s=dc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await $w(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return e.emulatorConfig&&cl(e.emulatorConfig.host)&&(m.credentials="include"),qw.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PN(e,t){return Gr(e,"POST","/v2/accounts:revokeToken",qr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sA(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=sA(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await NN(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Wo;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(Tt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Tt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wo,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(e,t){Tt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class _i{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new VN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ey(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await sc(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return DN(this,t)}reload(){return MN(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new _i({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await td(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Cs(this.auth));const t=await this.getIdToken();return await sc(this,IN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:R,providerData:V,stsTokenManager:z}=n;Tt(T&&z,t,"internal-error");const k=Wo.fromJSON(this.name,z);Tt(typeof T=="string",t,"internal-error"),vr(s,t.name),vr(a,t.name),Tt(typeof S=="boolean",t,"internal-error"),Tt(typeof R=="boolean",t,"internal-error"),vr(l,t.name),vr(c,t.name),vr(d,t.name),vr(m,t.name),vr(g,t.name),vr(y,t.name);const $=new _i({uid:T,auth:t,email:a,emailVerified:S,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:k,createdAt:g,lastLoginAt:y});return V&&Array.isArray(V)&&($.providerData=V.map(X=>({...X}))),m&&($._redirectEventId=m),$}static async _fromIdTokenResponse(t,n,s=!1){const a=new Wo;a.updateFromServerResponse(n);const l=new _i({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await td(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];Tt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Kw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Wo;d.updateFromIdToken(s);const m=new _i({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ey(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new Map;function ws(e){Os(e instanceof Function,"Expected a class definition");let t=rA.get(e);return t?(Os(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,rA.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Yw.type="NONE";const aA=Yw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(e,t,n){return`firebase:${e}:${t}:${n}`}class Zo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=xf(this.userKey,a.apiKey,l),this.fullPersistenceKey=xf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Jf(this.auth,{idToken:t}).catch(()=>{});return n?_i._fromGetAccountInfoResponse(this.auth,n,t):null}return _i._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Zo(ws(aA),t,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||ws(aA);const c=xf(s,t.config.apiKey,t.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){let T;if(typeof y=="string"){const S=await Jf(t,{idToken:y}).catch(()=>{});if(!S)break;T=await _i._fromGetAccountInfoResponse(t,S,y)}else T=_i._fromJSON(t,y);g!==l&&(d=T),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Zo(l,t,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Zo(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tR(t))return"Blackberry";if(eR(t))return"Webos";if(Xw(t))return"Safari";if((t.includes("chrome/")||Ww(t))&&!t.includes("edge/"))return"Chrome";if(Jw(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function Qw(e=un()){return/firefox\//i.test(e)}function Xw(e=un()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ww(e=un()){return/crios\//i.test(e)}function Zw(e=un()){return/iemobile/i.test(e)}function Jw(e=un()){return/android/i.test(e)}function tR(e=un()){return/blackberry/i.test(e)}function eR(e=un()){return/webos/i.test(e)}function _v(e=un()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function LN(e=un()){return _v(e)&&!!window.navigator?.standalone}function kN(){return U2()&&document.documentMode===10}function nR(e=un()){return _v(e)||Jw(e)||eR(e)||tR(e)||/windows phone/i.test(e)||Zw(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(e,t=[]){let n;switch(e){case"Browser":n=oA(un());break;case"Worker":n=`${oA(un())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${hl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(e,t={}){return Gr(e,"GET","/v2/passwordPolicy",qr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=6;class BN{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lA(this),this.idTokenSubscription=new lA(this),this.beforeStateQueue=new UN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Jf(this,{idToken:t}),s=await _i._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ei(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await td(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=TN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ei(this.app))return Promise.reject(Cs(this));const n=t?Ue(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ei(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await jN(this),n=new BN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new fc("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await PN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ws(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await Zo.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=iR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&yN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ka(e){return Ue(e)}class lA{constructor(t){this.auth=t,this.observer=null,this.addObserver=$2(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HN(e){Md=e}function sR(e){return Md.loadJS(e)}function qN(){return Md.recaptchaEnterpriseScript}function GN(){return Md.gapiScript}function $N(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class KN{constructor(){this.enterprise=new YN}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class YN{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const QN="recaptcha-enterprise",rR="NO_RECAPTCHA";class XN{constructor(t){this.type=QN,this.auth=Ka(t)}async verify(t="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{CN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new RN(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;iA(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(g=>{c(g)}).catch(()=>{c(rR)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&iA(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=qN();m.length!==0&&(m+=d),sR(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function uA(e,t,n,s=!1,a=!1){const l=new XN(e);let c;if(a)c=rR;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ny(e,t,n,s,a){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await uA(e,t,n,n==="getOobCode");return s(e,l)}else return s(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await uA(e,t,n,n==="getOobCode");return s(e,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(e,t){const n=Ny(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ua(l,t??{}))return a;Ei(a,"already-initialized")}return n.initialize({options:t})}function ZN(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ws);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function JN(e,t,n){const s=Ka(e);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=aR(t),{host:c,port:d}=tP(t),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(Ua(g,s.config.emulator)&&Ua(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,cl(c)?(i1(`${l}//${c}${m}`),s1("Auth",!0)):eP()}function aR(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function tP(e){const t=aR(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:cA(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:cA(c)}}}function cA(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function eP(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return bs("not implemented")}_getIdTokenResponse(t){return bs("not implemented")}_linkToIdToken(t,n){return bs("not implemented")}_getReauthenticationResolver(t){return bs("not implemented")}}async function nP(e,t){return Gr(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(e,t){return Ac(e,"POST","/v1/accounts:signInWithPassword",qr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(e,t){return Ac(e,"POST","/v1/accounts:signInWithEmailLink",qr(e,t))}async function rP(e,t){return Ac(e,"POST","/v1/accounts:signInWithEmailLink",qr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Tv{constructor(t,n,s,a=null){super("password",s),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new rc(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new rc(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ny(t,n,"signInWithPassword",iP);case"emailLink":return sP(t,{email:this._email,oobCode:this._password});default:Ei(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ny(t,s,"signUpPassword",nP);case"emailLink":return rP(t,{idToken:n,email:this._email,oobCode:this._password});default:Ei(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(e,t){return Ac(e,"POST","/v1/accounts:signInWithIdp",qr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="http://localhost";class Fa extends Tv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Fa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Fa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Jo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Jo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Jo(t,n)}buildRequest(){const t={requestUri:aP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=dc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lP(e){const t=Cu(Iu(e)).link,n=t?Cu(Iu(t)).deep_link_id:null,s=Cu(Iu(e)).deep_link_id;return(s?Cu(Iu(s)).link:null)||s||n||t||e}class Ev{constructor(t){const n=Cu(Iu(t)),s=n.apiKey??null,a=n.oobCode??null,l=oP(n.mode??null);Tt(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=lP(t);try{return new Ev(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(t,n){return rc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Ev.parseLink(n);return Tt(s,"argument-error"),rc._fromEmailAndCode(t,s.code,s.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends oR{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends bc{constructor(){super("facebook.com")}static credential(t){return Fa._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Fa._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Er.credential(n,s)}catch{return null}}}Er.GOOGLE_SIGN_IN_METHOD="google.com";Er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends bc{constructor(){super("github.com")}static credential(t){return Fa._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Sr.credential(t.oauthAccessToken)}catch{return null}}}Sr.GITHUB_SIGN_IN_METHOD="github.com";Sr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends bc{constructor(){super("twitter.com")}static credential(t,n){return Fa._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Ar.credential(n,s)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(e,t){return Ac(e,"POST","/v1/accounts:signUp",qr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await _i._fromIdTokenResponse(t,s,a),c=hA(s);return new Ha({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=hA(s);return new Ha({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function hA(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends ks{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new ed(t,n,s,a)}}function lR(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(e,l,t,s):l})}async function cP(e,t,n=!1){const s=await sc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ha._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(e,t,n=!1){const{auth:s}=e;if(ei(s.app))return Promise.reject(Cs(s));const a="reauthenticate";try{const l=await sc(e,lR(s,a,t,e),n);Tt(l.idToken,s,"internal-error");const c=vv(l.idToken);Tt(c,s,"internal-error");const{sub:d}=c;return Tt(e.uid===d,s,"user-mismatch"),Ha._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ei(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(e,t,n=!1){if(ei(e.app))return Promise.reject(Cs(e));const s="signIn",a=await lR(e,s,t),l=await Ha._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}async function fP(e,t){return uR(Ka(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(e){const t=Ka(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function dP(e,t,n){if(ei(e.app))return Promise.reject(Cs(e));const s=Ka(e),c=await ny(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uP).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&cR(e),m}),d=await Ha._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function mP(e,t,n){return ei(e.app)?Promise.reject(Cs(e)):fP(Ue(e),gl.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&cR(e),s})}function pP(e,t,n,s){return Ue(e).onIdTokenChanged(t,n,s)}function gP(e,t,n){return Ue(e).beforeAuthStateChanged(t,n)}function yP(e,t,n,s){return Ue(e).onAuthStateChanged(t,n,s)}function vP(e){return Ue(e).signOut()}const nd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nd,"1"),this.storage.removeItem(nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=1e3,TP=10;class fR extends hR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);kN()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,TP):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},_P)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}fR.type="LOCAL";const EP=fR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR extends hR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}dR.type="SESSION";const mR=dR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new Od(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),m=await SP(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Sv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(){return window}function bP(e){Wi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function wP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RP(){return navigator?.serviceWorker?.controller||null}function CP(){return pR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="firebaseLocalStorageDb",IP=1,id="firebaseLocalStorage",yR="fbase_key";class wc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nd(e,t){return e.transaction([id],t?"readwrite":"readonly").objectStore(id)}function DP(){const e=indexedDB.deleteDatabase(gR);return new wc(e).toPromise()}function iy(){const e=indexedDB.open(gR,IP);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(id,{keyPath:yR})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(id)?t(s):(s.close(),await DP(),t(await iy()))})})}async function fA(e,t,n){const s=Nd(e,!0).put({[yR]:t,value:n});return new wc(s).toPromise()}async function xP(e,t){const n=Nd(e,!1).get(t),s=await new wc(n).toPromise();return s===void 0?null:s.value}function dA(e,t){const n=Nd(e,!0).delete(t);return new wc(n).toPromise()}const VP=800,MP=3;class vR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iy(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>MP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Od._getInstance(CP()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wP(),!this.activeServiceWorker)return;this.sender=new AP(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||RP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await iy();return await fA(t,nd,"1"),await dA(t,nd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>fA(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>xP(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>dA(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Nd(a,!1).getAll();return new wc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vR.type="LOCAL";const OP=vR;new Sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(e,t){return t?ws(t):(Tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends Tv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Jo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Jo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Jo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function PP(e){return uR(e.auth,new Av(e),e.bypassAuthState)}function LP(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),hP(n,new Av(e),e.bypassAuthState)}async function kP(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),cP(n,new Av(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return PP;case"linkViaPopup":case"linkViaRedirect":return kP;case"reauthViaPopup":case"reauthViaRedirect":return LP;default:Ei(this.auth,"internal-error")}}resolve(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=new Sc(2e3,1e4);class qo extends _R{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const t=Sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,UP.get())};t()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="pendingRedirect",Vf=new Map;class zP extends _R{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Vf.get(this.auth._key());if(!t){try{const s=await BP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Vf.set(this.auth._key(),t)}return this.bypassAuthState||Vf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BP(e,t){const n=qP(t),s=HP(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function FP(e,t){Vf.set(e._key(),t)}function HP(e){return ws(e._redirectPersistence)}function qP(e){return xf(jP,e.config.apiKey,e.name)}async function GP(e,t,n=!1){if(ei(e.app))return Promise.reject(Cs(e));const s=Ka(e),a=NP(s,t),c=await new zP(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=600*1e3;class KP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!YP(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!TR(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Xi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$P&&this.cachedEventUids.clear(),this.cachedEventUids.has(mA(t))}saveEventToCache(t){this.cachedEventUids.add(mA(t)),this.lastProcessedEventTime=Date.now()}}function mA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function TR({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function YP(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TR(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(e,t={}){return Gr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WP=/^https?/;async function ZP(e){if(e.config.emulator)return;const{authorizedDomains:t}=await QP(e);for(const n of t)try{if(JP(n))return}catch{}Ei(e,"unauthorized-domain")}function JP(e){const t=ty(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!WP.test(n))return!1;if(XP.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=new Sc(3e4,6e4);function pA(){const e=Wi().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function e4(e){return new Promise((t,n)=>{function s(){pA(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{pA(),n(Xi(e,"network-request-failed"))},timeout:t4.get()})}if(Wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Wi().gapi?.load)s();else{const a=$N("iframefcb");return Wi()[a]=()=>{gapi.load?s():n(Xi(e,"network-request-failed"))},sR(`${GN()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Mf=null,t})}let Mf=null;function n4(e){return Mf=Mf||e4(e),Mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new Sc(5e3,15e3),s4="__/auth/iframe",r4="emulator/auth/iframe",a4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l4(e){const t=e.config;Tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?yv(t,r4):`https://${e.config.authDomain}/${s4}`,s={apiKey:t.apiKey,appName:e.name,v:hl},a=o4.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${dc(s).slice(1)}`}async function u4(e){const t=await n4(e),n=Wi().gapi;return Tt(n,e,"internal-error"),t.open({where:document.body,url:l4(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a4,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Xi(e,"network-request-failed"),d=Wi().setTimeout(()=>{l(c)},i4.get());function m(){Wi().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h4=500,f4=600,d4="_blank",m4="http://localhost";class gA{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p4(e,t,n,s=h4,a=f4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...c4,width:s.toString(),height:a.toString(),top:l,left:c},g=un().toLowerCase();n&&(d=Ww(g)?d4:n),Qw(g)&&(t=t||m4,m.scrollbars="yes");const y=Object.entries(m).reduce((S,[R,V])=>`${S}${R}=${V},`,"");if(LN(g)&&d!=="_self")return g4(t||"",d),new gA(null);const T=window.open(t||"",d,y);Tt(T,e,"popup-blocked");try{T.focus()}catch{}return new gA(T)}function g4(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="__/auth/handler",v4="emulator/auth/handler",_4=encodeURIComponent("fac");async function yA(e,t,n,s,a,l){Tt(e.config.authDomain,e,"auth-domain-config-required"),Tt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:hl,eventId:a};if(t instanceof oR){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",G2(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(t instanceof bc){const y=t.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),g=m?`#${_4}=${encodeURIComponent(m)}`:"";return`${T4(e)}?${dc(d).slice(1)}${g}`}function T4({config:e}){return e.emulator?yv(e,v4):`https://${e.authDomain}/${y4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="webStorageSupport";class E4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mR,this._completeRedirectFn=GP,this._overrideRedirectResult=FP}async _openPopup(t,n,s,a){Os(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await yA(t,n,s,ty(),a);return p4(t,l,Sv())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await yA(t,n,s,ty(),a);return bP(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Os(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await u4(t),s=new KP(t);return n.register("authEvent",a=>(Tt(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(cg,{type:cg},a=>{const l=a?.[0]?.[cg];l!==void 0&&n(!!l),Ei(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZP(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return nR()||Xw()||_v()}}const S4=E4;var vA="@firebase/auth",_A="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w4(e){el(new ja("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iR(e)},g=new FN(s,a,l,m);return ZN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),el(new ja("auth-internal",t=>{const n=Ka(t.getProvider("auth").getImmediate());return(s=>new A4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(vA,_A,b4(e)),xr(vA,_A,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=300,C4=n1("authIdTokenMaxAge")||R4;let TA=null;const I4=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>C4)return;const a=n?.token;TA!==a&&(TA=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function D4(e=l1()){const t=Ny(e,"auth");if(t.isInitialized())return t.getImmediate();const n=WN(e,{popupRedirectResolver:S4,persistence:[OP,EP,mR]}),s=n1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=I4(l.toString());gP(n,c,()=>c(n.currentUser)),pP(n,d=>c(d))}}const a=t1("auth");return a&&JN(n,`http://${a}`),n}function x4(){return document.getElementsByTagName("head")?.[0]??document}HN({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=Xi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",x4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w4("Browser");const V4={apiKey:"AIzaSyArKpuch8_km_iw1AD0cVvpCdCfe4xjrcE",authDomain:"project-for-resume-cf6f7.firebaseapp.com",projectId:"project-for-resume-cf6f7",storageBucket:"project-for-resume-cf6f7.firebasestorage.app",messagingSenderId:"292410830583",appId:"1:292410830583:web:2f328d88fdf83028386df2",measurementId:"G-4B45KLKWYL"},ER=o1(V4),ba=nN(ER),gf=D4(ER),SR=L.createContext(void 0),bv=()=>{const e=L.useContext(SR);if(!e)throw new Error("useAuth must be used inside AuthProvider");return e},M4=({children:e})=>{const[t,n]=L.useState(null),[s,a]=L.useState(!0);L.useEffect(()=>yP(gf,g=>{n(g),a(!1)}),[]);const l=async(m,g)=>{await dP(gf,m,g)},c=async(m,g)=>{await mP(gf,m,g)},d=async()=>{await vP(gf)};return at.jsx(SR.Provider,{value:{user:t,loading:s,signUp:l,signIn:c,logout:d},children:!s&&e})};function O4(){const{signIn:e,signUp:t,logout:n,user:s}=bv(),[a,l]=L.useState(""),[c,d]=L.useState(""),[m,g]=L.useState("login"),y=async T=>{T.preventDefault();try{m==="login"?await e(a,c):await t(a,c),l(""),d("")}catch(S){alert(S.message)}};return s?at.jsxs("div",{className:"flex items-center gap-4",children:[at.jsxs("span",{children:["Signed in as: ",s.email]}),at.jsx("button",{onClick:n,className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700",children:"Logout"})]}):at.jsxs("form",{onSubmit:y,className:"flex flex-col gap-3 mx-w-sm",children:[at.jsx("input",{type:"email",placeholder:"Email",className:"border px-3 py-2 rounded",value:a,onChange:T=>l(T.target.value)}),at.jsx("input",{type:"password",placeholder:"Password",className:"border px-3 py-2 rounded",value:c,onChange:T=>d(T.target.value)}),at.jsx("button",{type:"submit",className:"bg-blue-600 text-whte py-2 rounded hover:bg-blue-700",children:m==="login"?"Login":"Sign Up"}),at.jsx("button",{type:"button",onClick:()=>g(m==="login"?"signup":"login"),className:"text-sm tex-blue-600 underline",children:m==="login"?"Need an account? Sign up":"Already have one? Log in"})]})}const wv=L.createContext({});function Rv(e){const t=L.useRef(null);return t.current===null&&(t.current=e()),t.current}const Cv=typeof window<"u",AR=Cv?L.useLayoutEffect:L.useEffect,Pd=L.createContext(null);function Iv(e,t){e.indexOf(t)===-1&&e.push(t)}function Dv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ns=(e,t,n)=>n>t?t:n<e?e:n;let xv=()=>{};const Ps={},bR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function wR(e){return typeof e=="object"&&e!==null}const RR=e=>/^0[^.\s]+$/u.test(e);function Vv(e){let t;return()=>(t===void 0&&(t=e()),t)}const si=e=>e,N4=(e,t)=>n=>t(e(n)),Rc=(...e)=>e.reduce(N4),ac=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Mv{constructor(){this.subscriptions=[]}add(t){return Iv(this.subscriptions,t),()=>Dv(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zi=e=>e*1e3,ii=e=>e/1e3;function CR(e,t){return t?e*(1e3/t):0}const IR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,P4=1e-7,L4=12;function k4(e,t,n,s,a){let l,c,d=0;do c=t+(n-t)/2,l=IR(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>P4&&++d<L4);return c}function Cc(e,t,n,s){if(e===t&&n===s)return si;const a=l=>k4(l,0,1,e,n);return l=>l===0||l===1?l:IR(a(l),t,s)}const DR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,xR=e=>t=>1-e(1-t),VR=Cc(.33,1.53,.69,.99),Ov=xR(VR),MR=DR(Ov),OR=e=>(e*=2)<1?.5*Ov(e):.5*(2-Math.pow(2,-10*(e-1))),Nv=e=>1-Math.sin(Math.acos(e)),NR=xR(Nv),PR=DR(Nv),U4=Cc(.42,0,1,1),j4=Cc(0,0,.58,1),LR=Cc(.42,0,.58,1),z4=e=>Array.isArray(e)&&typeof e[0]!="number",kR=e=>Array.isArray(e)&&typeof e[0]=="number",B4={linear:si,easeIn:U4,easeInOut:LR,easeOut:j4,circIn:Nv,circInOut:PR,circOut:NR,backIn:Ov,backInOut:MR,backOut:VR,anticipate:OR},F4=e=>typeof e=="string",EA=e=>{if(kR(e)){xv(e.length===4);const[t,n,s,a]=e;return Cc(t,n,s,a)}else if(F4(e))return B4[e];return e},yf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function H4(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(g.schedule(y),e()),y(d)}const g={schedule:(y,T=!1,S=!1)=>{const V=S&&a?n:s;return T&&c.add(y),V.has(y)||V.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const q4=40;function UR(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=yf.reduce((K,ot)=>(K[ot]=H4(l),K),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:y,update:T,preRender:S,render:R,postRender:V}=c,z=()=>{const K=Ps.useManualTiming?a.timestamp:performance.now();n=!1,Ps.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(K-a.timestamp,q4),1)),a.timestamp=K,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),y.process(a),T.process(a),S.process(a),R.process(a),V.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(z))},k=()=>{n=!0,s=!0,a.isProcessing||e(z)};return{schedule:yf.reduce((K,ot)=>{const rt=c[ot];return K[ot]=(lt,C=!1,w=!1)=>(n||k(),rt.schedule(lt,C,w)),K},{}),cancel:K=>{for(let ot=0;ot<yf.length;ot++)c[yf[ot]].cancel(K)},state:a,steps:c}}const{schedule:de,cancel:zr,state:Je,steps:hg}=UR(typeof requestAnimationFrame<"u"?requestAnimationFrame:si,!0);let Of;function G4(){Of=void 0}const An={now:()=>(Of===void 0&&An.set(Je.isProcessing||Ps.useManualTiming?Je.timestamp:performance.now()),Of),set:e=>{Of=e,queueMicrotask(G4)}},jR=e=>t=>typeof t=="string"&&t.startsWith(e),Pv=jR("--"),$4=jR("var(--"),Lv=e=>$4(e)?K4.test(e.split("/*")[0].trim()):!1,K4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},oc={...yl,transform:e=>Ns(0,1,e)},vf={...yl,default:1},Hu=e=>Math.round(e*1e5)/1e5,kv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Y4(e){return e==null}const Q4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Uv=(e,t)=>n=>!!(typeof n=="string"&&Q4.test(n)&&n.startsWith(e)||t&&!Y4(n)&&Object.prototype.hasOwnProperty.call(n,t)),zR=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(kv);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},X4=e=>Ns(0,255,e),fg={...yl,transform:e=>Math.round(X4(e))},Va={test:Uv("rgb","red"),parse:zR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+fg.transform(e)+", "+fg.transform(t)+", "+fg.transform(n)+", "+Hu(oc.transform(s))+")"};function W4(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const sy={test:Uv("#"),parse:W4,transform:Va.transform},Ic=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_r=Ic("deg"),Ji=Ic("%"),At=Ic("px"),Z4=Ic("vh"),J4=Ic("vw"),SA={...Ji,parse:e=>Ji.parse(e)/100,transform:e=>Ji.transform(e*100)},Go={test:Uv("hsl","hue"),parse:zR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ji.transform(Hu(t))+", "+Ji.transform(Hu(n))+", "+Hu(oc.transform(s))+")"},Le={test:e=>Va.test(e)||sy.test(e)||Go.test(e),parse:e=>Va.test(e)?Va.parse(e):Go.test(e)?Go.parse(e):sy.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Va.transform(e):Go.transform(e),getAnimatableNone:e=>{const t=Le.parse(e);return t.alpha=0,Le.transform(t)}},tL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eL(e){return isNaN(e)&&typeof e=="string"&&(e.match(kv)?.length||0)+(e.match(tL)?.length||0)>0}const BR="number",FR="color",nL="var",iL="var(",AA="${}",sL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lc(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(sL,m=>(Le.test(m)?(s.color.push(l),a.push(FR),n.push(Le.parse(m))):m.startsWith(iL)?(s.var.push(l),a.push(nL),n.push(m)):(s.number.push(l),a.push(BR),n.push(parseFloat(m))),++l,AA)).split(AA);return{values:n,split:d,indexes:s,types:a}}function HR(e){return lc(e).values}function qR(e){const{split:t,types:n}=lc(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===BR?l+=Hu(a[c]):d===FR?l+=Le.transform(a[c]):l+=a[c]}return l}}const rL=e=>typeof e=="number"?0:Le.test(e)?Le.getAnimatableNone(e):e;function aL(e){const t=HR(e);return qR(e)(t.map(rL))}const Br={test:eL,parse:HR,createTransformer:qR,getAnimatableNone:aL};function dg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function oL({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=dg(m,d,e+1/3),l=dg(m,d,e),c=dg(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function sd(e,t){return n=>n>0?t:e}const me=(e,t,n)=>e+(t-e)*n,mg=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},lL=[sy,Va,Go],uL=e=>lL.find(t=>t.test(e));function bA(e){const t=uL(e);if(!t)return!1;let n=t.parse(e);return t===Go&&(n=oL(n)),n}const wA=(e,t)=>{const n=bA(e),s=bA(t);if(!n||!s)return sd(e,t);const a={...n};return l=>(a.red=mg(n.red,s.red,l),a.green=mg(n.green,s.green,l),a.blue=mg(n.blue,s.blue,l),a.alpha=me(n.alpha,s.alpha,l),Va.transform(a))},ry=new Set(["none","hidden"]);function cL(e,t){return ry.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function hL(e,t){return n=>me(e,t,n)}function jv(e){return typeof e=="number"?hL:typeof e=="string"?Lv(e)?sd:Le.test(e)?wA:mL:Array.isArray(e)?GR:typeof e=="object"?Le.test(e)?wA:fL:sd}function GR(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>jv(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function fL(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=jv(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function dL(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],d=e.values[c]??0;n[a]=d,s[l]++}return n}const mL=(e,t)=>{const n=Br.createTransformer(t),s=lc(e),a=lc(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?ry.has(e)&&!a.values.length||ry.has(t)&&!s.values.length?cL(e,t):Rc(GR(dL(s,a),a.values),n):sd(e,t)};function $R(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?me(e,t,n):jv(e)(e,t)}const pL=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>de.update(t,n),stop:()=>zr(t),now:()=>Je.isProcessing?Je.timestamp:An.now()}},KR=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},rd=2e4;function zv(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<rd;)t+=n,s=e.next(t);return t>=rd?1/0:t}function gL(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(zv(s),rd);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:ii(a)}}const yL=5;function YR(e,t,n){const s=Math.max(t-yL,0);return CR(n-e(s),t-s)}const ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pg=.001;function vL({duration:e=ve.duration,bounce:t=ve.bounce,velocity:n=ve.velocity,mass:s=ve.mass}){let a,l,c=1-t;c=Ns(ve.minDamping,ve.maxDamping,c),e=Ns(ve.minDuration,ve.maxDuration,ii(e)),c<1?(a=g=>{const y=g*c,T=y*e,S=y-n,R=ay(g,c),V=Math.exp(-T);return pg-S/R*V},l=g=>{const T=g*c*e,S=T*n+n,R=Math.pow(c,2)*Math.pow(g,2)*e,V=Math.exp(-T),z=ay(Math.pow(g,2),c);return(-a(g)+pg>0?-1:1)*((S-R)*V)/z}):(a=g=>{const y=Math.exp(-g*e),T=(g-n)*e+1;return-pg+y*T},l=g=>{const y=Math.exp(-g*e),T=(n-g)*(e*e);return y*T});const d=5/e,m=TL(a,l,d);if(e=Zi(e),isNaN(m))return{stiffness:ve.stiffness,damping:ve.damping,duration:e};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:e}}}const _L=12;function TL(e,t,n){let s=n;for(let a=1;a<_L;a++)s=s-e(s)/t(s);return s}function ay(e,t){return e*Math.sqrt(1-t*t)}const EL=["duration","bounce"],SL=["stiffness","damping","mass"];function RA(e,t){return t.some(n=>e[n]!==void 0)}function AL(e){let t={velocity:ve.velocity,stiffness:ve.stiffness,damping:ve.damping,mass:ve.mass,isResolvedFromDuration:!1,...e};if(!RA(e,SL)&&RA(e,EL))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ns(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ve.mass,stiffness:a,damping:l}}else{const n=vL(e);t={...t,...n,mass:ve.mass},t.isResolvedFromDuration=!0}return t}function ad(e=ve.visualDuration,t=ve.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:T,velocity:S,isResolvedFromDuration:R}=AL({...n,velocity:-ii(n.velocity||0)}),V=S||0,z=g/(2*Math.sqrt(m*y)),k=c-l,$=ii(Math.sqrt(m/y)),X=Math.abs(k)<5;s||(s=X?ve.restSpeed.granular:ve.restSpeed.default),a||(a=X?ve.restDelta.granular:ve.restDelta.default);let K;if(z<1){const rt=ay($,z);K=lt=>{const C=Math.exp(-z*$*lt);return c-C*((V+z*$*k)/rt*Math.sin(rt*lt)+k*Math.cos(rt*lt))}}else if(z===1)K=rt=>c-Math.exp(-$*rt)*(k+(V+$*k)*rt);else{const rt=$*Math.sqrt(z*z-1);K=lt=>{const C=Math.exp(-z*$*lt),w=Math.min(rt*lt,300);return c-C*((V+z*$*k)*Math.sinh(w)+rt*k*Math.cosh(w))/rt}}const ot={calculatedDuration:R&&T||null,next:rt=>{const lt=K(rt);if(R)d.done=rt>=T;else{let C=rt===0?V:0;z<1&&(C=rt===0?Zi(V):YR(K,rt,lt));const w=Math.abs(C)<=s,I=Math.abs(c-lt)<=a;d.done=w&&I}return d.value=d.done?c:lt,d},toString:()=>{const rt=Math.min(zv(ot),rd),lt=KR(C=>ot.next(rt*C).value,rt,30);return rt+"ms "+lt},toTransition:()=>{}};return ot}ad.applyToOptions=e=>{const t=gL(e,100,ad);return e.ease=t.ease,e.duration=Zi(t.duration),e.type="keyframes",e};function oy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:y}){const T=e[0],S={done:!1,value:T},R=w=>d!==void 0&&w<d||m!==void 0&&w>m,V=w=>d===void 0?m:m===void 0||Math.abs(d-w)<Math.abs(m-w)?d:m;let z=n*t;const k=T+z,$=c===void 0?k:c(k);$!==k&&(z=$-T);const X=w=>-z*Math.exp(-w/s),K=w=>$+X(w),ot=w=>{const I=X(w),O=K(w);S.done=Math.abs(I)<=g,S.value=S.done?$:O};let rt,lt;const C=w=>{R(S.value)&&(rt=w,lt=ad({keyframes:[S.value,V(S.value)],velocity:YR(K,w,S.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return C(0),{calculatedDuration:null,next:w=>{let I=!1;return!lt&&rt===void 0&&(I=!0,ot(w),C(w)),rt!==void 0&&w>=rt?lt.next(w-rt):(!I&&ot(w),S)}}}function bL(e,t,n){const s=[],a=n||Ps.mix||$R,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||si:t;d=Rc(m,d)}s.push(d)}return s}function wL(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(xv(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=bL(t,s,a),m=d.length,g=y=>{if(c&&y<e[0])return t[0];let T=0;if(m>1)for(;T<e.length-2&&!(y<e[T+1]);T++);const S=ac(e[T],e[T+1],y);return d[T](S)};return n?y=>g(Ns(e[0],e[l-1],y)):g}function RL(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=ac(0,t,s);e.push(me(n,1,a))}}function CL(e){const t=[0];return RL(t,e.length-1),t}function IL(e,t){return e.map(n=>n*t)}function DL(e,t){return e.map(()=>t||LR).splice(0,e.length-1)}function qu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=z4(s)?s.map(EA):EA(s),l={done:!1,value:t[0]},c=IL(n&&n.length===t.length?n:CL(t),e),d=wL(c,t,{ease:Array.isArray(a)?a:DL(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const xL=e=>e!==null;function Bv(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(xL),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const VL={decay:oy,inertia:oy,tween:qu,keyframes:qu,spring:ad};function QR(e){typeof e.type=="string"&&(e.type=VL[e.type])}class Fv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const ML=e=>e/100;class Hv extends Fv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;QR(t);const{type:n=qu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=n||qu;m!==qu&&typeof d[0]!="number"&&(this.mixKeyframes=Rc(ML,$R(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=zv(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:T,repeatType:S,repeatDelay:R,type:V,onUpdate:z,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const $=this.currentTime-g*(this.playbackSpeed>=0?1:-1),X=this.playbackSpeed>=0?$<0:$>a;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,ot=s;if(T){const w=Math.min(this.currentTime,a)/d;let I=Math.floor(w),O=w%1;!O&&w>=1&&(O=1),O===1&&I--,I=Math.min(I,T+1),!!(I%2)&&(S==="reverse"?(O=1-O,R&&(O-=R/d)):S==="mirror"&&(ot=c)),K=Ns(0,1,O)*d}const rt=X?{done:!1,value:y[0]}:ot.next(K);l&&(rt.value=l(rt.value));let{done:lt}=rt;!X&&m!==null&&(lt=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&lt);return C&&V!==oy&&(rt.value=Bv(y,this.options,k,this.speed)),z&&z(rt.value),C&&this.finish(),rt}then(t,n){return this.finished.then(t,n)}get duration(){return ii(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ii(t)}get time(){return ii(this.currentTime)}set time(t){t=Zi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(An.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ii(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=pL,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function OL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ma=e=>e*180/Math.PI,ly=e=>{const t=Ma(Math.atan2(e[1],e[0]));return uy(t)},NL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ly,rotateZ:ly,skewX:e=>Ma(Math.atan(e[1])),skewY:e=>Ma(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},uy=e=>(e=e%360,e<0&&(e+=360),e),CA=ly,IA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),DA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),PL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:IA,scaleY:DA,scale:e=>(IA(e)+DA(e))/2,rotateX:e=>uy(Ma(Math.atan2(e[6],e[5]))),rotateY:e=>uy(Ma(Math.atan2(-e[2],e[0]))),rotateZ:CA,rotate:CA,skewX:e=>Ma(Math.atan(e[4])),skewY:e=>Ma(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function cy(e){return e.includes("scale")?1:0}function hy(e,t){if(!e||e==="none")return cy(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=PL,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=NL,a=d}if(!a)return cy(t);const l=s[t],c=a[1].split(",").map(kL);return typeof l=="function"?l(c):c[l]}const LL=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return hy(n,t)};function kL(e){return parseFloat(e.trim())}const vl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_l=new Set(vl),xA=e=>e===yl||e===At,UL=new Set(["x","y","z"]),jL=vl.filter(e=>!UL.has(e));function zL(e){const t=[];return jL.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const La={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>hy(t,"x"),y:(e,{transform:t})=>hy(t,"y")};La.translateX=La.x;La.translateY=La.y;const ka=new Set;let fy=!1,dy=!1,my=!1;function XR(){if(dy){const e=Array.from(ka).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=zL(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}dy=!1,fy=!1,ka.forEach(e=>e.complete(my)),ka.clear()}function WR(){ka.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(dy=!0)})}function BL(){my=!0,WR(),XR(),my=!1}class qv{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ka.add(this),fy||(fy=!0,de.read(WR),de.resolveKeyframes(XR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}OL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ka.delete(this)}cancel(){this.state==="scheduled"&&(ka.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const FL=e=>e.startsWith("--");function HL(e,t,n){FL(t)?e.style.setProperty(t,n):e.style[t]=n}const qL=Vv(()=>window.ScrollTimeline!==void 0),GL={};function $L(e,t){const n=Vv(e);return()=>GL[t]??n()}const ZR=$L(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ou=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,VA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ou([0,.65,.55,1]),circOut:Ou([.55,0,1,.45]),backIn:Ou([.31,.01,.66,-.59]),backOut:Ou([.33,1.53,.69,.99])};function JR(e,t){if(e)return typeof e=="function"?ZR()?KR(e,t):"ease-out":kR(e)?Ou(e):Array.isArray(e)?e.map(n=>JR(n,t)||VA.easeOut):VA[e]}function KL(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const y={[t]:n};m&&(y.offset=m);const T=JR(d,a);Array.isArray(T)&&(y.easing=T);const S={delay:s,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),e.animate(y,S)}function tC(e){return typeof e=="function"&&"applyToOptions"in e}function YL({type:e,...t}){return tC(e)&&ZR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class QL extends Fv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,xv(typeof t.type!="string");const g=YL(t);this.animation=KL(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Bv(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):HL(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ii(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ii(t)}get time(){return ii(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Zi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&qL()?(this.animation.timeline=t,si):n(this)}}const eC={anticipate:OR,backInOut:MR,circInOut:PR};function XL(e){return e in eC}function WL(e){typeof e.ease=="string"&&XL(e.ease)&&(e.ease=eC[e.ease])}const MA=10;class ZL extends QL{constructor(t){WL(t),QR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Hv({...c,autoplay:!1}),m=Zi(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-MA).value,d.sample(m).value,MA),d.stop()}}const OA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Br.test(e)||e==="0")&&!e.startsWith("url("));function JL(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function tk(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=OA(a,t),d=OA(l,t);return!c||!d?!1:JL(e)||(n==="spring"||tC(n))&&s}function py(e){e.duration=0,e.type="keyframes"}const ek=new Set(["opacity","clipPath","filter","transform"]),nk=Vv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ik(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return nk()&&n&&ek.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const sk=40;class rk extends Fv{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=An.now();const S={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:y,...T},R=y?.KeyframeResolver||qv;this.keyframeResolver=new R(d,(V,z,k)=>this.onKeyframesResolved(V,z,S,!k),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:y}=s;this.resolvedAt=An.now(),tk(t,l,c,d)||((Ps.instantAnimations||!m)&&y?.(Bv(t,s,n)),t[0]=t[t.length-1],py(s),s.repeat=0);const S={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>sk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},R=!g&&ik(S)?new ZL({...S,element:S.motionValue.owner.current}):new Hv(S);R.finished.then(()=>this.notifyFinished()).catch(si),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),BL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const ak=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ok(e){const t=ak.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function nC(e,t,n=1){const[s,a]=ok(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return bR(c)?parseFloat(c):c}return Lv(a)?nC(a,t,n+1):a}function Gv(e,t){return e?.[t]??e?.default??e}const iC=new Set(["width","height","top","left","right","bottom",...vl]),lk={test:e=>e==="auto",parse:e=>e},sC=e=>t=>t.test(e),rC=[yl,At,Ji,_r,J4,Z4,lk],NA=e=>rC.find(sC(e));function uk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||RR(e):!0}const ck=new Set(["brightness","contrast","saturate","opacity"]);function hk(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(kv)||[];if(!s)return e;const a=n.replace(s,"");let l=ck.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const fk=/\b([a-z-]*)\(.*?\)/gu,gy={...Br,getAnimatableNone:e=>{const t=e.match(fk);return t?t.map(hk).join(" "):e}},PA={...yl,transform:Math.round},dk={rotate:_r,rotateX:_r,rotateY:_r,rotateZ:_r,scale:vf,scaleX:vf,scaleY:vf,scaleZ:vf,skew:_r,skewX:_r,skewY:_r,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:oc,originX:SA,originY:SA,originZ:At},$v={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At,...dk,zIndex:PA,fillOpacity:oc,strokeOpacity:oc,numOctaves:PA},mk={...$v,color:Le,backgroundColor:Le,outlineColor:Le,fill:Le,stroke:Le,borderColor:Le,borderTopColor:Le,borderRightColor:Le,borderBottomColor:Le,borderLeftColor:Le,filter:gy,WebkitFilter:gy},aC=e=>mk[e];function oC(e,t){let n=aC(e);return n!==gy&&(n=Br),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const pk=new Set(["auto","none","0"]);function gk(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!pk.has(l)&&lc(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=oC(n,a)}class yk extends qv{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),Lv(g))){const y=nC(g,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!iC.has(s)||t.length!==2)return;const[a,l]=t,c=NA(a),d=NA(l);if(c!==d)if(xA(c)&&xA(d))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else La[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||uk(t[a]))&&s.push(a);s.length&&gk(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=La[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=La[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function vk(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const lC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function uC(e){return wR(e)&&"offsetHeight"in e}const LA=30,_k=e=>!isNaN(parseFloat(e));class Tk{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=An.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=An.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_k(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Mv);const s=this.events[t].add(n);return t==="change"?()=>{s(),de.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>LA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,LA);return CR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ll(e,t){return new Tk(e,t)}const{schedule:Kv}=UR(queueMicrotask,!1),vi={x:!1,y:!1};function cC(){return vi.x||vi.y}function Ek(e){return e==="x"||e==="y"?vi[e]?null:(vi[e]=!0,()=>{vi[e]=!1}):vi.x||vi.y?null:(vi.x=vi.y=!0,()=>{vi.x=vi.y=!1})}function hC(e,t){const n=vk(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function kA(e){return!(e.pointerType==="touch"||cC())}function Sk(e,t,n={}){const[s,a,l]=hC(e,n),c=d=>{if(!kA(d))return;const{target:m}=d,g=t(m,d);if(typeof g!="function"||!m)return;const y=T=>{kA(T)&&(g(T),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const fC=(e,t)=>t?e===t?!0:fC(e,t.parentElement):!1,Yv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Ak=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bk(e){return Ak.has(e.tagName)||e.tabIndex!==-1}const Nf=new WeakSet;function UA(e){return t=>{t.key==="Enter"&&e(t)}}function gg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const wk=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=UA(()=>{if(Nf.has(n))return;gg(n,"down");const a=UA(()=>{gg(n,"up")}),l=()=>gg(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function jA(e){return Yv(e)&&!cC()}function Rk(e,t,n={}){const[s,a,l]=hC(e,n),c=d=>{const m=d.currentTarget;if(!jA(d))return;Nf.add(m);const g=t(m,d),y=(R,V)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",S),Nf.has(m)&&Nf.delete(m),jA(R)&&typeof g=="function"&&g(R,{success:V})},T=R=>{y(R,m===window||m===document||n.useGlobalTarget||fC(m,R.target))},S=R=>{y(R,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",S,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),uC(d)&&(d.addEventListener("focus",g=>wk(g,a)),!bk(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function dC(e){return wR(e)&&"ownerSVGElement"in e}function Ck(e){return dC(e)&&e.tagName==="svg"}const ln=e=>!!(e&&e.getVelocity),Ik=[...rC,Le,Br],Dk=e=>Ik.find(sC(e)),Qv=L.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function zA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xk(...e){return t=>{let n=!1;const s=e.map(a=>{const l=zA(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():zA(e[a],null)}}}}function Vk(...e){return L.useCallback(xk(...e),e)}class Mk extends L.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=uC(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ok({children:e,isPresent:t,anchorX:n,root:s}){const a=L.useId(),l=L.useRef(null),c=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=L.useContext(Qv),m=Vk(l,e?.ref);return L.useInsertionEffect(()=>{const{width:g,height:y,top:T,left:S,right:R}=c.current;if(t||!l.current||!g||!y)return;const V=n==="left"?`left: ${S}`:`right: ${R}`;l.current.dataset.motionPopId=a;const z=document.createElement("style");d&&(z.nonce=d);const k=s??document.head;return k.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${V}px !important;
            top: ${T}px !important;
          }
        `),()=>{k.contains(z)&&k.removeChild(z)}},[t]),at.jsx(Mk,{isPresent:t,childRef:l,sizeRef:c,children:L.cloneElement(e,{ref:m})})}const Nk=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:m})=>{const g=Rv(Pk),y=L.useId();let T=!0,S=L.useMemo(()=>(T=!1,{id:y,initial:t,isPresent:n,custom:a,onExitComplete:R=>{g.set(R,!0);for(const V of g.values())if(!V)return;s&&s()},register:R=>(g.set(R,!1),()=>g.delete(R))}),[n,g,s]);return l&&T&&(S={...S}),L.useMemo(()=>{g.forEach((R,V)=>g.set(V,!1))},[n]),L.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),c==="popLayout"&&(e=at.jsx(Ok,{isPresent:n,anchorX:d,root:m,children:e})),at.jsx(Pd.Provider,{value:S,children:e})};function Pk(){return new Map}function mC(e=!0){const t=L.useContext(Pd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=L.useId();L.useEffect(()=>{if(e)return a(l)},[e]);const c=L.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const _f=e=>e.key||"";function BA(e){const t=[];return L.Children.forEach(e,n=>{L.isValidElement(n)&&t.push(n)}),t}const Xv=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:m})=>{const[g,y]=mC(c),T=L.useMemo(()=>BA(e),[e]),S=c&&!g?[]:T.map(_f),R=L.useRef(!0),V=L.useRef(T),z=Rv(()=>new Map),[k,$]=L.useState(T),[X,K]=L.useState(T);AR(()=>{R.current=!1,V.current=T;for(let lt=0;lt<X.length;lt++){const C=_f(X[lt]);S.includes(C)?z.delete(C):z.get(C)!==!0&&z.set(C,!1)}},[X,S.length,S.join("-")]);const ot=[];if(T!==k){let lt=[...T];for(let C=0;C<X.length;C++){const w=X[C],I=_f(w);S.includes(I)||(lt.splice(C,0,w),ot.push(w))}return l==="wait"&&ot.length&&(lt=ot),K(BA(lt)),$(T),null}const{forceRender:rt}=L.useContext(wv);return at.jsx(at.Fragment,{children:X.map(lt=>{const C=_f(lt),w=c&&!g?!1:T===X||S.includes(C),I=()=>{if(z.has(C))z.set(C,!0);else return;let O=!0;z.forEach(M=>{M||(O=!1)}),O&&(rt?.(),K(V.current),c&&y?.(),s&&s())};return at.jsx(Nk,{isPresent:w,initial:!R.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:w?void 0:I,anchorX:d,children:lt},C)})})},pC=L.createContext({strict:!1}),FA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ul={};for(const e in FA)ul[e]={isEnabled:t=>FA[e].some(n=>!!t[n])};function Lk(e){for(const t in e)ul[t]={...ul[t],...e[t]}}const kk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function od(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||kk.has(e)}let gC=e=>!od(e);function Uk(e){typeof e=="function"&&(gC=t=>t.startsWith("on")?!od(t):e(t))}try{Uk(require("@emotion/is-prop-valid").default)}catch{}function jk(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(gC(a)||n===!0&&od(a)||!t&&!od(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const Ld=L.createContext({});function kd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function uc(e){return typeof e=="string"||Array.isArray(e)}const Wv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zv=["initial",...Wv];function Ud(e){return kd(e.animate)||Zv.some(t=>uc(e[t]))}function yC(e){return!!(Ud(e)||e.variants)}function zk(e,t){if(Ud(e)){const{initial:n,animate:s}=e;return{initial:n===!1||uc(n)?n:void 0,animate:uc(s)?s:void 0}}return e.inherit!==!1?t:{}}function Bk(e){const{initial:t,animate:n}=zk(e,L.useContext(Ld));return L.useMemo(()=>({initial:t,animate:n}),[HA(t),HA(n)])}function HA(e){return Array.isArray(e)?e.join(" "):e}const cc={};function Fk(e){for(const t in e)cc[t]=e[t],Pv(t)&&(cc[t].isCSSVariable=!0)}function vC(e,{layout:t,layoutId:n}){return _l.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!cc[e]||e==="opacity")}const Hk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qk=vl.length;function Gk(e,t,n){let s="",a=!0;for(let l=0;l<qk;l++){const c=vl[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const g=lC(d,$v[c]);if(!m){a=!1;const y=Hk[c]||c;s+=`${y}(${g}) `}n&&(t[c]=g)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function Jv(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const g=t[m];if(_l.has(m)){c=!0;continue}else if(Pv(m)){a[m]=g;continue}else{const y=lC(g,$v[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(t.transform||(c||n?s.transform=Gk(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${g} ${y}`}}const t_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _C(e,t,n){for(const s in t)!ln(t[s])&&!vC(s,n)&&(e[s]=t[s])}function $k({transformTemplate:e},t){return L.useMemo(()=>{const n=t_();return Jv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Kk(e,t){const n=e.style||{},s={};return _C(s,n,e),Object.assign(s,$k(e,t)),s}function Yk(e,t){const n={},s=Kk(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Qk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Xk={offset:"strokeDashoffset",array:"strokeDasharray"};function Wk(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?Qk:Xk;e[l.offset]=At.transform(-s);const c=At.transform(t),d=At.transform(n);e[l.array]=`${c} ${d}`}function TC(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,g,y){if(Jv(e,d,g),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:T,style:S}=e;T.transform&&(S.transform=T.transform,delete T.transform),(S.transform||T.transformOrigin)&&(S.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),S.transform&&(S.transformBox=y?.transformBox??"fill-box",delete T.transformBox),t!==void 0&&(T.x=t),n!==void 0&&(T.y=n),s!==void 0&&(T.scale=s),a!==void 0&&Wk(T,a,l,c,!1)}const EC=()=>({...t_(),attrs:{}}),SC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Zk(e,t,n,s){const a=L.useMemo(()=>{const l=EC();return TC(l,t,SC(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};_C(l,e.style,e),a.style={...l,...a.style}}return a}const Jk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function e_(e){return typeof e!="string"||e.includes("-")?!1:!!(Jk.indexOf(e)>-1||/[A-Z]/u.test(e))}function t3(e,t,n,{latestValues:s},a,l=!1){const d=(e_(e)?Zk:Yk)(t,s,a,e),m=jk(t,typeof e=="string",l),g=e!==L.Fragment?{...m,...d,ref:n}:{},{children:y}=t,T=L.useMemo(()=>ln(y)?y.get():y,[y]);return L.createElement(e,{...g,children:T})}function qA(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function n_(e,t,n,s){if(typeof t=="function"){const[a,l]=qA(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=qA(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function Pf(e){return ln(e)?e.get():e}function e3({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:n3(n,s,a,e),renderState:t()}}function n3(e,t,n,s){const a={},l=s(e,{});for(const S in l)a[S]=Pf(l[S]);let{initial:c,animate:d}=e;const m=Ud(e),g=yC(e);t&&g&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const T=y?d:c;if(T&&typeof T!="boolean"&&!kd(T)){const S=Array.isArray(T)?T:[T];for(let R=0;R<S.length;R++){const V=n_(e,S[R]);if(V){const{transitionEnd:z,transition:k,...$}=V;for(const X in $){let K=$[X];if(Array.isArray(K)){const ot=y?K.length-1:0;K=K[ot]}K!==null&&(a[X]=K)}for(const X in z)a[X]=z[X]}}}return a}const AC=e=>(t,n)=>{const s=L.useContext(Ld),a=L.useContext(Pd),l=()=>e3(e,t,s,a);return n?l():Rv(l)};function i_(e,t,n){const{style:s}=e,a={};for(const l in s)(ln(s[l])||t.style&&ln(t.style[l])||vC(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const i3=AC({scrapeMotionValuesFromProps:i_,createRenderState:t_});function bC(e,t,n){const s=i_(e,t,n);for(const a in e)if(ln(e[a])||ln(t[a])){const l=vl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}const s3=AC({scrapeMotionValuesFromProps:bC,createRenderState:EC}),r3=Symbol.for("motionComponentSymbol");function $o(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function a3(e,t,n){return L.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):$o(n)&&(n.current=s))},[t])}const s_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),o3="framerAppearId",wC="data-"+s_(o3),RC=L.createContext({});function l3(e,t,n,s,a){const{visualElement:l}=L.useContext(Ld),c=L.useContext(pC),d=L.useContext(Pd),m=L.useContext(Qv).reducedMotion,g=L.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,T=L.useContext(RC);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&u3(g.current,n,a,T);const S=L.useRef(!1);L.useInsertionEffect(()=>{y&&S.current&&y.update(n,d)});const R=n[wC],V=L.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return AR(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),V.current&&y.animationState&&y.animationState.animateChanges())}),L.useEffect(()=>{y&&(!V.current&&y.animationState&&y.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),V.current=!1),y.enteringChildren=void 0)}),y}function u3(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:CC(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&$o(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:g})}function CC(e){if(e)return e.options.allowProjection!==!1?e.projection:CC(e.parent)}function yg(e,{forwardMotionProps:t=!1}={},n,s){n&&Lk(n);const a=e_(e)?s3:i3;function l(d,m){let g;const y={...L.useContext(Qv),...d,layoutId:c3(d)},{isStatic:T}=y,S=Bk(d),R=a(d,T);if(!T&&Cv){h3();const V=f3(y);g=V.MeasureLayout,S.visualElement=l3(e,R,y,s,V.ProjectionNode)}return at.jsxs(Ld.Provider,{value:S,children:[g&&S.visualElement?at.jsx(g,{visualElement:S.visualElement,...y}):null,t3(e,d,a3(R,S.visualElement,m),R,T,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=L.forwardRef(l);return c[r3]=e,c}function c3({layoutId:e}){const t=L.useContext(wv).id;return t&&e!==void 0?t+"-"+e:e}function h3(e,t){L.useContext(pC).strict}function f3(e){const{drag:t,layout:n}=ul;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function d3(e,t){if(typeof Proxy>"u")return yg;const n=new Map,s=(l,c)=>yg(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,yg(c,void 0,e,t)),n.get(c))})}function IC({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function m3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function p3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function vg(e){return e===void 0||e===1}function yy({scale:e,scaleX:t,scaleY:n}){return!vg(e)||!vg(t)||!vg(n)}function Ca(e){return yy(e)||DC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function DC(e){return GA(e.x)||GA(e.y)}function GA(e){return e&&e!=="0%"}function ld(e,t,n){const s=e-n,a=t*s;return n+a}function $A(e,t,n,s,a){return a!==void 0&&(e=ld(e,a,s)),ld(e,n,s)+t}function vy(e,t=0,n=1,s,a){e.min=$A(e.min,t,n,s,a),e.max=$A(e.max,t,n,s,a)}function xC(e,{x:t,y:n}){vy(e.x,t.translate,t.scale,t.originPoint),vy(e.y,n.translate,n.scale,n.originPoint)}const KA=.999999999999,YA=1.0000000000001;function g3(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Yo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,xC(e,c)),s&&Ca(l.latestValues)&&Yo(e,l.latestValues))}t.x<YA&&t.x>KA&&(t.x=1),t.y<YA&&t.y>KA&&(t.y=1)}function Ko(e,t){e.min=e.min+t,e.max=e.max+t}function QA(e,t,n,s,a=.5){const l=me(e.min,e.max,a);vy(e,t,n,l,s)}function Yo(e,t){QA(e.x,t.x,t.scaleX,t.scale,t.originX),QA(e.y,t.y,t.scaleY,t.scale,t.originY)}function VC(e,t){return IC(p3(e.getBoundingClientRect(),t))}function y3(e,t,n){const s=VC(e,n),{scroll:a}=t;return a&&(Ko(s.x,a.offset.x),Ko(s.y,a.offset.y)),s}const XA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qo=()=>({x:XA(),y:XA()}),WA=()=>({min:0,max:0}),Ae=()=>({x:WA(),y:WA()}),_y={current:null},MC={current:!1};function v3(){if(MC.current=!0,!!Cv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>_y.current=e.matches;e.addEventListener("change",t),t()}else _y.current=!1}const _3=new WeakMap;function T3(e,t,n){for(const s in t){const a=t[s],l=n[s];if(ln(a))e.addValue(s,a);else if(ln(l))e.addValue(s,ll(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,ll(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const ZA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class E3{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=An.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,de.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Ud(n),this.isVariantNode=yC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in T){const R=T[S];m[S]!==void 0&&ln(R)&&R.set(m[S])}}mount(t){this.current=t,_3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),MC.current||v3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_y.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=_l.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&de.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ul){const n=ul[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ae()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ZA.length;s++){const a=ZA[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=T3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=ll(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(bR(s)||RR(s))?s=parseFloat(s):!Dk(s)&&Br.test(n)&&(s=oC(t,n)),this.setBaseTarget(t,ln(s)?s.get():s)),ln(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=n_(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ln(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Mv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Kv.render(this.render)}}class OC extends E3{constructor(){super(...arguments),this.KeyframeResolver=yk}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ln(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function NC(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function S3(e){return window.getComputedStyle(e)}class A3 extends OC{constructor(){super(...arguments),this.type="html",this.renderInstance=NC}readValueFromInstance(t,n){if(_l.has(n))return this.projection?.isProjecting?cy(n):LL(t,n);{const s=S3(t),a=(Pv(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return VC(t,n)}build(t,n,s){Jv(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return i_(t,n,s)}}const PC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function b3(e,t,n,s){NC(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(PC.has(a)?a:s_(a),t.attrs[a])}class w3 extends OC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ae}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(_l.has(n)){const s=aC(n);return s&&s.default||0}return n=PC.has(n)?n:s_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return bC(t,n,s)}build(t,n,s){TC(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){b3(t,n,s,a)}mount(t){this.isSVGTag=SC(t.tagName),super.mount(t)}}const R3=(e,t)=>e_(e)?new w3(t):new A3(t,{allowProjection:e!==L.Fragment});function tl(e,t,n){const s=e.getProps();return n_(s,t,n!==void 0?n:s.custom,e)}const Ty=e=>Array.isArray(e);function C3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ll(n))}function I3(e){return Ty(e)?e[e.length-1]||0:e}function D3(e,t){const n=tl(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=I3(l[c]);C3(e,c,d)}}function x3(e){return!!(ln(e)&&e.add)}function Ey(e,t){const n=e.getValue("willChange");if(x3(n))return n.add(t);if(!n&&Ps.WillChange){const s=new Ps.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function LC(e){return e.props[wC]}const V3=e=>e!==null;function M3(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(V3),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const O3={type:"spring",stiffness:500,damping:25,restSpeed:10},N3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),P3={type:"keyframes",duration:.8},L3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},k3=(e,{keyframes:t})=>t.length>2?P3:_l.has(e)?e.startsWith("scale")?N3(t[1]):O3:L3;function U3({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const r_=(e,t,n,s={},a,l)=>c=>{const d=Gv(s,e)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Zi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};U3(d)||Object.assign(y,k3(e,y)),y.duration&&(y.duration=Zi(y.duration)),y.repeatDelay&&(y.repeatDelay=Zi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(py(y),y.delay===0&&(T=!0)),(Ps.instantAnimations||Ps.skipAnimations)&&(T=!0,py(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,T&&!l&&t.get()!==void 0){const S=M3(y.keyframes,d);if(S!==void 0){de.update(()=>{y.onUpdate(S),y.onComplete()});return}}return d.isSync?new Hv(y):new rk(y)};function j3({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function kC(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const m=[],g=a&&e.animationState&&e.animationState.getState()[a];for(const y in d){const T=e.getValue(y,e.latestValues[y]??null),S=d[y];if(S===void 0||g&&j3(g,y))continue;const R={delay:n,...Gv(l||{},y)},V=T.get();if(V!==void 0&&!T.isAnimating&&!Array.isArray(S)&&S===V&&!R.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const $=LC(e);if($){const X=window.MotionHandoffAnimation($,y,de);X!==null&&(R.startTime=X,z=!0)}}Ey(e,y),T.start(r_(y,T,S,e.shouldReduceMotion&&iC.has(y)?{type:!1}:R,e,z));const k=T.animation;k&&m.push(k)}return c&&Promise.all(m).then(()=>{de.update(()=>{c&&D3(e,c)})}),m}function UC(e,t,n,s=0,a=1){const l=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function Sy(e,t,n={}){const s=tl(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(kC(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:T}=a;return z3(e,t,m,g,y,T,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,g]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function z3(e,t,n=0,s=0,a=0,l=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(Sy(m,t,{...c,delay:n+(typeof s=="function"?0:s)+UC(e.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function B3(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Sy(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=Sy(e,t,n);else{const a=typeof t=="function"?tl(e,t,n.custom):t;s=Promise.all(kC(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function jC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const F3=Zv.length;function zC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?zC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<F3;n++){const s=Zv[n],a=e.props[s];(uc(a)||a===!1)&&(t[s]=a)}return t}const H3=[...Wv].reverse(),q3=Wv.length;function G3(e){return t=>Promise.all(t.map(({animation:n,options:s})=>B3(e,n,s)))}function $3(e){let t=G3(e),n=JA(),s=!0;const a=m=>(g,y)=>{const T=tl(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(T){const{transition:S,transitionEnd:R,...V}=T;g={...g,...V,...R}}return g};function l(m){t=m(e)}function c(m){const{props:g}=e,y=zC(e.parent)||{},T=[],S=new Set;let R={},V=1/0;for(let k=0;k<q3;k++){const $=H3[k],X=n[$],K=g[$]!==void 0?g[$]:y[$],ot=uc(K),rt=$===m?X.isActive:null;rt===!1&&(V=k);let lt=K===y[$]&&K!==g[$]&&ot;if(lt&&s&&e.manuallyAnimateOnMount&&(lt=!1),X.protectedKeys={...R},!X.isActive&&rt===null||!K&&!X.prevProp||kd(K)||typeof K=="boolean")continue;const C=K3(X.prevProp,K);let w=C||$===m&&X.isActive&&!lt&&ot||k>V&&ot,I=!1;const O=Array.isArray(K)?K:[K];let M=O.reduce(a($),{});rt===!1&&(M={});const{prevResolvedValues:U={}}=X,D={...U,...M},Bt=st=>{w=!0,S.has(st)&&(I=!0,S.delete(st)),X.needsAnimating[st]=!0;const ct=e.getValue(st);ct&&(ct.liveStyle=!1)};for(const st in D){const ct=M[st],St=U[st];if(R.hasOwnProperty(st))continue;let Vt=!1;Ty(ct)&&Ty(St)?Vt=!jC(ct,St):Vt=ct!==St,Vt?ct!=null?Bt(st):S.add(st):ct!==void 0&&S.has(st)?Bt(st):X.protectedKeys[st]=!0}X.prevProp=K,X.prevResolvedValues=M,X.isActive&&(R={...R,...M}),s&&e.blockInitialAnimation&&(w=!1);const Jt=lt&&C;w&&(!Jt||I)&&T.push(...O.map(st=>{const ct={type:$};if(typeof st=="string"&&s&&!Jt&&e.manuallyAnimateOnMount&&e.parent){const{parent:St}=e,Vt=tl(St,st);if(St.enteringChildren&&Vt){const{delayChildren:N}=Vt.transition||{};ct.delay=UC(St.enteringChildren,e,N)}}return{animation:st,options:ct}}))}if(S.size){const k={};if(typeof g.initial!="boolean"){const $=tl(e,Array.isArray(g.initial)?g.initial[0]:g.initial);$&&$.transition&&(k.transition=$.transition)}S.forEach($=>{const X=e.getBaseTarget($),K=e.getValue($);K&&(K.liveStyle=!0),k[$]=X??null}),T.push({animation:k})}let z=!!T.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(z=!1),s=!1,z?t(T):Promise.resolve()}function d(m,g){if(n[m].isActive===g)return Promise.resolve();e.variantChildren?.forEach(T=>T.animationState?.setActive(m,g)),n[m].isActive=g;const y=c(m);for(const T in n)n[T].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=JA()}}}function K3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!jC(t,e):!1}function wa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JA(){return{animate:wa(!0),whileInView:wa(),whileHover:wa(),whileTap:wa(),whileDrag:wa(),whileFocus:wa(),exit:wa()}}class $r{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Y3 extends $r{constructor(t){super(t),t.animationState||(t.animationState=$3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();kd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Q3=0;class X3 extends $r{constructor(){super(...arguments),this.id=Q3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const W3={animation:{Feature:Y3},exit:{Feature:X3}};function hc(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Dc(e){return{point:{x:e.pageX,y:e.pageY}}}const Z3=e=>t=>Yv(t)&&e(t,Dc(t));function Gu(e,t,n,s){return hc(e,t,Z3(n),s)}const BC=1e-4,J3=1-BC,t6=1+BC,FC=.01,e6=0-FC,n6=0+FC;function dn(e){return e.max-e.min}function i6(e,t,n){return Math.abs(e-t)<=n}function tb(e,t,n,s=.5){e.origin=s,e.originPoint=me(t.min,t.max,e.origin),e.scale=dn(n)/dn(t),e.translate=me(n.min,n.max,e.origin)-e.originPoint,(e.scale>=J3&&e.scale<=t6||isNaN(e.scale))&&(e.scale=1),(e.translate>=e6&&e.translate<=n6||isNaN(e.translate))&&(e.translate=0)}function $u(e,t,n,s){tb(e.x,t.x,n.x,s?s.originX:void 0),tb(e.y,t.y,n.y,s?s.originY:void 0)}function eb(e,t,n){e.min=n.min+t.min,e.max=e.min+dn(t)}function s6(e,t,n){eb(e.x,t.x,n.x),eb(e.y,t.y,n.y)}function nb(e,t,n){e.min=t.min-n.min,e.max=e.min+dn(t)}function Ku(e,t,n){nb(e.x,t.x,n.x),nb(e.y,t.y,n.y)}function ti(e){return[e("x"),e("y")]}const HC=({current:e})=>e?e.ownerDocument.defaultView:null,ib=(e,t)=>Math.abs(e-t);function r6(e,t){const n=ib(e.x,t.x),s=ib(e.y,t.y);return Math.sqrt(n**2+s**2)}class qC{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Tg(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,V=r6(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!V)return;const{point:z}=S,{timestamp:k}=Je;this.history.push({...z,timestamp:k});const{onStart:$,onMove:X}=this.handlers;R||($&&$(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),X&&X(this.lastMoveEvent,S)},this.handlePointerMove=(S,R)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=_g(R,this.transformPagePoint),de.update(this.updatePoint,!0)},this.handlePointerUp=(S,R)=>{this.end();const{onEnd:V,onSessionEnd:z,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=Tg(S.type==="pointercancel"?this.lastMoveEventInfo:_g(R,this.transformPagePoint),this.history);this.startEvent&&V&&V(S,$),z&&z(S,$)},!Yv(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=Dc(t),m=_g(d,this.transformPagePoint),{point:g}=m,{timestamp:y}=Je;this.history=[{...g,timestamp:y}];const{onSessionStart:T}=n;T&&T(t,Tg(m,this.history)),this.removeListeners=Rc(Gu(this.contextWindow,"pointermove",this.handlePointerMove),Gu(this.contextWindow,"pointerup",this.handlePointerUp),Gu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function _g(e,t){return t?{point:t(e.point)}:e}function sb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Tg({point:e},t){return{point:e,delta:sb(e,GC(t)),offset:sb(e,a6(t)),velocity:o6(t,.1)}}function a6(e){return e[0]}function GC(e){return e[e.length-1]}function o6(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=GC(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>Zi(t)));)n--;if(!s)return{x:0,y:0};const l=ii(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function l6(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?me(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?me(n,e,s.max):Math.min(e,n)),e}function rb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function u6(e,{top:t,left:n,bottom:s,right:a}){return{x:rb(e.x,n,a),y:rb(e.y,t,s)}}function ab(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function c6(e,t){return{x:ab(e.x,t.x),y:ab(e.y,t.y)}}function h6(e,t){let n=.5;const s=dn(e),a=dn(t);return a>s?n=ac(t.min,t.max-s,e.min):s>a&&(n=ac(e.min,e.max-a,t.min)),Ns(0,1,n)}function f6(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ay=.35;function d6(e=Ay){return e===!1?e=0:e===!0&&(e=Ay),{x:ob(e,"left","right"),y:ob(e,"top","bottom")}}function ob(e,t,n){return{min:lb(e,t),max:lb(e,n)}}function lb(e,t){return typeof e=="number"?e:e[t]||0}const m6=new WeakMap;class p6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ae(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Dc(T).point)},c=(T,S)=>{const{drag:R,dragPropagation:V,onDragStart:z}=this.getProps();if(R&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ek(R),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ti($=>{let X=this.getAxisMotionValue($).get()||0;if(Ji.test(X)){const{projection:K}=this.visualElement;if(K&&K.layout){const ot=K.layout.layoutBox[$];ot&&(X=dn(ot)*(parseFloat(X)/100))}}this.originPoint[$]=X}),z&&de.postRender(()=>z(T,S)),Ey(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S;const{dragPropagation:R,dragDirectionLock:V,onDirectionLock:z,onDrag:k}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:$}=S;if(V&&this.currentDirection===null){this.currentDirection=g6($),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",S.point,$),this.updateAxis("y",S.point,$),this.visualElement.render(),k&&k(T,S)},m=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S,this.stop(T,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ti(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new qC(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:HC(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&de.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Tf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=l6(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&$o(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=u6(s.layoutBox,t):this.constraints=!1,this.elastic=d6(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ti(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=f6(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!$o(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=y3(s,a.root,this.visualElement.getTransformPagePoint());let c=c6(a.layout.layoutBox,l);if(n){const d=n(m3(c));this.hasMutatedConstraints=!!d,d&&(c=IC(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=ti(y=>{if(!Tf(y,n,this.currentDirection))return;let T=m&&m[y]||{};c&&(T={min:0,max:0});const S=a?200:1e6,R=a?40:1e7,V={type:"inertia",velocity:s?t[y]:0,bounceStiffness:S,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,V)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Ey(this.visualElement,t),s.start(r_(t,s,0,n,this.visualElement,!1))}stopAnimation(){ti(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ti(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ti(n=>{const{drag:s}=this.getProps();if(!Tf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(t[n]-me(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!$o(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ti(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=h6({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ti(c=>{if(!Tf(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(me(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;m6.set(this.visualElement,this);const t=this.visualElement.current,n=Gu(t,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();$o(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),de.read(s);const c=hc(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ti(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=m[y].translate,T.set(T.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Ay,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Tf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function g6(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class y6 extends $r{constructor(t){super(t),this.removeGroupControls=si,this.removeListeners=si,this.controls=new p6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||si}unmount(){this.removeGroupControls(),this.removeListeners()}}const ub=e=>(t,n)=>{e&&de.postRender(()=>e(t,n))};class v6 extends $r{constructor(){super(...arguments),this.removePointerDownListener=si}onPointerDown(t){this.session=new qC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:HC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:ub(t),onStart:ub(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&de.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Gu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ru={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(At.test(e))e=parseFloat(e);else return e;const n=cb(e,t.target.x),s=cb(e,t.target.y);return`${n}% ${s}%`}},_6={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=Br.parse(e);if(a.length>5)return s;const l=Br.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const g=me(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};let Eg=!1;class T6 extends L.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;Fk(E6),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Eg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Lf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Eg=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||de.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Kv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;Eg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $C(e){const[t,n]=mC(),s=L.useContext(wv);return at.jsx(T6,{...e,layoutGroup:s,switchLayoutGroup:L.useContext(RC),isPresent:t,safeToRemove:n})}const E6={borderRadius:{...Ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ru,borderTopRightRadius:Ru,borderBottomLeftRadius:Ru,borderBottomRightRadius:Ru,boxShadow:_6};function S6(e,t,n){const s=ln(e)?e:ll(e);return s.start(r_("",s,t,n)),s.animation}const A6=(e,t)=>e.depth-t.depth;class b6{constructor(){this.children=[],this.isDirty=!1}add(t){Iv(this.children,t),this.isDirty=!0}remove(t){Dv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(A6),this.isDirty=!1,this.children.forEach(t)}}function w6(e,t){const n=An.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(zr(s),e(l-t))};return de.setup(s,!0),()=>zr(s)}const KC=["TopLeft","TopRight","BottomLeft","BottomRight"],R6=KC.length,hb=e=>typeof e=="string"?parseFloat(e):e,fb=e=>typeof e=="number"||At.test(e);function C6(e,t,n,s,a,l){a?(e.opacity=me(0,n.opacity??1,I6(s)),e.opacityExit=me(t.opacity??1,0,D6(s))):l&&(e.opacity=me(t.opacity??1,n.opacity??1,s));for(let c=0;c<R6;c++){const d=`border${KC[c]}Radius`;let m=db(t,d),g=db(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||fb(m)===fb(g)?(e[d]=Math.max(me(hb(m),hb(g),s),0),(Ji.test(g)||Ji.test(m))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=me(t.rotate||0,n.rotate||0,s))}function db(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const I6=YC(0,.5,NR),D6=YC(.5,.95,si);function YC(e,t,n){return s=>s<e?0:s>t?1:n(ac(e,t,s))}function mb(e,t){e.min=t.min,e.max=t.max}function Zn(e,t){mb(e.x,t.x),mb(e.y,t.y)}function pb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function gb(e,t,n,s,a){return e-=t,e=ld(e,1/n,s),a!==void 0&&(e=ld(e,1/a,s)),e}function x6(e,t=0,n=1,s=.5,a,l=e,c=e){if(Ji.test(t)&&(t=parseFloat(t),t=me(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=me(l.min,l.max,s);e===l&&(d-=t),e.min=gb(e.min,t,n,d,a),e.max=gb(e.max,t,n,d,a)}function yb(e,t,[n,s,a],l,c){x6(e,t[n],t[s],t[a],t.scale,l,c)}const V6=["x","scaleX","originX"],M6=["y","scaleY","originY"];function vb(e,t,n,s){yb(e.x,t,V6,n?n.x:void 0,s?s.x:void 0),yb(e.y,t,M6,n?n.y:void 0,s?s.y:void 0)}function _b(e){return e.translate===0&&e.scale===1}function QC(e){return _b(e.x)&&_b(e.y)}function Tb(e,t){return e.min===t.min&&e.max===t.max}function O6(e,t){return Tb(e.x,t.x)&&Tb(e.y,t.y)}function Eb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function XC(e,t){return Eb(e.x,t.x)&&Eb(e.y,t.y)}function Sb(e){return dn(e.x)/dn(e.y)}function Ab(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class N6{constructor(){this.members=[]}add(t){Iv(this.members,t),t.scheduleRender()}remove(t){if(Dv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function P6(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:T,rotateY:S,skewX:R,skewY:V}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),T&&(s+=`rotateX(${T}deg) `),S&&(s+=`rotateY(${S}deg) `),R&&(s+=`skewX(${R}deg) `),V&&(s+=`skewY(${V}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const Sg=["","X","Y","Z"],L6=1e3;let k6=0;function Ag(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function WC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=LC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",de,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&WC(s)}function ZC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=k6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(z6),this.nodes.forEach(q6),this.nodes.forEach(G6),this.nodes.forEach(B6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new b6)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Mv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=dC(c)&&!Ck(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,T=0;const S=()=>this.root.updateBlockedByResize=!1;de.read(()=>{T=window.innerWidth}),e(c,()=>{const R=window.innerWidth;R!==T&&(T=R,this.root.updateBlockedByResize=!0,y&&y(),y=w6(S,250),Lf.hasAnimatedSinceResize&&(Lf.hasAnimatedSinceResize=!1,this.nodes.forEach(Rb)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:S,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||g.getDefaultTransition()||X6,{onLayoutAnimationStart:z,onLayoutAnimationComplete:k}=g.getProps(),$=!this.targetLayout||!XC(this.targetLayout,R),X=!T&&S;if(this.options.layoutRoot||this.resumeFrom||X||T&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...Gv(V,"layout"),onPlay:z,onComplete:k};(g.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(y,X)}else T||Rb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($6),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(wb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(H6),this.nodes.forEach(U6),this.nodes.forEach(j6)):this.nodes.forEach(wb),this.clearAllSnapshots();const d=An.now();Je.delta=Ns(0,1e3/60,d-Je.timestamp),Je.timestamp=d,Je.isProcessing=!0,hg.update.process(Je),hg.preRender.process(Je),hg.render.process(Je),Je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Kv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(F6),this.sharedNodes.forEach(K6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,de.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){de.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dn(this.snapshot.measuredBox.x)&&!dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ae(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!QC(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||Ca(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),W6(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ae();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Z6))){const{scroll:g}=this.root;g&&(Ko(d.x,g.offset.x),Ko(d.y,g.offset.y))}return d}removeElementScroll(c){const d=Ae();if(Zn(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:T}=g;g!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&Zn(d,c),Ko(d.x,y.offset.x),Ko(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=Ae();Zn(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Yo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ca(y.latestValues)&&Yo(m,y.latestValues)}return Ca(this.latestValues)&&Yo(m,this.latestValues),m}removeTransform(c){const d=Ae();Zn(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Ca(g.latestValues))continue;yy(g.latestValues)&&g.updateSnapshot();const y=Ae(),T=g.measurePageBox();Zn(y,T),vb(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return Ca(this.latestValues)&&vb(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!(!this.layout||!(y||T))){if(this.resolvedRelativeTargetAt=Je.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ae(),this.relativeTargetOrigin=Ae(),Ku(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ae(),this.targetWithTransforms=Ae()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),xC(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ae(),this.relativeTargetOrigin=Ae(),Ku(this.relativeTargetOrigin,this.target,S.target),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yy(this.parent.latestValues)||DC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Je.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Zn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,S=this.treeScale.y;g3(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ae());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pb(this.prevProjectionDelta.x,this.projectionDelta.x),pb(this.prevProjectionDelta.y,this.projectionDelta.y)),$u(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==S||!Ab(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ab(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qo(),this.projectionDelta=Qo(),this.projectionDeltaWithTransform=Qo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},T=Qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=Ae(),R=m?m.source:void 0,V=this.layout?this.layout.source:void 0,z=R!==V,k=this.getStack(),$=!k||k.members.length<=1,X=!!(z&&!$&&this.options.crossfade===!0&&!this.path.some(Q6));this.animationProgress=0;let K;this.mixTargetDelta=ot=>{const rt=ot/1e3;Cb(T.x,c.x,rt),Cb(T.y,c.y,rt),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ku(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Y6(this.relativeTarget,this.relativeTargetOrigin,S,rt),K&&O6(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=Ae()),Zn(K,this.relativeTarget)),z&&(this.animationValues=y,C6(y,g,this.latestValues,rt,X,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=de.update(()=>{Lf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ll(0)),this.currentAnimation=S6(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(L6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:y}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&JC(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Ae();const T=dn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const S=dn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+S}Zn(d,m),Yo(d,y),$u(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new N6),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&Ag("z",c,g,this.animationValues);for(let y=0;y<Sg.length;y++)Ag(`rotate${Sg[y]}`,c,g,this.animationValues),Ag(`skew${Sg[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Pf(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Pf(d?.pointerEvents)||""),this.hasProjected&&!Ca(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=P6(this.projectionDeltaWithTransform,this.treeScale,y);m&&(T=m(y,T)),c.transform=T;const{x:S,y:R}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${R.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const V in cc){if(y[V]===void 0)continue;const{correct:z,applyTo:k,isCSSVariable:$}=cc[V],X=T==="none"?y[V]:z(y[V],g);if(k){const K=k.length;for(let ot=0;ot<K;ot++)c[k[ot]]=X}else $?this.options.visualElement.renderState.vars[V]=X:c[V]=X}this.options.layoutId&&(c.pointerEvents=g===this?Pf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(bb),this.root.sharedNodes.clear()}}}function U6(e){e.updateLayout()}function j6(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?ti(y=>{const T=l?t.measuredBox[y]:t.layoutBox[y],S=dn(T);T.min=n[y].min,T.max=T.min+S}):JC(a,t.layoutBox,n)&&ti(y=>{const T=l?t.measuredBox[y]:t.layoutBox[y],S=dn(n[y]);T.max=T.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+S)});const c=Qo();$u(c,n,t.layoutBox);const d=Qo();l?$u(d,e.applyTransform(s,!0),t.measuredBox):$u(d,n,t.layoutBox);const m=!QC(c);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:S}=y;if(T&&S){const R=Ae();Ku(R,t.layoutBox,T.layoutBox);const V=Ae();Ku(V,n,S.layoutBox),XC(R,V)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=V,e.relativeTargetOrigin=R,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function z6(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function B6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function F6(e){e.clearSnapshot()}function bb(e){e.clearMeasurements()}function wb(e){e.isLayoutDirty=!1}function H6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Rb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function q6(e){e.resolveTargetDelta()}function G6(e){e.calcProjection()}function $6(e){e.resetSkewAndRotation()}function K6(e){e.removeLeadSnapshot()}function Cb(e,t,n){e.translate=me(t.translate,0,n),e.scale=me(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ib(e,t,n,s){e.min=me(t.min,n.min,s),e.max=me(t.max,n.max,s)}function Y6(e,t,n,s){Ib(e.x,t.x,n.x,s),Ib(e.y,t.y,n.y,s)}function Q6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const X6={duration:.45,ease:[.4,0,.1,1]},Db=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),xb=Db("applewebkit/")&&!Db("chrome/")?Math.round:si;function Vb(e){e.min=xb(e.min),e.max=xb(e.max)}function W6(e){Vb(e.x),Vb(e.y)}function JC(e,t,n){return e==="position"||e==="preserve-aspect"&&!i6(Sb(t),Sb(n),.2)}function Z6(e){return e!==e.root&&e.scroll?.wasRoot}const J6=ZC({attachResizeListener:(e,t)=>hc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bg={current:void 0},tI=ZC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!bg.current){const e=new J6({});e.mount(window),e.setOptions({layoutScroll:!0}),bg.current=e}return bg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),tU={pan:{Feature:v6},drag:{Feature:y6,ProjectionNode:tI,MeasureLayout:$C}};function Mb(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&de.postRender(()=>l(t,Dc(t)))}class eU extends $r{mount(){const{current:t}=this.node;t&&(this.unmount=Sk(t,(n,s)=>(Mb(this.node,s,"Start"),a=>Mb(this.node,a,"End"))))}unmount(){}}class nU extends $r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rc(hc(this.node.current,"focus",()=>this.onFocus()),hc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ob(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&de.postRender(()=>l(t,Dc(t)))}class iU extends $r{mount(){const{current:t}=this.node;t&&(this.unmount=Rk(t,(n,s)=>(Ob(this.node,s,"Start"),(a,{success:l})=>Ob(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const by=new WeakMap,wg=new WeakMap,sU=e=>{const t=by.get(e.target);t&&t(e)},rU=e=>{e.forEach(sU)};function aU({root:e,...t}){const n=e||document;wg.has(n)||wg.set(n,{});const s=wg.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(rU,{root:e,...t})),s[a]}function oU(e,t,n){const s=aU(t);return by.set(e,n),s.observe(e),()=>{by.delete(e),s.unobserve(e)}}const lU={some:0,all:1};class uU extends $r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:lU[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),S=g?y:T;S&&S(m)};return oU(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(cU(t,n))&&this.startObserver()}unmount(){}}function cU({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const hU={inView:{Feature:uU},tap:{Feature:iU},focus:{Feature:nU},hover:{Feature:eU}},fU={layout:{ProjectionNode:tI,MeasureLayout:$C}},dU={...W3,...hU,...tU,...fU},kn=d3(dU,R3),eI=L.createContext(void 0);function mU({children:e}){const[t,n]=L.useState([]),s=(a,l="info")=>{const c=Date.now();n(d=>[...d,{id:c,message:a,type:l}]),setTimeout(()=>{n(d=>d.filter(m=>m.id!==c))},3e3)};return at.jsxs(eI.Provider,{value:{showToast:s},children:[e,at.jsx("div",{className:"fixed bottom-5 right-5 z-50 space-y-3",children:at.jsx(Xv,{children:t.map(a=>at.jsx(kn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},className:`px-5 py-3 rounded-xl shadow-lg text-white font-medium ${a.type==="success"?"bg-green-500":(a.type==="error","bg-red-500")}`,children:a.message},a.id))})})]})}function nI(){const e=L.useContext(eI);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const iI=L.createContext(void 0),a_=()=>{const e=L.useContext(iI);if(!e)throw new Error("useCart must be used inside CartProvider");return e},pU=({children:e})=>{const{user:t}=bv(),[n,s]=L.useState([]),{showToast:a}=nI();L.useEffect(()=>{if(!t){s([]);return}const y=YS(ba,"users",t.uid,"cart"),T=dN(y,S=>{const R=[];S.forEach(V=>{R.push(V.data())}),s(R)});return()=>T()},[t]);const l=async y=>{if(!t){alert("Please sign in first.");return}const T=mf(ba,"users",t.uid,"cart",y.id.toString()),S=await JS(T);if(S.exists()){const R=S.data();await tA(T,{quantity:R.quantity+1})}else await fN(T,y)},c=async y=>{t&&(await eA(mf(ba,"users",t.uid,"cart",y.toString())),a("Removed from cart","info"))},d=async(y,T)=>{if(!t)return;const S=mf(ba,"users",t.uid,"cart",y.toString()),R=await JS(S);if(!R.exists())return;const z=R.data().quantity+T;z<=0?await eA(S):await tA(S,{quantity:z})},m=async()=>{if(t){try{const y=YS(ba,"users",t.uid,"cart"),T=await hN(y);if(T.empty){s([]);return}const S=pN(ba);T.docs.forEach(R=>{S.delete(mf(ba,"users",t.uid,"cart",R.id))}),await S.commit(),s([])}catch(y){console.error("Error clearing cart:",y)}a("Cart cleared","info")}},g=n.reduce((y,T)=>y+T.price*T.quantity,0);return at.jsx(iI.Provider,{value:{cart:n,total:g,addToCart:l,clearCart:m,removeFromCart:c,updateQuantity:d},children:e})};function gU({product:e,onSelect:t}){const{addToCart:n}=a_(),{showToast:s}=nI();return at.jsxs(kn.div,{whileHover:{scale:1.05},transition:{type:"spring",stiffness:200},className:"bg-white rounded-2xl shadow-md hover:shadow-xl p-5 flex flex-col border border-gray-100 hover:border-blue-500/40 transition-all duration-300 cursor-pointer group",onClick:()=>t(e),children:[at.jsxs("div",{className:"relative w-full aspect-square mb-4 overflow-hidden rounded-xl",children:[at.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"}),at.jsx(kn.div,{initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.3},className:"absolute inset-0 bg-black/40 flex items-center justify-center text-white text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"Quick view"})]}),at.jsx("h2",{className:"text-sm font-semibold text-gray-700 line-clamp-2 mb-2",children:e.title}),at.jsxs("p",{className:"text-lg font-bold text-gray-900 mb-4",children:["$",e.price.toFixed(2)]}),at.jsx("button",{onClick:a=>{a.stopPropagation(),n({...e,quantity:1}),s(`${e.title} added to cart`,"success")},className:"mt-auto bg-gradient-to-r from-blue-600 to-blue-500 text-white py-2 px-4 rounded-xl font-medium shadow hover:shadow-lg hover:from-blue-700 hover:to-blue-600 transition-all duration-300",children:"Add to Cart"})]})}var yU=Xb(),vU=Object.defineProperty,_U=(e,t,n)=>t in e?vU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rg=(e,t,n)=>(_U(e,typeof t!="symbol"?t+"":t,n),n);let TU=class{constructor(){Rg(this,"current",this.detect()),Rg(this,"handoffState","pending"),Rg(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ts=new TU;function xc(e){var t;return ts.isServer?null:e==null?document:(t=e?.ownerDocument)!=null?t:document}function wy(e){var t,n;return ts.isServer?null:e==null?document:(n=(t=e?.getRootNode)==null?void 0:t.call(e))!=null?n:document}function sI(e){var t,n;return(n=(t=wy(e))==null?void 0:t.activeElement)!=null?n:null}function EU(e){return sI(e)===e}function jd(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Us(){let e=[],t={addEventListener(n,s,a,l){return n.addEventListener(s,a,l),t.add(()=>n.removeEventListener(s,a,l))},requestAnimationFrame(...n){let s=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(s))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let s=setTimeout(...n);return t.add(()=>clearTimeout(s))},microTask(...n){let s={current:!0};return jd(()=>{s.current&&n[0]()}),t.add(()=>{s.current=!1})},style(n,s,a){let l=n.style.getPropertyValue(s);return Object.assign(n.style,{[s]:a}),this.add(()=>{Object.assign(n.style,{[s]:l})})},group(n){let s=Us();return n(s),this.add(()=>s.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let s=e.indexOf(n);if(s>=0)for(let a of e.splice(s,1))a()}},dispose(){for(let n of e.splice(0))n()}};return t}function zd(){let[e]=L.useState(Us);return L.useEffect(()=>()=>e.dispose(),[e]),e}let Rn=(e,t)=>{ts.isServer?L.useEffect(e,t):L.useLayoutEffect(e,t)};function Ya(e){let t=L.useRef(e);return Rn(()=>{t.current=e},[e]),t}let re=function(e){let t=Ya(e);return bt.useCallback((...n)=>t.current(...n),[t])};function Vc(e){return L.useMemo(()=>e,Object.values(e))}let SU=L.createContext(void 0);function AU(){return L.useContext(SU)}function Ry(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Ls(e,t,...n){if(e in t){let a=t[e];return typeof a=="function"?a(...n):a}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Ls),s}var ud=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ud||{}),Rr=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Rr||{});function ri(){let e=wU();return L.useCallback(t=>bU({mergeRefs:e,...t}),[e])}function bU({ourProps:e,theirProps:t,slot:n,defaultTag:s,features:a,visible:l=!0,name:c,mergeRefs:d}){d=d??RU;let m=rI(t,e);if(l)return Ef(m,n,s,c,d);let g=a??0;if(g&2){let{static:y=!1,...T}=m;if(y)return Ef(T,n,s,c,d)}if(g&1){let{unmount:y=!0,...T}=m;return Ls(y?0:1,{0(){return null},1(){return Ef({...T,hidden:!0,style:{display:"none"}},n,s,c,d)}})}return Ef(m,n,s,c,d)}function Ef(e,t={},n,s,a){let{as:l=n,children:c,refName:d="ref",...m}=Cg(e,["unmount","static"]),g=e.ref!==void 0?{[d]:e.ref}:{},y=typeof c=="function"?c(t):c;"className"in m&&m.className&&typeof m.className=="function"&&(m.className=m.className(t)),m["aria-labelledby"]&&m["aria-labelledby"]===m.id&&(m["aria-labelledby"]=void 0);let T={};if(t){let S=!1,R=[];for(let[V,z]of Object.entries(t))typeof z=="boolean"&&(S=!0),z===!0&&R.push(V.replace(/([A-Z])/g,k=>`-${k.toLowerCase()}`));if(S){T["data-headlessui-state"]=R.join(" ");for(let V of R)T[`data-${V}`]=""}}if(Yu(l)&&(Object.keys(Ia(m)).length>0||Object.keys(Ia(T)).length>0))if(!L.isValidElement(y)||Array.isArray(y)&&y.length>1||IU(y)){if(Object.keys(Ia(m)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ia(m)).concat(Object.keys(Ia(T))).map(S=>`  - ${S}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(S=>`  - ${S}`).join(`
`)].join(`
`))}else{let S=y.props,R=S?.className,V=typeof R=="function"?(...$)=>Ry(R(...$),m.className):Ry(R,m.className),z=V?{className:V}:{},k=rI(y.props,Ia(Cg(m,["ref"])));for(let $ in T)$ in k&&delete T[$];return L.cloneElement(y,Object.assign({},k,T,g,{ref:a(CU(y),g.ref)},z))}return L.createElement(l,Object.assign({},Cg(m,["ref"]),!Yu(l)&&g,!Yu(l)&&T),y)}function wU(){let e=L.useRef([]),t=L.useCallback(n=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(n):s.current=n)},[]);return(...n)=>{if(!n.every(s=>s==null))return e.current=n,t}}function RU(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function rI(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let s of e)for(let a in s)a.startsWith("on")&&typeof s[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(s[a])):t[a]=s[a];if(t.disabled||t["aria-disabled"])for(let s in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s)&&(n[s]=[a=>{var l;return(l=a?.preventDefault)==null?void 0:l.call(a)}]);for(let s in n)Object.assign(t,{[s](a,...l){let c=n[s];for(let d of c){if((a instanceof Event||a?.nativeEvent instanceof Event)&&a.defaultPrevented)return;d(a,...l)}}});return t}function Cn(e){var t;return Object.assign(L.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ia(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Cg(e,t=[]){let n=Object.assign({},e);for(let s of t)s in n&&delete n[s];return n}function CU(e){return bt.version.split(".")[0]>="19"?e.props.ref:e.ref}function Yu(e){return e===L.Fragment||e===Symbol.for("react.fragment")}function IU(e){return Yu(e.type)}let DU="span";var cd=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(cd||{});function xU(e,t){var n;let{features:s=1,...a}=e,l={ref:t,"aria-hidden":(s&2)===2?!0:(n=a["aria-hidden"])!=null?n:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return ri()({ourProps:l,theirProps:a,slot:{},defaultTag:DU,name:"Hidden"})}let Cy=Cn(xU);function VU(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Or(e){return VU(e)&&"tagName"in e}function qa(e){return Or(e)&&"accessKey"in e}function Cr(e){return Or(e)&&"tabIndex"in e}function MU(e){return Or(e)&&"style"in e}function OU(e){return qa(e)&&e.nodeName==="IFRAME"}function NU(e){return qa(e)&&e.nodeName==="INPUT"}let aI=Symbol();function PU(e,t=!0){return Object.assign(e,{[aI]:t})}function is(...e){let t=L.useRef(e);L.useEffect(()=>{t.current=e},[e]);let n=re(s=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(s):a.current=s)});return e.every(s=>s==null||s?.[aI])?void 0:n}let o_=L.createContext(null);o_.displayName="DescriptionContext";function oI(){let e=L.useContext(o_);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,oI),t}return e}function LU(){let[e,t]=L.useState([]);return[e.length>0?e.join(" "):void 0,L.useMemo(()=>function(n){let s=re(l=>(t(c=>[...c,l]),()=>t(c=>{let d=c.slice(),m=d.indexOf(l);return m!==-1&&d.splice(m,1),d}))),a=L.useMemo(()=>({register:s,slot:n.slot,name:n.name,props:n.props,value:n.value}),[s,n.slot,n.name,n.props,n.value]);return bt.createElement(o_.Provider,{value:a},n.children)},[t])]}let kU="p";function UU(e,t){let n=L.useId(),s=AU(),{id:a=`headlessui-description-${n}`,...l}=e,c=oI(),d=is(t);Rn(()=>c.register(a),[a,c.register]);let m=Vc({...c.slot,disabled:s||!1}),g={ref:d,...c.props,id:a};return ri()({ourProps:g,theirProps:l,slot:m,defaultTag:kU,name:c.name||"Description"})}let jU=Cn(UU),zU=Object.assign(jU,{});var lI=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(lI||{});let BU=L.createContext(()=>{});function FU({value:e,children:t}){return bt.createElement(BU.Provider,{value:e},t)}let uI=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var HU=Object.defineProperty,qU=(e,t,n)=>t in e?HU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GU=(e,t,n)=>(qU(e,t+"",n),n),cI=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Jn=(e,t,n)=>(cI(e,t,"read from private field"),n?n.call(e):t.get(e)),Ig=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Nb=(e,t,n,s)=>(cI(e,t,"write to private field"),t.set(e,n),n),qi,Nu,Pu;let $U=class{constructor(t){Ig(this,qi,{}),Ig(this,Nu,new uI(()=>new Set)),Ig(this,Pu,new Set),GU(this,"disposables",Us()),Nb(this,qi,t),ts.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Jn(this,qi)}subscribe(t,n){if(ts.isServer)return()=>{};let s={selector:t,callback:n,current:t(Jn(this,qi))};return Jn(this,Pu).add(s),this.disposables.add(()=>{Jn(this,Pu).delete(s)})}on(t,n){return ts.isServer?()=>{}:(Jn(this,Nu).get(t).add(n),this.disposables.add(()=>{Jn(this,Nu).get(t).delete(n)}))}send(t){let n=this.reduce(Jn(this,qi),t);if(n!==Jn(this,qi)){Nb(this,qi,n);for(let s of Jn(this,Pu)){let a=s.selector(Jn(this,qi));hI(s.current,a)||(s.current=a,s.callback(a))}for(let s of Jn(this,Nu).get(t.type))s(Jn(this,qi),t)}}};qi=new WeakMap,Nu=new WeakMap,Pu=new WeakMap;function hI(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Dg(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Dg(e.entries(),t.entries()):Pb(e)&&Pb(t)?Dg(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Dg(e,t){do{let n=e.next(),s=t.next();if(n.done&&s.done)return!0;if(n.done||s.done||!Object.is(n.value,s.value))return!1}while(!0)}function Pb(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var KU=Object.defineProperty,YU=(e,t,n)=>t in e?KU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lb=(e,t,n)=>(YU(e,typeof t!="symbol"?t+"":t,n),n),QU=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(QU||{});let XU={0(e,t){let n=t.id,s=e.stack,a=e.stack.indexOf(n);if(a!==-1){let l=e.stack.slice();return l.splice(a,1),l.push(n),s=l,{...e,stack:s}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,s=e.stack.indexOf(n);if(s===-1)return e;let a=e.stack.slice();return a.splice(s,1),{...e,stack:a}}},WU=class fI extends $U{constructor(){super(...arguments),Lb(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Lb(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new fI({stack:[]})}reduce(t,n){return Ls(n.type,XU,t,n)}};const dI=new uI(()=>WU.new());var xg={exports:{}},Vg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb;function ZU(){if(kb)return Vg;kb=1;var e=fd();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,a=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Vg.useSyncExternalStoreWithSelector=function(m,g,y,T,S){var R=a(null);if(R.current===null){var V={hasValue:!1,value:null};R.current=V}else V=R.current;R=c(function(){function k(rt){if(!$){if($=!0,X=rt,rt=T(rt),S!==void 0&&V.hasValue){var lt=V.value;if(S(lt,rt))return K=lt}return K=rt}if(lt=K,n(X,rt))return lt;var C=T(rt);return S!==void 0&&S(lt,C)?(X=rt,lt):(X=rt,K=C)}var $=!1,X,K,ot=y===void 0?null:y;return[function(){return k(g())},ot===null?void 0:function(){return k(ot())}]},[g,y,T,S]);var z=s(m,R[0],R[1]);return l(function(){V.hasValue=!0,V.value=z},[z]),d(z),z},Vg}var Ub;function JU(){return Ub||(Ub=1,xg.exports=ZU()),xg.exports}var t5=JU();function mI(e,t,n=hI){return t5.useSyncExternalStoreWithSelector(re(s=>e.subscribe(e5,s)),re(()=>e.state),re(()=>e.state),re(t),n)}function e5(e){return e}function Mc(e,t){let n=L.useId(),s=dI.get(t),[a,l]=mI(s,L.useCallback(c=>[s.selectors.isTop(c,n),s.selectors.inStack(c,n)],[s,n]));return Rn(()=>{if(e)return s.actions.push(n),()=>s.actions.pop(n)},[s,e,n]),e?l?a:!0:!1}let Iy=new Map,Qu=new Map;function jb(e){var t;let n=(t=Qu.get(e))!=null?t:0;return Qu.set(e,n+1),n!==0?()=>zb(e):(Iy.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>zb(e))}function zb(e){var t;let n=(t=Qu.get(e))!=null?t:1;if(n===1?Qu.delete(e):Qu.set(e,n-1),n!==1)return;let s=Iy.get(e);s&&(s["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",s["aria-hidden"]),e.inert=s.inert,Iy.delete(e))}function n5(e,{allowed:t,disallowed:n}={}){let s=Mc(e,"inert-others");Rn(()=>{var a,l;if(!s)return;let c=Us();for(let m of(a=n?.())!=null?a:[])m&&c.add(jb(m));let d=(l=t?.())!=null?l:[];for(let m of d){if(!m)continue;let g=xc(m);if(!g)continue;let y=m.parentElement;for(;y&&y!==g.body;){for(let T of y.children)d.some(S=>T.contains(S))||c.add(jb(T));y=y.parentElement}}return c.dispose},[s,t,n])}function i5(e,t,n){let s=Ya(a=>{let l=a.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&n()});L.useEffect(()=>{if(!e)return;let a=t===null?null:qa(t)?t:t.current;if(!a)return;let l=Us();if(typeof ResizeObserver<"u"){let c=new ResizeObserver(()=>s.current(a));c.observe(a),l.add(()=>c.disconnect())}if(typeof IntersectionObserver<"u"){let c=new IntersectionObserver(()=>s.current(a));c.observe(a),l.add(()=>c.disconnect())}return()=>l.dispose()},[t,s,e])}let hd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),s5=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var As=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(As||{}),Dy=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Dy||{}),r5=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(r5||{});function a5(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(hd)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function o5(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(s5)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var pI=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(pI||{});function l5(e,t=0){var n;return e===((n=xc(e))==null?void 0:n.body)?!1:Ls(t,{0(){return e.matches(hd)},1(){let s=e;for(;s!==null;){if(s.matches(hd))return!0;s=s.parentElement}return!1}})}var u5=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(u5||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Is(e){e?.focus({preventScroll:!0})}let c5=["textarea","input"].join(",");function h5(e){var t,n;return(n=(t=e?.matches)==null?void 0:t.call(e,c5))!=null?n:!1}function f5(e,t=n=>n){return e.slice().sort((n,s)=>{let a=t(n),l=t(s);if(a===null||l===null)return 0;let c=a.compareDocumentPosition(l);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Xu(e,t,{sorted:n=!0,relativeTo:s=null,skipElements:a=[]}={}){let l=Array.isArray(e)?e.length>0?wy(e[0]):document:wy(e),c=Array.isArray(e)?n?f5(e):e:t&64?o5(e):a5(e);a.length>0&&c.length>1&&(c=c.filter(R=>!a.some(V=>V!=null&&"current"in V?V?.current===R:V===R))),s=s??l?.activeElement;let d=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,c.indexOf(s))-1;if(t&4)return Math.max(0,c.indexOf(s))+1;if(t&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),g=t&32?{preventScroll:!0}:{},y=0,T=c.length,S;do{if(y>=T||y+T<=0)return 0;let R=m+y;if(t&16)R=(R+T)%T;else{if(R<0)return 3;if(R>=T)return 1}S=c[R],S?.focus(g),y+=d}while(S!==sI(S));return t&6&&h5(S)&&S.select(),2}function gI(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function d5(){return/Android/gi.test(window.navigator.userAgent)}function Bb(){return gI()||d5()}function Sf(e,t,n,s){let a=Ya(n);L.useEffect(()=>{if(!e)return;function l(c){a.current(c)}return document.addEventListener(t,l,s),()=>document.removeEventListener(t,l,s)},[e,t,s])}function yI(e,t,n,s){let a=Ya(n);L.useEffect(()=>{if(!e)return;function l(c){a.current(c)}return window.addEventListener(t,l,s),()=>window.removeEventListener(t,l,s)},[e,t,s])}const Fb=30;function m5(e,t,n){let s=Ya(n),a=L.useCallback(function(d,m){if(d.defaultPrevented)return;let g=m(d);if(g===null||!g.getRootNode().contains(g)||!g.isConnected)return;let y=(function T(S){return typeof S=="function"?T(S()):Array.isArray(S)||S instanceof Set?S:[S]})(t);for(let T of y)if(T!==null&&(T.contains(g)||d.composed&&d.composedPath().includes(T)))return;return!l5(g,pI.Loose)&&g.tabIndex!==-1&&d.preventDefault(),s.current(d,g)},[s,t]),l=L.useRef(null);Sf(e,"pointerdown",d=>{var m,g;Bb()||(l.current=((g=(m=d.composedPath)==null?void 0:m.call(d))==null?void 0:g[0])||d.target)},!0),Sf(e,"pointerup",d=>{if(Bb()||!l.current)return;let m=l.current;return l.current=null,a(d,()=>m)},!0);let c=L.useRef({x:0,y:0});Sf(e,"touchstart",d=>{c.current.x=d.touches[0].clientX,c.current.y=d.touches[0].clientY},!0),Sf(e,"touchend",d=>{let m={x:d.changedTouches[0].clientX,y:d.changedTouches[0].clientY};if(!(Math.abs(m.x-c.current.x)>=Fb||Math.abs(m.y-c.current.y)>=Fb))return a(d,()=>Cr(d.target)?d.target:null)},!0),yI(e,"blur",d=>a(d,()=>OU(window.document.activeElement)?window.document.activeElement:null),!0)}function l_(...e){return L.useMemo(()=>xc(...e),[...e])}function vI(e,t,n,s){let a=Ya(n);L.useEffect(()=>{e=e??window;function l(c){a.current(c)}return e.addEventListener(t,l,s),()=>e.removeEventListener(t,l,s)},[e,t,s])}function p5(e){return L.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function g5(e,t){let n=e(),s=new Set;return{getSnapshot(){return n},subscribe(a){return s.add(a),()=>s.delete(a)},dispatch(a,...l){let c=t[a].call(n,...l);c&&(n=c,s.forEach(d=>d()))}}}function y5(){let e;return{before({doc:t}){var n;let s=t.documentElement,a=(n=t.defaultView)!=null?n:window;e=Math.max(0,a.innerWidth-s.clientWidth)},after({doc:t,d:n}){let s=t.documentElement,a=Math.max(0,s.clientWidth-s.offsetWidth),l=Math.max(0,e-a);n.style(s,"paddingRight",`${l}px`)}}}function v5(){return gI()?{before({doc:e,d:t,meta:n}){function s(a){for(let l of n().containers)for(let c of l())if(c.contains(a))return!0;return!1}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let d=Us();d.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>d.dispose()))}let l=(a=window.scrollY)!=null?a:window.pageYOffset,c=null;t.addEventListener(e,"click",d=>{if(Cr(d.target))try{let m=d.target.closest("a");if(!m)return;let{hash:g}=new URL(m.href),y=e.querySelector(g);Cr(y)&&!s(y)&&(c=y)}catch{}},!0),t.group(d=>{t.addEventListener(e,"touchstart",m=>{if(d.dispose(),Cr(m.target)&&MU(m.target))if(s(m.target)){let g=m.target;for(;g.parentElement&&s(g.parentElement);)g=g.parentElement;d.style(g,"overscrollBehavior","contain")}else d.style(m.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",d=>{if(Cr(d.target)){if(NU(d.target))return;if(s(d.target)){let m=d.target;for(;m.parentElement&&m.dataset.headlessuiPortal!==""&&!(m.scrollHeight>m.clientHeight||m.scrollWidth>m.clientWidth);)m=m.parentElement;m.dataset.headlessuiPortal===""&&d.preventDefault()}else d.preventDefault()}},{passive:!1}),t.add(()=>{var d;let m=(d=window.scrollY)!=null?d:window.pageYOffset;l!==m&&window.scrollTo(0,l),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})})}}:{}}function _5(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Hb(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Oa=g5(()=>new Map,{PUSH(e,t){var n;let s=(n=this.get(e))!=null?n:{doc:e,count:0,d:Us(),meta:new Set,computedMeta:{}};return s.count++,s.meta.add(t),s.computedMeta=Hb(s.meta),this.set(e,s),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=Hb(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[v5(),y5(),_5()];n.forEach(({before:s})=>s?.(t)),n.forEach(({after:s})=>s?.(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Oa.subscribe(()=>{let e=Oa.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let s=t.get(n.doc)==="hidden",a=n.count!==0;(a&&!s||!a&&s)&&Oa.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Oa.dispatch("TEARDOWN",n)}});function T5(e,t,n=()=>({containers:[]})){let s=p5(Oa),a=t?s.get(t):void 0,l=a?a.count>0:!1;return Rn(()=>{if(!(!t||!e))return Oa.dispatch("PUSH",t,n),()=>Oa.dispatch("POP",t,n)},[e,t]),l}function E5(e,t,n=()=>[document.body]){let s=Mc(e,"scroll-lock");T5(s,t,a=>{var l;return{containers:[...(l=a.containers)!=null?l:[],n]}})}function S5(e=0){let[t,n]=L.useState(e),s=L.useCallback(m=>n(m),[]),a=L.useCallback(m=>n(g=>g|m),[]),l=L.useCallback(m=>(t&m)===m,[t]),c=L.useCallback(m=>n(g=>g&~m),[]),d=L.useCallback(m=>n(g=>g^m),[]);return{flags:t,setFlag:s,addFlag:a,hasFlag:l,removeFlag:c,toggleFlag:d}}var A5={},qb,Gb;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((qb=process==null?void 0:A5)==null?void 0:qb.NODE_ENV)==="test"&&typeof((Gb=Element?.prototype)==null?void 0:Gb.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var b5=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(b5||{});function w5(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function R5(e,t,n,s){let[a,l]=L.useState(n),{hasFlag:c,addFlag:d,removeFlag:m}=S5(e&&a?3:0),g=L.useRef(!1),y=L.useRef(!1),T=zd();return Rn(()=>{var S;if(e){if(n&&l(!0),!t){n&&d(3);return}return(S=s?.start)==null||S.call(s,n),C5(t,{inFlight:g,prepare(){y.current?y.current=!1:y.current=g.current,g.current=!0,!y.current&&(n?(d(3),m(4)):(d(4),m(2)))},run(){y.current?n?(m(3),d(4)):(m(4),d(3)):n?m(1):d(1)},done(){var R;y.current&&x5(t)||(g.current=!1,m(7),n||l(!1),(R=s?.end)==null||R.call(s,n))}})}},[e,n,t,T]),e?[a,{closed:c(1),enter:c(2),leave:c(4),transition:c(2)||c(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function C5(e,{prepare:t,run:n,done:s,inFlight:a}){let l=Us();return D5(e,{prepare:t,inFlight:a}),l.nextFrame(()=>{n(),l.requestAnimationFrame(()=>{l.add(I5(e,s))})}),l.dispose}function I5(e,t){var n,s;let a=Us();if(!e)return a.dispose;let l=!1;a.add(()=>{l=!0});let c=(s=(n=e.getAnimations)==null?void 0:n.call(e).filter(d=>d instanceof CSSTransition))!=null?s:[];return c.length===0?(t(),a.dispose):(Promise.allSettled(c.map(d=>d.finished)).then(()=>{l||t()}),a.dispose)}function D5(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let s=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=s}function x5(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(s=>s instanceof CSSTransition&&s.playState!=="finished")}function u_(e,t){let n=L.useRef([]),s=re(e);L.useEffect(()=>{let a=[...n.current];for(let[l,c]of t.entries())if(n.current[l]!==c){let d=s(t,a);return n.current=t,d}},[s,...t])}let Bd=L.createContext(null);Bd.displayName="OpenClosedContext";var Ti=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ti||{});function Fd(){return L.useContext(Bd)}function V5({value:e,children:t}){return bt.createElement(Bd.Provider,{value:e},t)}function M5({children:e}){return bt.createElement(Bd.Provider,{value:null},e)}function O5(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let br=[];O5(()=>{function e(t){if(!Cr(t.target)||t.target===document.body||br[0]===t.target)return;let n=t.target;n=n.closest(hd),br.unshift(n??t.target),br=br.filter(s=>s!=null&&s.isConnected),br.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function _I(e){let t=re(e),n=L.useRef(!1);L.useEffect(()=>(n.current=!1,()=>{n.current=!0,jd(()=>{n.current&&t()})}),[t])}let TI=L.createContext(!1);function N5(){return L.useContext(TI)}function $b(e){return bt.createElement(TI.Provider,{value:e.force},e.children)}function P5(e){let t=N5(),n=L.useContext(SI),[s,a]=L.useState(()=>{var l;if(!t&&n!==null)return(l=n.current)!=null?l:null;if(ts.isServer)return null;let c=e?.getElementById("headlessui-portal-root");if(c)return c;if(e===null)return null;let d=e.createElement("div");return d.setAttribute("id","headlessui-portal-root"),e.body.appendChild(d)});return L.useEffect(()=>{s!==null&&(e!=null&&e.body.contains(s)||e==null||e.body.appendChild(s))},[s,e]),L.useEffect(()=>{t||n!==null&&a(n.current)},[n,a,t]),s}let EI=L.Fragment,L5=Cn(function(e,t){let{ownerDocument:n=null,...s}=e,a=L.useRef(null),l=is(PU(S=>{a.current=S}),t),c=l_(a.current),d=n??c,m=P5(d),g=L.useContext(xy),y=zd(),T=ri();return _I(()=>{var S;m&&m.childNodes.length<=0&&((S=m.parentElement)==null||S.removeChild(m))}),m?yU.createPortal(bt.createElement("div",{"data-headlessui-portal":"",ref:S=>{y.dispose(),g&&S&&y.add(g.register(S))}},T({ourProps:{ref:l},theirProps:s,slot:{},defaultTag:EI,name:"Portal"})),m):null});function k5(e,t){let n=is(t),{enabled:s=!0,ownerDocument:a,...l}=e,c=ri();return s?bt.createElement(L5,{...l,ownerDocument:a,ref:n}):c({ourProps:{ref:n},theirProps:l,slot:{},defaultTag:EI,name:"Portal"})}let U5=L.Fragment,SI=L.createContext(null);function j5(e,t){let{target:n,...s}=e,a={ref:is(t)},l=ri();return bt.createElement(SI.Provider,{value:n},l({ourProps:a,theirProps:s,defaultTag:U5,name:"Popover.Group"}))}let xy=L.createContext(null);function z5(){let e=L.useContext(xy),t=L.useRef([]),n=re(l=>(t.current.push(l),e&&e.register(l),()=>s(l))),s=re(l=>{let c=t.current.indexOf(l);c!==-1&&t.current.splice(c,1),e&&e.unregister(l)}),a=L.useMemo(()=>({register:n,unregister:s,portals:t}),[n,s,t]);return[t,L.useMemo(()=>function({children:l}){return bt.createElement(xy.Provider,{value:a},l)},[a])]}let B5=Cn(k5),AI=Cn(j5),F5=Object.assign(B5,{Group:AI});function H5(e,t=typeof document<"u"?document.defaultView:null,n){let s=Mc(e,"escape");vI(t,"keydown",a=>{s&&(a.defaultPrevented||a.key===lI.Escape&&n(a))})}function q5(){var e;let[t]=L.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,s]=L.useState((e=t?.matches)!=null?e:!1);return Rn(()=>{if(!t)return;function a(l){s(l.matches)}return t.addEventListener("change",a),()=>t.removeEventListener("change",a)},[t]),n}function G5({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let s=re(()=>{var a,l;let c=xc(n),d=[];for(let m of e)m!==null&&(Or(m)?d.push(m):"current"in m&&Or(m.current)&&d.push(m.current));if(t!=null&&t.current)for(let m of t.current)d.push(m);for(let m of(a=c?.querySelectorAll("html > *, body > *"))!=null?a:[])m!==document.body&&m!==document.head&&Or(m)&&m.id!=="headlessui-portal-root"&&(n&&(m.contains(n)||m.contains((l=n?.getRootNode())==null?void 0:l.host))||d.some(g=>m.contains(g))||d.push(m));return d});return{resolveContainers:s,contains:re(a=>s().some(l=>l.contains(a)))}}let bI=L.createContext(null);function Kb({children:e,node:t}){let[n,s]=L.useState(null),a=wI(t??n);return bt.createElement(bI.Provider,{value:a},e,a===null&&bt.createElement(Cy,{features:cd.Hidden,ref:l=>{var c,d;if(l){for(let m of(d=(c=xc(l))==null?void 0:c.querySelectorAll("html > *, body > *"))!=null?d:[])if(m!==document.body&&m!==document.head&&Or(m)&&m!=null&&m.contains(l)){s(m);break}}}}))}function wI(e=null){var t;return(t=L.useContext(bI))!=null?t:e}function $5(){let e=typeof document>"u";return"useSyncExternalStore"in kE?(t=>t.useSyncExternalStore)(kE)(()=>()=>{},()=>!1,()=>!e):!1}function Hd(){let e=$5(),[t,n]=L.useState(ts.isHandoffComplete);return t&&ts.isHandoffComplete===!1&&n(!1),L.useEffect(()=>{t!==!0&&n(!0)},[t]),L.useEffect(()=>ts.handoff(),[]),e?!1:t}function c_(){let e=L.useRef(!1);return Rn(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Lu=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Lu||{});function K5(){let e=L.useRef(0);return yI(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function RI(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)Or(n.current)&&t.add(n.current);return t}let Y5="div";var Da=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Da||{});function Q5(e,t){let n=L.useRef(null),s=is(n,t),{initialFocus:a,initialFocusFallback:l,containers:c,features:d=15,...m}=e;Hd()||(d=0);let g=l_(n.current);J5(d,{ownerDocument:g});let y=t9(d,{ownerDocument:g,container:n,initialFocus:a,initialFocusFallback:l});e9(d,{ownerDocument:g,container:n,containers:c,previousActiveElement:y});let T=K5(),S=re(X=>{if(!qa(n.current))return;let K=n.current;(ot=>ot())(()=>{Ls(T.current,{[Lu.Forwards]:()=>{Xu(K,As.First,{skipElements:[X.relatedTarget,l]})},[Lu.Backwards]:()=>{Xu(K,As.Last,{skipElements:[X.relatedTarget,l]})}})})}),R=Mc(!!(d&2),"focus-trap#tab-lock"),V=zd(),z=L.useRef(!1),k={ref:s,onKeyDown(X){X.key=="Tab"&&(z.current=!0,V.requestAnimationFrame(()=>{z.current=!1}))},onBlur(X){if(!(d&4))return;let K=RI(c);qa(n.current)&&K.add(n.current);let ot=X.relatedTarget;Cr(ot)&&ot.dataset.headlessuiFocusGuard!=="true"&&(CI(K,ot)||(z.current?Xu(n.current,Ls(T.current,{[Lu.Forwards]:()=>As.Next,[Lu.Backwards]:()=>As.Previous})|As.WrapAround,{relativeTo:X.target}):Cr(X.target)&&Is(X.target)))}},$=ri();return bt.createElement(bt.Fragment,null,R&&bt.createElement(Cy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:S,features:cd.Focusable}),$({ourProps:k,theirProps:m,defaultTag:Y5,name:"FocusTrap"}),R&&bt.createElement(Cy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:S,features:cd.Focusable}))}let X5=Cn(Q5),W5=Object.assign(X5,{features:Da});function Z5(e=!0){let t=L.useRef(br.slice());return u_(([n],[s])=>{s===!0&&n===!1&&jd(()=>{t.current.splice(0)}),s===!1&&n===!0&&(t.current=br.slice())},[e,br,t]),re(()=>{var n;return(n=t.current.find(s=>s!=null&&s.isConnected))!=null?n:null})}function J5(e,{ownerDocument:t}){let n=!!(e&8),s=Z5(n);u_(()=>{n||EU(t?.body)&&Is(s())},[n]),_I(()=>{n&&Is(s())})}function t9(e,{ownerDocument:t,container:n,initialFocus:s,initialFocusFallback:a}){let l=L.useRef(null),c=Mc(!!(e&1),"focus-trap#initial-focus"),d=c_();return u_(()=>{if(e===0)return;if(!c){a!=null&&a.current&&Is(a.current);return}let m=n.current;m&&jd(()=>{if(!d.current)return;let g=t?.activeElement;if(s!=null&&s.current){if(s?.current===g){l.current=g;return}}else if(m.contains(g)){l.current=g;return}if(s!=null&&s.current)Is(s.current);else{if(e&16){if(Xu(m,As.First|As.AutoFocus)!==Dy.Error)return}else if(Xu(m,As.First)!==Dy.Error)return;if(a!=null&&a.current&&(Is(a.current),t?.activeElement===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=t?.activeElement})},[a,c,e]),l}function e9(e,{ownerDocument:t,container:n,containers:s,previousActiveElement:a}){let l=c_(),c=!!(e&4);vI(t?.defaultView,"focus",d=>{if(!c||!l.current)return;let m=RI(s);qa(n.current)&&m.add(n.current);let g=a.current;if(!g)return;let y=d.target;qa(y)?CI(m,y)?(a.current=y,Is(y)):(d.preventDefault(),d.stopPropagation(),Is(g)):Is(a.current)},!0)}function CI(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function II(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Yu((t=e.as)!=null?t:xI)||bt.Children.count(e.children)===1}let qd=L.createContext(null);qd.displayName="TransitionContext";var n9=(e=>(e.Visible="visible",e.Hidden="hidden",e))(n9||{});function i9(){let e=L.useContext(qd);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function s9(){let e=L.useContext(Gd);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Gd=L.createContext(null);Gd.displayName="NestingContext";function $d(e){return"children"in e?$d(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function DI(e,t){let n=Ya(e),s=L.useRef([]),a=c_(),l=zd(),c=re((R,V=Rr.Hidden)=>{let z=s.current.findIndex(({el:k})=>k===R);z!==-1&&(Ls(V,{[Rr.Unmount](){s.current.splice(z,1)},[Rr.Hidden](){s.current[z].state="hidden"}}),l.microTask(()=>{var k;!$d(s)&&a.current&&((k=n.current)==null||k.call(n))}))}),d=re(R=>{let V=s.current.find(({el:z})=>z===R);return V?V.state!=="visible"&&(V.state="visible"):s.current.push({el:R,state:"visible"}),()=>c(R,Rr.Unmount)}),m=L.useRef([]),g=L.useRef(Promise.resolve()),y=L.useRef({enter:[],leave:[]}),T=re((R,V,z)=>{m.current.splice(0),t&&(t.chains.current[V]=t.chains.current[V].filter(([k])=>k!==R)),t?.chains.current[V].push([R,new Promise(k=>{m.current.push(k)})]),t?.chains.current[V].push([R,new Promise(k=>{Promise.all(y.current[V].map(([$,X])=>X)).then(()=>k())})]),V==="enter"?g.current=g.current.then(()=>t?.wait.current).then(()=>z(V)):z(V)}),S=re((R,V,z)=>{Promise.all(y.current[V].splice(0).map(([k,$])=>$)).then(()=>{var k;(k=m.current.shift())==null||k()}).then(()=>z(V))});return L.useMemo(()=>({children:s,register:d,unregister:c,onStart:T,onStop:S,wait:g,chains:y}),[d,c,s,T,S,y,g])}let xI=L.Fragment,VI=ud.RenderStrategy;function r9(e,t){var n,s;let{transition:a=!0,beforeEnter:l,afterEnter:c,beforeLeave:d,afterLeave:m,enter:g,enterFrom:y,enterTo:T,entered:S,leave:R,leaveFrom:V,leaveTo:z,...k}=e,[$,X]=L.useState(null),K=L.useRef(null),ot=II(e),rt=is(...ot?[K,t,X]:t===null?[]:[t]),lt=(n=k.unmount)==null||n?Rr.Unmount:Rr.Hidden,{show:C,appear:w,initial:I}=i9(),[O,M]=L.useState(C?"visible":"hidden"),U=s9(),{register:D,unregister:Bt}=U;Rn(()=>D(K),[D,K]),Rn(()=>{if(lt===Rr.Hidden&&K.current){if(C&&O!=="visible"){M("visible");return}return Ls(O,{hidden:()=>Bt(K),visible:()=>D(K)})}},[O,K,D,Bt,C,lt]);let Jt=Hd();Rn(()=>{if(ot&&Jt&&O==="visible"&&K.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[K,O,Jt,ot]);let Q=I&&!w,st=w&&C&&I,ct=L.useRef(!1),St=DI(()=>{ct.current||(M("hidden"),Bt(K))},U),Vt=re(Ot=>{ct.current=!0;let ce=Ot?"enter":"leave";St.onStart(K,ce,Yt=>{Yt==="enter"?l?.():Yt==="leave"&&d?.()})}),N=re(Ot=>{let ce=Ot?"enter":"leave";ct.current=!1,St.onStop(K,ce,Yt=>{Yt==="enter"?c?.():Yt==="leave"&&m?.()}),ce==="leave"&&!$d(St)&&(M("hidden"),Bt(K))});L.useEffect(()=>{ot&&a||(Vt(C),N(C))},[C,ot,a]);let J=!(!a||!ot||!Jt||Q),[,it]=R5(J,$,C,{start:Vt,end:N}),ht=Ia({ref:rt,className:((s=Ry(k.className,st&&g,st&&y,it.enter&&g,it.enter&&it.closed&&y,it.enter&&!it.closed&&T,it.leave&&R,it.leave&&!it.closed&&V,it.leave&&it.closed&&z,!it.transition&&C&&S))==null?void 0:s.trim())||void 0,...w5(it)}),vt=0;O==="visible"&&(vt|=Ti.Open),O==="hidden"&&(vt|=Ti.Closed),C&&O==="hidden"&&(vt|=Ti.Opening),!C&&O==="visible"&&(vt|=Ti.Closing);let It=ri();return bt.createElement(Gd.Provider,{value:St},bt.createElement(V5,{value:vt},It({ourProps:ht,theirProps:k,defaultTag:xI,features:VI,visible:O==="visible",name:"Transition.Child"})))}function a9(e,t){let{show:n,appear:s=!1,unmount:a=!0,...l}=e,c=L.useRef(null),d=II(e),m=is(...d?[c,t]:t===null?[]:[t]);Hd();let g=Fd();if(n===void 0&&g!==null&&(n=(g&Ti.Open)===Ti.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[y,T]=L.useState(n?"visible":"hidden"),S=DI(()=>{n||T("hidden")}),[R,V]=L.useState(!0),z=L.useRef([n]);Rn(()=>{R!==!1&&z.current[z.current.length-1]!==n&&(z.current.push(n),V(!1))},[z,n]);let k=L.useMemo(()=>({show:n,appear:s,initial:R}),[n,s,R]);Rn(()=>{n?T("visible"):!$d(S)&&c.current!==null&&T("hidden")},[n,S]);let $={unmount:a},X=re(()=>{var rt;R&&V(!1),(rt=e.beforeEnter)==null||rt.call(e)}),K=re(()=>{var rt;R&&V(!1),(rt=e.beforeLeave)==null||rt.call(e)}),ot=ri();return bt.createElement(Gd.Provider,{value:S},bt.createElement(qd.Provider,{value:k},ot({ourProps:{...$,as:L.Fragment,children:bt.createElement(MI,{ref:m,...$,...l,beforeEnter:X,beforeLeave:K})},theirProps:{},defaultTag:L.Fragment,features:VI,visible:y==="visible",name:"Transition"})))}function o9(e,t){let n=L.useContext(qd)!==null,s=Fd()!==null;return bt.createElement(bt.Fragment,null,!n&&s?bt.createElement(Vy,{ref:t,...e}):bt.createElement(MI,{ref:t,...e}))}let Vy=Cn(a9),MI=Cn(r9),h_=Cn(o9),l9=Object.assign(Vy,{Child:h_,Root:Vy});var u9=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(u9||{}),c9=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(c9||{});let h9={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},f_=L.createContext(null);f_.displayName="DialogContext";function Kd(e){let t=L.useContext(f_);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Kd),n}return t}function f9(e,t){return Ls(t.type,h9,e,t)}let Yb=Cn(function(e,t){let n=L.useId(),{id:s=`headlessui-dialog-${n}`,open:a,onClose:l,initialFocus:c,role:d="dialog",autoFocus:m=!0,__demoMode:g=!1,unmount:y=!1,...T}=e,S=L.useRef(!1);d=(function(){return d==="dialog"||d==="alertdialog"?d:(S.current||(S.current=!0,console.warn(`Invalid role [${d}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let R=Fd();a===void 0&&R!==null&&(a=(R&Ti.Open)===Ti.Open);let V=L.useRef(null),z=is(V,t),k=l_(V.current),$=a?0:1,[X,K]=L.useReducer(f9,{titleId:null,descriptionId:null,panelRef:L.createRef()}),ot=re(()=>l(!1)),rt=re(it=>K({type:0,id:it})),lt=Hd()?$===0:!1,[C,w]=z5(),I={get current(){var it;return(it=X.panelRef.current)!=null?it:V.current}},O=wI(),{resolveContainers:M}=G5({mainTreeNode:O,portals:C,defaultContainers:[I]}),U=R!==null?(R&Ti.Closing)===Ti.Closing:!1;n5(g||U?!1:lt,{allowed:re(()=>{var it,ht;return[(ht=(it=V.current)==null?void 0:it.closest("[data-headlessui-portal]"))!=null?ht:null]}),disallowed:re(()=>{var it;return[(it=O?.closest("body > *:not(#headlessui-portal-root)"))!=null?it:null]})});let D=dI.get(null);Rn(()=>{if(lt)return D.actions.push(s),()=>D.actions.pop(s)},[D,s,lt]);let Bt=mI(D,L.useCallback(it=>D.selectors.isTop(it,s),[D,s]));m5(Bt,M,it=>{it.preventDefault(),ot()}),H5(Bt,k?.defaultView,it=>{it.preventDefault(),it.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),ot()}),E5(g||U?!1:lt,k,M),i5(lt,V,ot);let[Jt,Q]=LU(),st=L.useMemo(()=>[{dialogState:$,close:ot,setTitleId:rt,unmount:y},X],[$,ot,rt,y,X]),ct=Vc({open:$===0}),St={ref:z,id:s,role:d,tabIndex:-1,"aria-modal":g?void 0:$===0?!0:void 0,"aria-labelledby":X.titleId,"aria-describedby":Jt,unmount:y},Vt=!q5(),N=Da.None;lt&&!g&&(N|=Da.RestoreFocus,N|=Da.TabLock,m&&(N|=Da.AutoFocus),Vt&&(N|=Da.InitialFocus));let J=ri();return bt.createElement(M5,null,bt.createElement($b,{force:!0},bt.createElement(F5,null,bt.createElement(f_.Provider,{value:st},bt.createElement(AI,{target:V},bt.createElement($b,{force:!1},bt.createElement(Q,{slot:ct},bt.createElement(w,null,bt.createElement(W5,{initialFocus:c,initialFocusFallback:V,containers:M,features:N},bt.createElement(FU,{value:ot},J({ourProps:St,theirProps:T,slot:ct,defaultTag:d9,features:m9,visible:$===0,name:"Dialog"})))))))))))}),d9="div",m9=ud.RenderStrategy|ud.Static;function p9(e,t){let{transition:n=!1,open:s,...a}=e,l=Fd(),c=e.hasOwnProperty("open")||l!==null,d=e.hasOwnProperty("onClose");if(!c&&!d)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!c)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!d)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(s!==void 0||n)&&!a.static?bt.createElement(Kb,null,bt.createElement(l9,{show:s,transition:n,unmount:a.unmount},bt.createElement(Yb,{ref:t,...a}))):bt.createElement(Kb,null,bt.createElement(Yb,{ref:t,open:s,...a}))}let g9="div";function y9(e,t){let n=L.useId(),{id:s=`headlessui-dialog-panel-${n}`,transition:a=!1,...l}=e,[{dialogState:c,unmount:d},m]=Kd("Dialog.Panel"),g=is(t,m.panelRef),y=Vc({open:c===0}),T=re(k=>{k.stopPropagation()}),S={ref:g,id:s,onClick:T},R=a?h_:L.Fragment,V=a?{unmount:d}:{},z=ri();return bt.createElement(R,{...V},z({ourProps:S,theirProps:l,slot:y,defaultTag:g9,name:"Dialog.Panel"}))}let v9="div";function _9(e,t){let{transition:n=!1,...s}=e,[{dialogState:a,unmount:l}]=Kd("Dialog.Backdrop"),c=Vc({open:a===0}),d={ref:t,"aria-hidden":!0},m=n?h_:L.Fragment,g=n?{unmount:l}:{},y=ri();return bt.createElement(m,{...g},y({ourProps:d,theirProps:s,slot:c,defaultTag:v9,name:"Dialog.Backdrop"}))}let T9="h2";function E9(e,t){let n=L.useId(),{id:s=`headlessui-dialog-title-${n}`,...a}=e,[{dialogState:l,setTitleId:c}]=Kd("Dialog.Title"),d=is(t);L.useEffect(()=>(c(s),()=>c(null)),[s,c]);let m=Vc({open:l===0}),g={ref:d,id:s};return ri()({ourProps:g,theirProps:a,slot:m,defaultTag:T9,name:"Dialog.Title"})}let S9=Cn(p9),A9=Cn(y9);Cn(_9);let b9=Cn(E9),w9=Object.assign(S9,{Panel:A9,Title:b9,Description:zU});function R9({product:e,onClose:t}){const{addToCart:n}=a_();return e?at.jsx(Xv,{mode:"wait",children:e&&at.jsx(w9,{as:"div",open:!!e,onClose:t,className:"relative z-50",children:at.jsxs("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:[at.jsx(kn.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm","aria-hidden":"true",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:t},"overlay"),at.jsx(kn.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},className:"relative bg-white rounded-2xl max-w-4xl w-full shadow-2xl overflow-hidden focus:outline-none z-10",children:at.jsxs("div",{className:"flex flex-col md:flex-row",children:[at.jsx("div",{className:"md:w-1/2 bg-gray-50 flex items-center justify-center p-6",children:at.jsx(kn.img,{src:e.image,alt:e.title,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"w-60 h-60 object-contain md:w-72 md:h-72"},e.image)}),at.jsxs("div",{className:"md:w-1/2 p-6 flex flex-col",children:[at.jsx("button",{onClick:t,className:"self-end text-gray-400 hover:text-gray-600 text-2xl font-bold",children:""}),at.jsx("h2",{className:"text-2xl font-bold mb-3 text-gray-800",children:e.title}),at.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:e.description}),at.jsxs("p",{className:"text-2xl font-semibold text-gray-900 mb-6",children:["$",e.price.toFixed(2)]}),at.jsx("button",{onClick:()=>{n({...e,quantity:1}),t()},className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white py-2 px-6 rounded-xl font-medium shadow hover:shadow-lg hover:from-blue-700 hover:to-blue-600 transition-all duration-300",children:"Add to Cart"})]})]})})]})})}):null}function C9(){const[e,t]=L.useState([]),[n,s]=L.useState(!0),[a,l]=L.useState(null),[c,d]=L.useState(null);return L.useEffect(()=>{async function m(){try{const y=await(await fetch("https://fakestoreapi.com/products")).json();t(y)}catch(g){l(g.message)}finally{s(!1)}}m()},[]),n?at.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:at.jsx("p",{className:"text-gray-500 animate-pulse text-lg",children:"Loading products..."})}):a?at.jsxs("p",{className:"text-red-600 text-center font-medium mt-10",children:["Error: ",a]}):at.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-10",children:[at.jsx("h1",{className:"text-3xl font-bold mb-8 text-center text-gray-800",children:"Featured Products"}),at.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:e.map(m=>at.jsx(gU,{product:m,onSelect:d},m.id))}),at.jsx(R9,{product:c,onClose:()=>d(null)})]})}const I9=()=>{const{cart:e,total:t,updateQuantity:n,removeFromCart:s,clearCart:a}=a_();return e.length===0?at.jsxs(kn.div,{className:"min-h-screen flex flex-col items-center justify-center text-center",children:[at.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Your cart is empty."}),at.jsx("p",{className:"text-gray-500",children:"Browse products and add something to your cart!"})]}):at.jsxs(kn.div,{className:"max-w-4xl mx-auto mt-10 p-6 bg-white rounded-2xl shadow-lg",initial:{opacity:9,y:10},animate:{opacity:1,y:0},transition:{duration:.4},children:[at.jsx("h1",{className:"text-3xl font-bold mb-6 border-b pb-3 text-gray-800",children:"Shopping Cart"}),at.jsxs("div",{className:"hidden sm:grid grid-cols-3 font-semibold text-gray-500 pb-2 border-b",children:[at.jsx("span",{children:"Products"}),at.jsx("span",{className:"text-center",children:"Quantity"}),at.jsx("span",{className:"text-right",children:"Price"})]}),at.jsx(Xv,{mode:"popLayout",children:e.map(l=>at.jsxs(kn.div,{layout:!0,initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.25},className:"flex flex-col sm:grid sm:grid-cols-3 sm:items-center justify-between py-5 gap-4 border-b",children:[at.jsxs("div",{className:"flex items-center gap-4",children:[at.jsx("img",{src:l.image,alt:l.title,className:"w-20 h-20 object-contain bg-gray-50 p-2 rounded-xl border"}),at.jsxs("div",{children:[at.jsx("h3",{className:"text-base font-semibold text-gray-800 line-clamp-2",children:l.title}),at.jsxs("p",{className:"text-gray-500 text-sm",children:["$",l.price.toFixed(2)]}),at.jsx("button",{onClick:()=>s(l.id),className:"text-sm text-red-500 hover:text-red-600 hover:underline mt-1 transition",children:"Remove"})]})]}),at.jsxs("div",{className:"flex items-center justify-center gap-3",children:[at.jsx(kn.button,{whileTap:{scale:.9},onClick:()=>n(l.id,-1),className:"px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded-lg text-gray-700 font-bold transition",children:"-"}),at.jsx(kn.span,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.2},className:"text-lg font-medium",children:l.quantity},l.quantity),at.jsx(kn.button,{whileTap:{scale:.9},onClick:()=>n(l.id,1),className:"px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded-lg text-gray-700 font-bold transition",children:"+"})]}),at.jsxs("p",{className:"text-right text-lg font-semibold text-gray-800",children:["$",(l.price*l.quantity).toFixed(2)]})]},l.id))}),at.jsxs(kn.div,{layout:!0,className:"mt-6 pt-6 flex flex-col sm:flex-row justify-between items-center gap-4 border-t",children:[at.jsxs("div",{className:"text-xl font-semibold",children:["Total:"," ",at.jsxs("span",{className:"text-green-600",children:["$",t.toFixed(2)]})]}),at.jsxs("div",{className:"flex gap-3",children:[at.jsx("button",{onClick:()=>{confirm("Are you sure you want to clear your cart?")&&a()},className:"px-5 py-2 rounded-xl bg-red-500 hover:bg-red-600 text-white font-semibold transition",children:"Clear Cart"}),at.jsx("button",{className:"px-6 py-2 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-semibold transition",children:"Checkout"})]})]})]})};function D9(){const{user:e}=bv();return at.jsxs("div",{className:"min-h-screen bg-slate-50 p-6",children:[at.jsxs("header",{className:"flex justify-between items-center max-w-6xl mx-auto mb-6",children:[at.jsx("h1",{className:"text-3xl font-bold",children:"My E-commerce Store"}),at.jsx(O4,{})]}),at.jsxs("main",{className:"max-w-6xl mx-auto",children:[at.jsx(C9,{}),at.jsx(I9,{})]}),e&&at.jsxs("p",{className:"text-center mt-6 text-gray-600",children:["You're signed in as ",at.jsx("strong",{children:e.email})]})]})}_2.createRoot(document.getElementById("root")).render(at.jsx(bt.StrictMode,{children:at.jsx(M4,{children:at.jsx(mU,{children:at.jsx(pU,{children:at.jsx(D9,{})})})})}));
